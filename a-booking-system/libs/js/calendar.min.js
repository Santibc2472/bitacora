(function(window){var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+1*new Date(),preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),sortOrder=function(a,b){if(a===b){hasDuplicate=!0}
return 0},hasOwn=({}).hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=function(list,elem){var i=0,len=list.length;for(;i<len;i++){if(list[i]===elem){return i}}
return-1},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",identifier="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",attributes="\\["+whitespace+"*("+identifier+")(?:"+whitespace+"*([*^$|!~]?=)"+whitespace+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+identifier+"))|)"+whitespace+"*\\]",pseudos=":("+identifier+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+attributes+")*)|"+".*"+")\\)|)",rwhitespace=new RegExp(whitespace+"+","g"),rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rattributeQuotes=new RegExp("="+whitespace+"*([^\\]'\"]*?)"+whitespace+"*\\]","g"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={"ID":new RegExp("^#("+identifier+")"),"CLASS":new RegExp("^\\.("+identifier+")"),"TAG":new RegExp("^("+identifier+"|[*])"),"ATTR":new RegExp("^"+attributes),"PSEUDO":new RegExp("^"+pseudos),"CHILD":new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),"bool":new RegExp("^(?:"+booleans+")$","i"),"needsContext":new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig"),funescape=function(_,escaped,escapedWhitespace){var high="0x"+escaped-0x10000;return high!==high||escapedWhitespace?escaped:high<0?String.fromCharCode(high+0x10000):String.fromCharCode(high>>10|0xD800,high&0x3FF|0xDC00)},rcssescape=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,fcssescape=function(ch,asCodePoint){if(asCodePoint){if(ch==="\0"){return"\uFFFD"}
return ch.slice(0,-1)+"\\"+ch.charCodeAt(ch.length-1).toString(16)+" "}
return"\\"+ch},unloadHandler=function(){setDocument()},disabledAncestor=addCombinator(function(elem){return elem.disabled===!0},{dir:"parentNode",next:"legend"});try{push.apply((arr=slice.call(preferredDoc.childNodes)),preferredDoc.childNodes);arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){var j=target.length,i=0;while((target[j++]=els[i++])){}
target.length=j-1}}}
function Sizzle(selector,context,results,seed){var m,i,elem,nid,match,groups,newSelector,newContext=context&&context.ownerDocument,nodeType=context?context.nodeType:9;results=results||[];if(typeof selector!=="string"||!selector||nodeType!==1&&nodeType!==9&&nodeType!==11){return results}
if(!seed){if((context?context.ownerDocument||context:preferredDoc)!==document){setDocument(context)}
context=context||document;if(documentIsHTML){if(nodeType!==11&&(match=rquickExpr.exec(selector))){if((m=match[1])){if(nodeType===9){if((elem=context.getElementById(m))){if(elem.id===m){results.push(elem);return results}}else{return results}}else{if(newContext&&(elem=newContext.getElementById(m))&&contains(context,elem)&&elem.id===m){results.push(elem);return results}}}else if(match[2]){push.apply(results,context.getElementsByTagName(selector));return results}else if((m=match[3])&&support.getElementsByClassName&&context.getElementsByClassName){push.apply(results,context.getElementsByClassName(m));return results}}
if(support.qsa&&!compilerCache[selector+" "]&&(!rbuggyQSA||!rbuggyQSA.test(selector))){if(nodeType!==1){newContext=context;newSelector=selector}else if(context.nodeName.toLowerCase()!=="object"){if((nid=context.getAttribute("id"))){nid=nid.replace(rcssescape,fcssescape)}else{context.setAttribute("id",(nid=expando))}
groups=tokenize(selector);i=groups.length;while(i--){groups[i]="#"+nid+" "+toSelector(groups[i])}
newSelector=groups.join(",");newContext=rsibling.test(selector)&&testContext(context.parentNode)||context}
if(newSelector){try{push.apply(results,newContext.querySelectorAll(newSelector));return results}catch(qsaError){}finally{if(nid===expando){context.removeAttribute("id")}}}}}}
return select(selector.replace(rtrim,"$1"),context,results,seed)}
function createCache(){var keys=[];function cache(key,value){if(keys.push(key+" ")>Expr.cacheLength){delete cache[keys.shift()]}
return(cache[key+" "]=value)}
return cache}
function markFunction(fn){fn[expando]=!0;return fn}
function assert(fn){var el=document.createElement("fieldset");try{return!!fn(el)}catch(e){return!1}finally{if(el.parentNode){el.parentNode.removeChild(el)}
el=null}}
function addHandle(attrs,handler){var arr=attrs.split("|"),i=arr.length;while(i--){Expr.attrHandle[arr[i]]=handler}}
function siblingCheck(a,b){var cur=b&&a,diff=cur&&a.nodeType===1&&b.nodeType===1&&a.sourceIndex-b.sourceIndex;if(diff){return diff}
if(cur){while((cur=cur.nextSibling)){if(cur===b){return-1}}}
return a?1:-1}
function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type===type}}
function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&elem.type===type}}
function createDisabledPseudo(disabled){return function(elem){return"label" in elem&&elem.disabled===disabled||"form" in elem&&elem.disabled===disabled||"form" in elem&&elem.disabled===!1&&(elem.isDisabled===disabled||elem.isDisabled!==!disabled&&("label" in elem||!disabledAncestor(elem))!==disabled)}}
function createPositionalPseudo(fn){return markFunction(function(argument){argument=+argument;return markFunction(function(seed,matches){var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;while(i--){if(seed[(j=matchIndexes[i])]){seed[j]=!(matches[j]=seed[j])}}})})}
function testContext(context){return context&&typeof context.getElementsByTagName!=="undefined"&&context}
support=Sizzle.support={};isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?documentElement.nodeName!=="HTML":!1};setDocument=Sizzle.setDocument=function(node){var hasCompare,subWindow,doc=node?node.ownerDocument||node:preferredDoc;if(doc===document||doc.nodeType!==9||!doc.documentElement){return document}
document=doc;docElem=document.documentElement;documentIsHTML=!isXML(document);if(preferredDoc!==document&&(subWindow=document.defaultView)&&subWindow.top!==subWindow){if(subWindow.addEventListener){subWindow.addEventListener("unload",unloadHandler,!1)}else if(subWindow.attachEvent){subWindow.attachEvent("onunload",unloadHandler)}}
support.attributes=assert(function(el){el.className="i";return!el.getAttribute("className")});support.getElementsByTagName=assert(function(el){el.appendChild(document.createComment(""));return!el.getElementsByTagName("*").length});support.getElementsByClassName=rnative.test(document.getElementsByClassName);support.getById=assert(function(el){docElem.appendChild(el).id=expando;return!document.getElementsByName||!document.getElementsByName(expando).length});if(support.getById){Expr.find.ID=function(id,context){if(typeof context.getElementById!=="undefined"&&documentIsHTML){var m=context.getElementById(id);return m?[m]:[]}};Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}}}else{delete Expr.find.ID;Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=typeof elem.getAttributeNode!=="undefined"&&elem.getAttributeNode("id");return node&&node.value===attrId}}}
Expr.find.TAG=support.getElementsByTagName?function(tag,context){if(typeof context.getElementsByTagName!=="undefined"){return context.getElementsByTagName(tag)}else if(support.qsa){return context.querySelectorAll(tag)}}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if(tag==="*"){while((elem=results[i++])){if(elem.nodeType===1){tmp.push(elem)}}
return tmp}
return results};Expr.find.CLASS=support.getElementsByClassName&&function(className,context){if(typeof context.getElementsByClassName!=="undefined"&&documentIsHTML){return context.getElementsByClassName(className)}};rbuggyMatches=[];rbuggyQSA=[];if((support.qsa=rnative.test(document.querySelectorAll))){assert(function(el){docElem.appendChild(el).innerHTML="<a id='"+expando+"'></a>"+"<select id='"+expando+"-\r\\' msallowcapture=''>"+"<option selected=''></option></select>";if(el.querySelectorAll("[msallowcapture^='']").length){rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")")}
if(!el.querySelectorAll("[selected]").length){rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")")}
if(!el.querySelectorAll("[id~="+expando+"-]").length){rbuggyQSA.push("~=")}
if(!el.querySelectorAll(":checked").length){rbuggyQSA.push(":checked")}
if(!el.querySelectorAll("a#"+expando+"+*").length){rbuggyQSA.push(".#.+[+~]")}});assert(function(el){el.innerHTML="<a href='' disabled='disabled'></a>"+"<select disabled='disabled'><option/></select>";var input=document.createElement("input");input.setAttribute("type","hidden");el.appendChild(input).setAttribute("name","D");if(el.querySelectorAll("[name=d]").length){rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?=")}
if(el.querySelectorAll(":enabled").length!==2){rbuggyQSA.push(":enabled",":disabled")}
docElem.appendChild(el).disabled=!0;if(el.querySelectorAll(":disabled").length!==2){rbuggyQSA.push(":enabled",":disabled")}
el.querySelectorAll("*,:x");rbuggyQSA.push(",.*:")})}
if((support.matchesSelector=rnative.test((matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector)))){assert(function(el){support.disconnectedMatch=matches.call(el,"*");matches.call(el,"[s!='']:x");rbuggyMatches.push("!=",pseudos)})}
rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|"));rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|"));hasCompare=rnative.test(docElem.compareDocumentPosition);contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=a.nodeType===9?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!(bup&&bup.nodeType===1&&(adown.contains?adown.contains(bup):a.compareDocumentPosition&&a.compareDocumentPosition(bup)&16))}:function(a,b){if(b){while((b=b.parentNode)){if(b===a){return!0}}}
return!1};sortOrder=hasCompare?function(a,b){if(a===b){hasDuplicate=!0;return 0}
var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;if(compare){return compare}
compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;if(compare&1||(!support.sortDetached&&b.compareDocumentPosition(a)===compare)){if(a===document||a.ownerDocument===preferredDoc&&contains(preferredDoc,a)){return-1}
if(b===document||b.ownerDocument===preferredDoc&&contains(preferredDoc,b)){return 1}
return sortInput?(indexOf(sortInput,a)-indexOf(sortInput,b)):0}
return compare&4?-1:1}:function(a,b){if(a===b){hasDuplicate=!0;return 0}
var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup){return a===document?-1:b===document?1:aup?-1:bup?1:sortInput?(indexOf(sortInput,a)-indexOf(sortInput,b)):0}else if(aup===bup){return siblingCheck(a,b)}
cur=a;while((cur=cur.parentNode)){ap.unshift(cur)}
cur=b;while((cur=cur.parentNode)){bp.unshift(cur)}
while(ap[i]===bp[i]){i++}
return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0};return document};Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)};Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document){setDocument(elem)}
expr=expr.replace(rattributeQuotes,"='$1']");if(support.matchesSelector&&documentIsHTML&&!compilerCache[expr+" "]&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr))){try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&elem.document.nodeType!==11){return ret}}catch(e){}}
return Sizzle(expr,document,null,[elem]).length>0};Sizzle.contains=function(context,elem){if((context.ownerDocument||context)!==document){setDocument(context)}
return contains(context,elem)};Sizzle.attr=function(elem,name){if((elem.ownerDocument||elem)!==document){setDocument(elem)}
var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):undefined;return val!==undefined?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null};Sizzle.escape=function(sel){return(sel+"").replace(rcssescape,fcssescape)};Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)};Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;hasDuplicate=!support.detectDuplicates;sortInput=!support.sortStable&&results.slice(0);results.sort(sortOrder);if(hasDuplicate){while((elem=results[i++])){if(elem===results[i]){j=duplicates.push(i)}}
while(j--){results.splice(duplicates[j],1)}}
sortInput=null;return results};getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(!nodeType){while((node=elem[i++])){ret+=getText(node)}}else if(nodeType===1||nodeType===9||nodeType===11){if(typeof elem.textContent==="string"){return elem.textContent}else{for(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=getText(elem)}}}else if(nodeType===3||nodeType===4){return elem.nodeValue}
return ret};Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{"ATTR":function(match){match[1]=match[1].replace(runescape,funescape);match[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape);if(match[2]==="~="){match[3]=" "+match[3]+" "}
return match.slice(0,4)},"CHILD":function(match){match[1]=match[1].toLowerCase();if(match[1].slice(0,3)==="nth"){if(!match[3]){Sizzle.error(match[0])}
match[4]=+(match[4]?match[5]+(match[6]||1):2*(match[3]==="even"||match[3]==="odd"));match[5]=+((match[7]+match[8])||match[3]==="odd")}else if(match[3]){Sizzle.error(match[0])}
return match},"PSEUDO":function(match){var excess,unquoted=!match[6]&&match[2];if(matchExpr.CHILD.test(match[0])){return null}
if(match[3]){match[2]=match[4]||match[5]||""}else if(unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,!0))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)){match[0]=match[0].slice(0,excess);match[2]=unquoted.slice(0,excess)}
return match.slice(0,3)}},filter:{"TAG":function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return nodeNameSelector==="*"?function(){return!0}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},"CLASS":function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test(typeof elem.className==="string"&&elem.className||typeof elem.getAttribute!=="undefined"&&elem.getAttribute("class")||"")})},"ATTR":function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);if(result==null){return operator==="!="}
if(!operator){return!0}
result+="";return operator==="="?result===check:operator==="!="?result!==check:operator==="^="?check&&result.indexOf(check)===0:operator==="*="?check&&result.indexOf(check)>-1:operator==="$="?check&&result.slice(-check.length)===check:operator==="~="?(" "+result.replace(rwhitespace," ")+" ").indexOf(check)>-1:operator==="|="?result===check||result.slice(0,check.length+1)===check+"-":!1}},"CHILD":function(type,what,argument,first,last){var simple=type.slice(0,3)!=="nth",forward=type.slice(-4)!=="last",ofType=what==="of-type";return first===1&&last===0?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,uniqueCache,outerCache,node,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType,diff=!1;if(parent){if(simple){while(dir){node=elem;while((node=node[dir])){if(ofType?node.nodeName.toLowerCase()===name:node.nodeType===1){return!1}}
start=dir=type==="only"&&!start&&"nextSibling"}
return!0}
start=[forward?parent.firstChild:parent.lastChild];if(forward&&useCache){node=parent;outerCache=node[expando]||(node[expando]={});uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={});cache=uniqueCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=nodeIndex&&cache[2];node=nodeIndex&&parent.childNodes[nodeIndex];while((node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())){if(node.nodeType===1&&++diff&&node===elem){uniqueCache[type]=[dirruns,nodeIndex,diff];break}}}else{if(useCache){node=elem;outerCache=node[expando]||(node[expando]={});uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={});cache=uniqueCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=nodeIndex}
if(diff===!1){while((node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())){if((ofType?node.nodeName.toLowerCase()===name:node.nodeType===1)&&++diff){if(useCache){outerCache=node[expando]||(node[expando]={});uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={});uniqueCache[type]=[dirruns,diff]}
if(node===elem){break}}}}}
diff-=last;return diff===first||(diff%first===0&&diff/first>=0)}}},"PSEUDO":function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);if(fn[expando]){return fn(argument)}
if(fn.length>1){args=[pseudo,pseudo,"",argument];return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){var idx,matched=fn(seed,argument),i=matched.length;while(i--){idx=indexOf(seed,matched[i]);seed[idx]=!(matches[idx]=matched[i])}}):function(elem){return fn(elem,0,args)}}
return fn}},pseudos:{"not":markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;while(i--){if((elem=unmatched[i])){seed[i]=!(matches[i]=elem)}}}):function(elem,context,xml){input[0]=elem;matcher(input,null,xml,results);input[0]=null;return!results.pop()}}),"has":markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),"contains":markFunction(function(text){text=text.replace(runescape,funescape);return function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),"lang":markFunction(function(lang){if(!ridentifier.test(lang||"")){Sizzle.error("unsupported lang: "+lang)}
lang=lang.replace(runescape,funescape).toLowerCase();return function(elem){var elemLang;do{if((elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))){elemLang=elemLang.toLowerCase();return elemLang===lang||elemLang.indexOf(lang+"-")===0}}while((elem=elem.parentNode)&&elem.nodeType===1);return!1}}),"target":function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},"root":function(elem){return elem===docElem},"focus":function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},"enabled":createDisabledPseudo(!1),"disabled":createDisabledPseudo(!0),"checked":function(elem){var nodeName=elem.nodeName.toLowerCase();return(nodeName==="input"&&!!elem.checked)||(nodeName==="option"&&!!elem.selected)},"selected":function(elem){if(elem.parentNode){elem.parentNode.selectedIndex}
return elem.selected===!0},"empty":function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling){if(elem.nodeType<6){return!1}}
return!0},"parent":function(elem){return!Expr.pseudos.empty(elem)},"header":function(elem){return rheader.test(elem.nodeName)},"input":function(elem){return rinputs.test(elem.nodeName)},"button":function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type==="button"||name==="button"},"text":function(elem){var attr;return elem.nodeName.toLowerCase()==="input"&&elem.type==="text"&&((attr=elem.getAttribute("type"))==null||attr.toLowerCase()==="text")},"first":createPositionalPseudo(function(){return[0]}),"last":createPositionalPseudo(function(matchIndexes,length){return[length-1]}),"eq":createPositionalPseudo(function(matchIndexes,length,argument){return[argument<0?argument+length:argument]}),"even":createPositionalPseudo(function(matchIndexes,length){var i=0;for(;i<length;i+=2){matchIndexes.push(i)}
return matchIndexes}),"odd":createPositionalPseudo(function(matchIndexes,length){var i=1;for(;i<length;i+=2){matchIndexes.push(i)}
return matchIndexes}),"lt":createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;--i>=0;){matchIndexes.push(i)}
return matchIndexes}),"gt":createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;++i<length;){matchIndexes.push(i)}
return matchIndexes})}};Expr.pseudos.nth=Expr.pseudos.eq;for(i in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){Expr.pseudos[i]=createInputPseudo(i)}
for(i in{submit:!0,reset:!0}){Expr.pseudos[i]=createButtonPseudo(i)}
function setFilters(){}
setFilters.prototype=Expr.filters=Expr.pseudos;Expr.setFilters=new setFilters();tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached){return parseOnly?0:cached.slice(0)}
soFar=selector;groups=[];preFilters=Expr.preFilter;while(soFar){if(!matched||(match=rcomma.exec(soFar))){if(match){soFar=soFar.slice(match[0].length)||soFar}
groups.push((tokens=[]))}
matched=!1;if((match=rcombinators.exec(soFar))){matched=match.shift();tokens.push({value:matched,type:match[0].replace(rtrim," ")});soFar=soFar.slice(matched.length)}
for(type in Expr.filter){if((match=matchExpr[type].exec(soFar))&&(!preFilters[type]||(match=preFilters[type](match)))){matched=match.shift();tokens.push({value:matched,type:type,matches:match});soFar=soFar.slice(matched.length)}}
if(!matched){break}}
return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)};function toSelector(tokens){var i=0,len=tokens.length,selector="";for(;i<len;i++){selector+=tokens[i].value}
return selector}
function addCombinator(matcher,combinator,base){var dir=combinator.dir,skip=combinator.next,key=skip||dir,checkNonElements=base&&key==="parentNode",doneName=done++;return combinator.first?function(elem,context,xml){while((elem=elem[dir])){if(elem.nodeType===1||checkNonElements){return matcher(elem,context,xml)}}}:function(elem,context,xml){var oldCache,uniqueCache,outerCache,newCache=[dirruns,doneName];if(xml){while((elem=elem[dir])){if(elem.nodeType===1||checkNonElements){if(matcher(elem,context,xml)){return!0}}}}else{while((elem=elem[dir])){if(elem.nodeType===1||checkNonElements){outerCache=elem[expando]||(elem[expando]={});uniqueCache=outerCache[elem.uniqueID]||(outerCache[elem.uniqueID]={});if(skip&&skip===elem.nodeName.toLowerCase()){elem=elem[dir]||elem}else if((oldCache=uniqueCache[key])&&oldCache[0]===dirruns&&oldCache[1]===doneName){return(newCache[2]=oldCache[2])}else{uniqueCache[key]=newCache;if((newCache[2]=matcher(elem,context,xml))){return!0}}}}}}}
function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){var i=matchers.length;while(i--){if(!matchers[i](elem,context,xml)){return!1}}
return!0}:matchers[0]}
function multipleContexts(selector,contexts,results){var i=0,len=contexts.length;for(;i<len;i++){Sizzle(selector,contexts[i],results)}
return results}
function condense(unmatched,map,filter,context,xml){var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=map!=null;for(;i<len;i++){if((elem=unmatched[i])){if(!filter||filter(elem,context,xml)){newUnmatched.push(elem);if(mapped){map.push(i)}}}}
return newUnmatched}
function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){if(postFilter&&!postFilter[expando]){postFilter=setMatcher(postFilter)}
if(postFinder&&!postFinder[expando]){postFinder=setMatcher(postFinder,postSelector)}
return markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=preFilter&&(seed||!selector)?condense(elems,preMap,preFilter,context,xml):elems,matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher){matcher(matcherIn,matcherOut,context,xml)}
if(postFilter){temp=condense(matcherOut,postMap);postFilter(temp,[],context,xml);i=temp.length;while(i--){if((elem=temp[i])){matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem)}}}
if(seed){if(postFinder||preFilter){if(postFinder){temp=[];i=matcherOut.length;while(i--){if((elem=matcherOut[i])){temp.push((matcherIn[i]=elem))}}
postFinder(null,(matcherOut=[]),temp,xml)}
i=matcherOut.length;while(i--){if((elem=matcherOut[i])&&(temp=postFinder?indexOf(seed,elem):preMap[i])>-1){seed[temp]=!(results[temp]=elem)}}}}else{matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut);if(postFinder){postFinder(null,results,matcherOut,xml)}else{push.apply(results,matcherOut)}}})}
function matcherFromTokens(tokens){var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,!0),matchAnyContext=addCombinator(function(elem){return indexOf(checkContext,elem)>-1},implicitRelative,!0),matchers=[function(elem,context,xml){var ret=(!leadingRelative&&(xml||context!==outermostContext))||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));checkContext=null;return ret}];for(;i<len;i++){if((matcher=Expr.relative[tokens[i].type])){matchers=[addCombinator(elementMatcher(matchers),matcher)]}else{matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches);if(matcher[expando]){j=++i;for(;j<len;j++){if(Expr.relative[tokens[j].type]){break}}
return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:tokens[i-2].type===" "?"*":""})).replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens((tokens=tokens.slice(j))),j<len&&toSelector(tokens))}
matchers.push(matcher)}}
return elementMatcher(matchers)}
function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG("*",outermost),dirrunsUnique=(dirruns+=contextBackup==null?1:Math.random()||0.1),len=elems.length;if(outermost){outermostContext=context===document||context||outermost}
for(;i!==len&&(elem=elems[i])!=null;i++){if(byElement&&elem){j=0;if(!context&&elem.ownerDocument!==document){setDocument(elem);xml=!documentIsHTML}
while((matcher=elementMatchers[j++])){if(matcher(elem,context||document,xml)){results.push(elem);break}}
if(outermost){dirruns=dirrunsUnique}}
if(bySet){if((elem=!matcher&&elem)){matchedCount--}
if(seed){unmatched.push(elem)}}}
matchedCount+=i;if(bySet&&i!==matchedCount){j=0;while((matcher=setMatchers[j++])){matcher(unmatched,setMatched,context,xml)}
if(seed){if(matchedCount>0){while(i--){if(!(unmatched[i]||setMatched[i])){setMatched[i]=pop.call(results)}}}
setMatched=condense(setMatched)}
push.apply(results,setMatched);if(outermost&&!seed&&setMatched.length>0&&(matchedCount+setMatchers.length)>1){Sizzle.uniqueSort(results)}}
if(outermost){dirruns=dirrunsUnique;outermostContext=contextBackup}
return unmatched};return bySet?markFunction(superMatcher):superMatcher}
compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){if(!match){match=tokenize(selector)}
i=match.length;while(i--){cached=matcherFromTokens(match[i]);if(cached[expando]){setMatchers.push(cached)}else{elementMatchers.push(cached)}}
cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers));cached.selector=selector}
return cached};select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled=typeof selector==="function"&&selector,match=!seed&&tokenize((selector=compiled.selector||selector));results=results||[];if(match.length===1){tokens=match[0]=match[0].slice(0);if(tokens.length>2&&(token=tokens[0]).type==="ID"&&support.getById&&context.nodeType===9&&documentIsHTML&&Expr.relative[tokens[1].type]){context=(Expr.find.ID(token.matches[0].replace(runescape,funescape),context)||[])[0];if(!context){return results}else if(compiled){context=context.parentNode}
selector=selector.slice(tokens.shift().value.length)}
i=matchExpr.needsContext.test(selector)?0:tokens.length;while(i--){token=tokens[i];if(Expr.relative[(type=token.type)]){break}
if((find=Expr.find[type])){if((seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context))){tokens.splice(i,1);selector=seed.length&&toSelector(tokens);if(!selector){push.apply(results,seed);return results}
break}}}}(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,!context||rsibling.test(selector)&&testContext(context.parentNode)||context);return results};support.sortStable=expando.split("").sort(sortOrder).join("")===expando;support.detectDuplicates=!!hasDuplicate;setDocument();support.sortDetached=assert(function(el){return el.compareDocumentPosition(document.createElement("fieldset"))&1});if(!assert(function(el){el.innerHTML="<a href='#'></a>";return el.firstChild.getAttribute("href")==="#"})){addHandle("type|href|height|width",function(elem,name,isXML){if(!isXML){return elem.getAttribute(name,name.toLowerCase()==="type"?1:2)}})}
if(!support.attributes||!assert(function(el){el.innerHTML="<input/>";el.firstChild.setAttribute("value","");return el.firstChild.getAttribute("value")===""})){addHandle("value",function(elem,name,isXML){if(!isXML&&elem.nodeName.toLowerCase()==="input"){return elem.defaultValue}})}
if(!assert(function(el){return el.getAttribute("disabled")==null})){addHandle(booleans,function(elem,name,isXML){var val;if(!isXML){return elem[name]===!0?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null}})}
var _sizzle=window.Sizzle;Sizzle.noConflict=function(){if(window.Sizzle===Sizzle){window.Sizzle=_sizzle}
return Sizzle};if(typeof define==="function"&&define.amd){define(function(){return Sizzle})}else if(typeof module!=="undefined"&&module.exports){module.exports=Sizzle}else{window.Sizzle=Sizzle}})(window);var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj};var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj};var wdhInputDatepicker=!0;function Flatpickr(element,config){var self=this;function init(){self.element=element;self.instanceConfig=config||{};setupFormats();parseConfig();setupInputs();setupDates();setupHelperFunctions();self.isOpen=self.config.inline;self.changeMonth=changeMonth;self.clear=clear;self.close=close;self.destroy=destroy;self.formatDate=formatDate;self.jumpToDate=jumpToDate;self.open=open;self.parseDate=parseDate;self.redraw=redraw;self.set=set;self.setDate=setDate;self.toggle=toggle;self.isMobile=!self.config.disableMobile&&!self.config.disable.length&&!self.config.enable.length&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);if(!self.isMobile)build();bind();if(self.selectedDates.length)updateValue();triggerEvent("Ready")}
function updateTime(e){timeWrapper(e);updateValue()}
function bind(){if(self.config.wrap){["open","close","toggle","clear"].forEach(function(el){try{self.element.querySelector("[data-"+el+"]").addEventListener("click",self[el])}catch(e){}})}
if(self.isMobile)return setupMobile();if(typeof Event!=="undefined")self.changeEvent=new Event("change",{"bubbles":!0});else{self.changeEvent=document.createEvent("HTMLEvents");self.changeEvent.initEvent("change",!0,!1)}
self.debouncedResize=debounce(onResize,100);self.triggerChange=function(){return triggerEvent("Change")};self.debouncedChange=debounce(self.triggerChange,1000);document.addEventListener("keydown",onKeyDown);window.addEventListener("resize",self.debouncedResize);document.addEventListener("click",documentClick);document.addEventListener("blur",documentClick);if(self.config.clickOpens)(self.altInput||self.input).addEventListener("focus",open);if(!self.config.noCalendar){self.prevMonthNav.addEventListener("click",function(){return changeMonth(-1)});self.nextMonthNav.addEventListener("click",function(){return changeMonth(1)});self.currentYearElement.addEventListener("wheel",yearScroll);self.currentYearElement.addEventListener("focus",function(){self.currentYearElement.select()});self.currentYearElement.addEventListener("input",function(event){if(event.target.value.length===4)self.currentYearElement.blur();self.currentYear=parseInt(event.target.value,10)||self.currentYear;self.redraw()});self.days.addEventListener("click",selectDate)}
if(self.config.enableTime){self.timeContainer.addEventListener("wheel",updateTime);self.timeContainer.addEventListener("input",updateTime);self.timeContainer.addEventListener("wheel",self.debouncedChange);self.timeContainer.addEventListener("input",self.triggerChange);self.hourElement.addEventListener("focus",function(){self.hourElement.select()});self.minuteElement.addEventListener("focus",function(){self.minuteElement.select()});if(self.secondElement){self.secondElement.addEventListener("focus",function(){self.secondElement.select()})}
if(self.amPM)self.amPM.addEventListener("click",updateTime)}}
function jumpToDate(jumpDate){jumpDate=jumpDate?parseDate(jumpDate):latestSelectedDateObj()||self.config.defaultDate||self.config.minDate||self.now;self.currentYear=jumpDate.getFullYear();self.currentMonth=jumpDate.getMonth();self.redraw()}
function getInputType(){if(navigator.userAgent.indexOf("MSIE 9.0")>0)return"text";return"number"}
function build(){var fragment=document.createDocumentFragment();self.calendarContainer=createElement("div","flatpickr-calendar");if(!self.config.noCalendar){fragment.appendChild(buildMonthNav());if(self.config.weekNumbers)fragment.appendChild(buildWeeks());self.rContainer=createElement("div","flatpickr-rContainer");self.rContainer.appendChild(buildWeekdays());self.rContainer.appendChild(buildDays());fragment.appendChild(self.rContainer)}
if(self.config.enableTime)fragment.appendChild(buildTime());self.calendarContainer.appendChild(fragment);if(self.config.inline||self.config.static){self.calendarContainer.classList.add(self.config.inline?"inline":"static");positionCalendar();self.element.parentNode.insertBefore(self.calendarContainer,(self.altInput||self.input).nextSibling)}else document.body.appendChild(self.calendarContainer)}
function buildDays(){if(!self.days){self.days=createElement("div","flatpickr-days");self.days.tabIndex=-1}
var firstOfMonth=(new Date(self.currentYear,self.currentMonth,1).getDay()-Flatpickr.l10n.firstDayOfWeek+7)%7,daysInMonth=self.utils.getDaysinMonth(),prevMonthDays=self.utils.getDaysinMonth((self.currentMonth-1+12)%12),days=document.createDocumentFragment();var dayNumber=prevMonthDays+1-firstOfMonth,currentDate=void 0,dateIsDisabled=void 0;if(self.config.weekNumbers)self.weekNumbers.innerHTML="";self.days.innerHTML="";for(;dayNumber<=prevMonthDays;dayNumber++){var curDate=new Date(self.currentYear,self.currentMonth-1,dayNumber,0,0,0,0,0),dateIsEnabled=isEnabled(curDate),dayElement=createElement("span","flatpickr-day prevMonthDay"+(dateIsEnabled?"":" disabled"),dayNumber);if(dateIsEnabled)dayElement.tabIndex=0;triggerEvent("DayCreate",dayElement);days.appendChild(dayElement)}
for(dayNumber=1;dayNumber<=daysInMonth;dayNumber++){currentDate=new Date(self.currentYear,self.currentMonth,dayNumber,0,0,0,0,0);if(self.config.weekNumbers&&dayNumber%7===1){self.weekNumbers.insertAdjacentHTML("beforeend","<span class='disabled flatpickr-day'>"+self.getWeek(currentDate)+"</span>")}
dateIsDisabled=!isEnabled(currentDate);var _dayElement=createElement("span",dateIsDisabled?"flatpickr-day disabled":"flatpickr-day",dayNumber);if(!dateIsDisabled){_dayElement.tabIndex=0;if(equalDates(currentDate,self.now))_dayElement.classList.add("today");if(isDateSelected(currentDate)){_dayElement.classList.add("selected");self.selectedDateElem=_dayElement}}
triggerEvent("DayCreate",_dayElement);days.appendChild(_dayElement)}
for(var dayNum=daysInMonth+1;dayNum<=42-firstOfMonth;dayNum++){var _curDate=new Date(self.currentYear,self.currentMonth+1,dayNum%daysInMonth,0,0,0,0,0),_dateIsEnabled=isEnabled(_curDate),_dayElement2=createElement("span","flatpickr-day nextMonthDay"+(_dateIsEnabled?"":" disabled"),dayNum%daysInMonth);if(self.config.weekNumbers&&dayNum%7===1){self.weekNumbers.insertAdjacentHTML("beforeend","<span class='disabled flatpickr-day'>"+self.getWeek(_curDate)+"</span>")}
if(_dateIsEnabled)_dayElement2.tabIndex=0;triggerEvent("DayCreate",_dayElement2);days.appendChild(_dayElement2)}
self.days.appendChild(days);return self.days}
function buildMonthNav(){var monthNavFragment=document.createDocumentFragment();self.monthNav=createElement("div","flatpickr-month");self.prevMonthNav=createElement("span","flatpickr-prev-month");self.prevMonthNav.innerHTML=self.config.prevArrow;self.currentMonthElement=createElement("span","cur-month");self.currentYearElement=createElement("input","cur-year");self.currentYearElement.type=getInputType();self.currentYearElement.title=Flatpickr.l10n.scrollTitle;if(self.config.minDate)self.currentYearElement.min=self.config.minDate.getFullYear();if(self.config.maxDate)self.currentYearElement.max=self.config.maxDate.getFullYear();self.nextMonthNav=createElement("span","flatpickr-next-month");self.nextMonthNav.innerHTML=self.config.nextArrow;self.navigationCurrentMonth=createElement("span","flatpickr-current-month");self.navigationCurrentMonth.appendChild(self.currentMonthElement);self.navigationCurrentMonth.appendChild(self.currentYearElement);monthNavFragment.appendChild(self.prevMonthNav);monthNavFragment.appendChild(self.navigationCurrentMonth);monthNavFragment.appendChild(self.nextMonthNav);self.monthNav.appendChild(monthNavFragment);updateNavigationCurrentMonth();return self.monthNav}
function buildTime(){self.calendarContainer.classList.add("hasTime");self.timeContainer=createElement("div","flatpickr-time");self.timeContainer.tabIndex=-1;var separator=createElement("span","flatpickr-time-separator",":");self.hourElement=createElement("input","flatpickr-hour");self.minuteElement=createElement("input","flatpickr-minute");self.hourElement.tabIndex=self.minuteElement.tabIndex=0;self.hourElement.type=self.minuteElement.type=getInputType();self.hourElement.value=pad(latestSelectedDateObj()?latestSelectedDateObj().getHours():self.config.defaultHour);self.minuteElement.value=pad(latestSelectedDateObj()?latestSelectedDateObj().getMinutes():self.config.defaultMinute);self.hourElement.step=self.config.hourIncrement;self.minuteElement.step=self.config.minuteIncrement;self.hourElement.min=-(self.config.time_24hr?1:0);self.hourElement.max=self.config.time_24hr?24:13;self.minuteElement.min=-self.minuteElement.step;self.minuteElement.max=60;self.hourElement.title=self.minuteElement.title=Flatpickr.l10n.scrollTitle;self.timeContainer.appendChild(self.hourElement);self.timeContainer.appendChild(separator);self.timeContainer.appendChild(self.minuteElement);if(self.config.enableSeconds){self.timeContainer.classList.add("has-seconds");self.secondElement=createElement("input","flatpickr-second");self.secondElement.type=getInputType();self.secondElement.value=latestSelectedDateObj()?pad(latestSelectedDateObj().getSeconds()):"00";self.secondElement.step=self.minuteElement.step;self.secondElement.min=self.minuteElement.min;self.secondElement.max=self.minuteElement.max;self.timeContainer.appendChild(createElement("span","flatpickr-time-separator",":"));self.timeContainer.appendChild(self.secondElement)}
if(!self.config.time_24hr){self.amPM=createElement("span","flatpickr-am-pm",["AM","PM"][self.hourElement.value>11|0]);self.amPM.title=Flatpickr.l10n.toggleTitle;self.amPM.tabIndex=0;self.timeContainer.appendChild(self.amPM)}
return self.timeContainer}
function buildWeekdays(){if(!self.weekdayContainer)self.weekdayContainer=createElement("div","flatpickr-weekdays");var firstDayOfWeek=Flatpickr.l10n.firstDayOfWeek;var weekdays=Flatpickr.l10n.weekdays.shorthand.slice();if(firstDayOfWeek>0&&firstDayOfWeek<weekdays.length){weekdays=[].concat(weekdays.splice(firstDayOfWeek,weekdays.length),weekdays.splice(0,firstDayOfWeek))}
self.weekdayContainer.innerHTML="\n\t\t<span class=flatpickr-weekday>\n\t\t\t"+weekdays.join("</span><span class=flatpickr-weekday>")+"\n\t\t</span>\n\t\t";return self.weekdayContainer}
function buildWeeks(){self.calendarContainer.classList.add("hasWeeks");self.weekWrapper=createElement("div","flatpickr-weekwrapper");self.weekWrapper.appendChild(createElement("span","flatpickr-weekday",Flatpickr.l10n.weekAbbreviation));self.weekNumbers=createElement("div","flatpickr-weeks");self.weekWrapper.appendChild(self.weekNumbers);return self.weekWrapper}
function changeMonth(offset){self.currentMonth+=offset;handleYearChange();updateNavigationCurrentMonth();buildDays();if(!self.config.noCalendar)self.days.focus()}
function clear(){self.input.value="";if(self.altInput)self.altInput.value="";self.selectedDates=[];triggerEvent("Change");jumpToDate(self.now)}
function close(){self.isOpen=!1;self.calendarContainer.classList.remove("open");(self.altInput||self.input).classList.remove("active");triggerEvent("Close")}
function destroy(){self.calendarContainer.parentNode.removeChild(self.calendarContainer);self.input.value="";if(self.altInput){self.input.type="text";self.altInput.parentNode.removeChild(self.altInput)}
self.input.classList.remove("flatpickr-input");self.input.removeEventListener("focus",open);self.input.removeAttribute("readonly");document.removeEventListener("keydown",onKeyDown);window.removeEventListener("resize",self.debouncedResize);document.removeEventListener("click",documentClick);document.removeEventListener("blur",documentClick);delete self.input._flatpickr;delete self.input}
function documentClick(e){var isCalendarElement=self.calendarContainer.contains(e.target),isInput=self.element.contains(e.target)||e.target===self.altInput;if(self.isOpen&&!isCalendarElement&&!isInput)self.close()}
function formatDate(frmt,dateObj){var chars=frmt.split("");return chars.map(function(c,i){return self.formats[c]&&chars[i-1]!=="\\"?self.formats[c](dateObj):c!=="\\"?c:""}).join("")}
function handleYearChange(){if(self.currentMonth<0||self.currentMonth>11){self.currentYear+=self.currentMonth%11;self.currentMonth=(self.currentMonth+12)%12}}
function isEnabled(dateToCheck){if(self.config.minDate&&dateToCheck<self.config.minDate||self.config.maxDate&&dateToCheck>self.config.maxDate)return!1;if(!self.config.enable.length&&!self.config.disable.length)return!0;dateToCheck=parseDate(dateToCheck,!0);var bool=self.config.enable.length>0,array=bool?self.config.enable:self.config.disable;var d=void 0;for(var i=0;i<array.length;i++){d=array[i];if(d instanceof Function&&d(dateToCheck))
return bool;else if((d instanceof Date||typeof d==="string")&&parseDate(d,!0).getTime()===dateToCheck.getTime())
return bool;else if((typeof d==="undefined"?"undefined":_typeof(d))==="object"&&d.from&&d.to&&dateToCheck>=parseDate(d.from)&&dateToCheck<=parseDate(d.to))return bool}
return!bool}
function onKeyDown(e){if(self.isOpen){switch(e.which){case 13:if(self.timeContainer&&self.timeContainer.contains(e.target))updateValue();else selectDate(e);break;case 27:self.close();break;case 37:if(e.target!==self.input&e.target!==self.altInput)changeMonth(-1);break;case 38:e.preventDefault();if(self.timeContainer&&self.timeContainer.contains(e.target))updateTime(e);else{self.currentYear++;self.redraw()}
break;case 39:if(e.target!==self.input&e.target!==self.altInput)changeMonth(1);break;case 40:e.preventDefault();if(self.timeContainer&&self.timeContainer.contains(e.target))updateTime(e);else{self.currentYear--;self.redraw()}
break;default:break}}}
function onResize(){if(self.isOpen&&!self.config.inline&&!self.config.static)positionCalendar()}
function open(e){if(self.isMobile){e.preventDefault();e.target.blur();setTimeout(function(){self.mobileInput.click()},0);triggerEvent("Open");return}else if(self.isOpen||(self.altInput||self.input).disabled||self.config.inline)return;self.calendarContainer.classList.add("open");if(!self.config.static)positionCalendar();self.isOpen=!0;if(!self.config.allowInput){(self.altInput||self.input).blur();(self.config.noCalendar?self.timeContainer:self.selectedDates.length?self.selectedDateElem:self.days).focus()}(self.altInput||self.input).classList.add("active");triggerEvent("Open")}
function pad(number){return("0"+number).slice(-2)}
function parseConfig(){self.config={};for(var _config in self.instanceConfig){self.config[_config]=self.instanceConfig[_config]}for(var k in self.element.dataset||{}){self.config[k]=typeof Flatpickr.defaultConfig[k]==="boolean"?self.element.dataset[k]!=="false":self.element.dataset[k]}
if(!self.config.dateFormat&&self.config.enableTime){self.config.dateFormat=self.config.noCalendar?"H:i"+(self.config.enableSeconds?":S":""):Flatpickr.defaultConfig.dateFormat+" H:i"+(self.config.enableSeconds?":S":"")}
if(self.config.altInput&&self.config.enableTime&&!self.config.altFormat){self.config.altFormat=self.config.noCalendar?"h:i"+(self.config.enableSeconds?":S K":" K"):Flatpickr.defaultConfig.altFormat+(" h:i"+(self.config.enableSeconds?":S":"")+" K")}
for(var _k in Flatpickr.defaultConfig){self.config[_k]=typeof self.config[_k]!=="undefined"?self.config[_k]:Flatpickr.defaultConfig[_k]}}
function parseDate(date){var timeless=arguments.length<=1||arguments[1]===undefined?!1:arguments[1];if(!date)return null;var dateTimeRegex=/(\d+)/g,timeRegex=/^(\d{1,2})[:\s](\d\d)?[:\s](\d\d)?\s?(a|p)?/i;if(typeof date==="string"){date=date.trim();if(date==="today"){date=new Date();timeless=!0}else if(self.config.parseDate)date=self.config.parseDate(date);else if(timeRegex.test(date)){var m=date.match(timeRegex),hours=!m[4]?m[1]:m[1]%12+(m[4].toLowerCase()==="p"?12:0);date=new Date();date.setHours(hours,m[2]||0,m[3]||0)}else if(/Z$/.test(date)||/GMT$/.test(date))
date=new Date(date);else if(dateTimeRegex.test(date)&&/^[0-9]/.test(date)){var d=date.match(dateTimeRegex);date=new Date(d[0]+"/"+(d[1]||1)+"/"+(d[2]||1)+" "+(d[3]||0)+":"+(d[4]||0)+":"+(d[5]||0))}else date=new Date(date)}
if(!(date instanceof Date)||!date.getTime()){console.warn("flatpickr: invalid date "+date);console.info(self.element);return null}
if(self.config.utc&&!date.fp_isUTC)date=date.fp_toUTC();if(timeless)date.setHours(0,0,0,0);return date}
function positionCalendar(){var calendarHeight=self.calendarContainer.offsetHeight,input=self.altInput||self.input,inputBounds=input.getBoundingClientRect(),distanceFromBottom=window.innerHeight-inputBounds.bottom+input.offsetHeight;var top=void 0,left=window.pageXOffset+inputBounds.left;if(distanceFromBottom<calendarHeight){top=window.pageYOffset-calendarHeight+inputBounds.top-2;self.calendarContainer.classList.remove("arrowTop");self.calendarContainer.classList.add("arrowBottom")}else{top=window.pageYOffset+input.offsetHeight+inputBounds.top+2;self.calendarContainer.classList.remove("arrowBottom");self.calendarContainer.classList.add("arrowTop")}
if(!self.config.inline&&!self.config.static){self.calendarContainer.style.top=top+"px";self.calendarContainer.style.left=left+"px"}}
function redraw(){if(self.config.noCalendar||self.isMobile)return;buildWeekdays();updateNavigationCurrentMonth();buildDays()}
function selectDate(e){e.preventDefault();e.stopPropagation();if(self.config.allowInput&&e.which===13&&(e.target===self.altInput||e.target===self.input))return self.setDate((self.altInput||self.input).value);var isPrevMonthDay=e.target.classList.contains("prevMonthDay"),isNextMonthDay=e.target.classList.contains("nextMonthDay");if(!e.target.classList.contains("flatpickr-day")||e.target.classList.contains("disabled"))return;if(isPrevMonthDay||isNextMonthDay)changeMonth(+isNextMonthDay-isPrevMonthDay);var selectedDate=new Date(self.currentYear,self.currentMonth,e.target.textContent);if(self.config.mode==="single")self.selectedDates=[selectedDate];else if(self.config.mode==="multiple"){var selectedIndex=isDateSelected(selectedDate);if(selectedIndex)self.selectedDates.splice(selectedIndex,1);else self.selectedDates.push(selectedDate)}else if(self.config.mode==="range"){if(self.selectedDates.length<2)self.selectedDates.push(selectedDate);else{var closerDateIndex=Math.abs(self.selectedDates[0].getTime()-selectedDate.getTime())>=Math.abs(self.selectedDates[1].getTime()-selectedDate.getTime());self.selectedDates[+closerDateIndex]=selectedDate}}
updateValue();buildDays();triggerEvent("Change");if(self.config.mode==="single"&&!self.config.enableTime)self.close()}
function set(option,value){if((option==="minDate"||option==="maxDate")&&parseDate(value)){self.config[option]=parseDate(value);self.redraw()}else self.config[option]=value;jumpToDate()}
function setDate(date,triggerChange){if(self.config.mode==="single")date=[parseDate(date)];else if(Array.isArray(date)){for(var i=0;i<date.length;i++){date[i]=parseDate(date[i]);if(!date[i])return}}
self.selectedDates=date;jumpToDate(self.selectedDates[0]);updateValue(!1);if(triggerChange)triggerEvent("Change")}
function setupDates(){self.selectedDates=[];self.now=new Date();var inputDate=self.config.defaultDate||self.input.value;if(Array.isArray(inputDate))self.selectedDates=inputDate.map(parseDate);else if(inputDate&&parseDate(inputDate)){switch(self.config.mode){case "single":self.selectedDates=[parseDate(inputDate)];break;case "multiple":self.selectedDates=inputDate.split("; ").map(parseDate);break;case "range":self.selectedDates=inputDate.split(" to ").map(parseDate);break;default:break}}
if(self.config.minDate)self.config.minDate=parseDate(self.config.minDate,!0);if(self.config.maxDate)self.config.maxDate=parseDate(self.config.maxDate,!0);var initialDate=self.selectedDates.length?self.selectedDates[0]:self.config.defaultDate||self.config.minDate||self.now;self.currentYear=initialDate.getFullYear();self.currentMonth=initialDate.getMonth()}
function setupFormats(){self.formats={D:function D(date){return Flatpickr.l10n.weekdays.shorthand[self.formats.w(date)]},F:function F(date){return self.utils.monthToStr(self.formats.n(date)-1,!1)},H:function H(date){return pad(date.getHours())},J:function J(date){return date.getDate()+Flatpickr.l10n.ordinal(date.getDate())},K:function K(date){return date.getHours()>11?"PM":"AM"},M:function M(date){return self.utils.monthToStr(date.getMonth(),!0)},S:function S(date){return pad(date.getSeconds())},U:function U(date){return date.getTime()/1000},Y:function Y(date){return date.getFullYear()},d:function d(date){return pad(self.formats.j(date))},h:function h(date){return date.getHours()%12?date.getHours()%12:12},i:function i(date){return pad(date.getMinutes())},j:function j(date){return date.getDate()},l:function l(date){return Flatpickr.l10n.weekdays.longhand[self.formats.w(date)]},m:function m(date){return pad(self.formats.n(date))},n:function n(date){return date.getMonth()+1},s:function s(date){return date.getSeconds()},w:function w(date){return date.getDay()},y:function y(date){return String(self.formats.Y(date)).substring(2)}}}
function setupHelperFunctions(){self.utils={getDaysinMonth:function getDaysinMonth(){var month=arguments.length<=0||arguments[0]===undefined?self.currentMonth:arguments[0];var yr=arguments.length<=1||arguments[1]===undefined?self.currentYear:arguments[1];if(month===1&&yr%4===0&&yr%100!==0||yr%400===0)return 29;return Flatpickr.l10n.daysInMonth[month]},monthToStr:function monthToStr(monthNumber){var short=arguments.length<=1||arguments[1]===undefined?self.config.shorthandCurrentMonth:arguments[1];return Flatpickr.l10n.months[(short?"short":"long")+"hand"][monthNumber]}}}
function setupInputs(){self.input=self.config.wrap?self.element.querySelector("[data-input]"):self.element;self.input.classList.add("flatpickr-input");if(self.config.altInput){self.altInput=createElement(self.input.nodeName,"flatpickr-input "+self.config.altInputClass);self.altInput.placeholder=self.input.placeholder;self.altInput.type="text";self.input.type="hidden";self.input.parentNode.insertBefore(self.altInput,self.input.nextSibling)}
if(!self.config.allowInput)(self.altInput||self.input).setAttribute("readonly","readonly")}
function setupMobile(){var inputType=self.config.enableTime?self.config.noCalendar?"time":"datetime-local":"date";self.mobileInput=createElement("input","flatpickr-input flatpickr-mobile");self.mobileInput.step="any";self.mobileInput.tabIndex=-1;self.mobileInput.type=inputType;if(self.selectedDates.length){self.mobileFormatStr=inputType==="datetime-local"?"Y-m-d\\TH:i:S":inputType==="date"?"Y-m-d":"H:i:S";self.mobileInput.defaultValue=self.mobileInput.value=formatDate(self.mobileFormatStr,self.selectedDates[0])}
if(self.config.minDate)self.mobileInput.min=formatDate("Y-m-d",self.config.minDate);if(self.config.maxDate)self.mobileInput.max=formatDate("Y-m-d",self.config.maxDate);self.input.type="hidden";if(self.config.altInput)self.altInput.type="hidden";try{self.input.parentNode.insertBefore(self.mobileInput,self.input.nextSibling)}catch(e){}
self.mobileInput.addEventListener("change",function(e){self.setDate(e.target.value);triggerEvent("Change");triggerEvent("Close")})}
function toggle(){if(self.isOpen)self.close();else self.open()}
function triggerEvent(event,data){if(self.config["on"+event]){var hooks=Array.isArray(self.config["on"+event])?self.config["on"+event]:[self.config["on"+event]];for(var i=0;i<hooks.length;i++){hooks[i](self.selectedDates,self.input.value,self,data)}}
if(event==="Change")self.input.dispatchEvent(self.changeEvent)}
function latestSelectedDateObj(){if(self.selectedDates.length)return self.selectedDates[self.selectedDates.length-1];return null}
function isDateSelected(date){if(self.selectedDates.length){for(var i=0;i<self.selectedDates.length;i++){if(equalDates(self.selectedDates[i],date))return""+i}}
return!1}
function updateNavigationCurrentMonth(){self.currentMonthElement.textContent=self.utils.monthToStr(self.currentMonth)+" ";self.currentYearElement.value=self.currentYear;if(self.config.minDate){self.currentYearElement.min=self.config.minDate.getFullYear();var hidePrevMonthArrow=self.currentYear===self.config.minDate.getFullYear()?(self.currentMonth+11)%12<self.config.minDate.getMonth():self.currentYear<self.config.minDate.getFullYear();self.prevMonthNav.style.display=hidePrevMonthArrow?"none":"block"}else{self.currentYearElement.removeAttribute("min");self.prevMonthNav.style.display="block"}
if(self.config.maxDate){var hideNextMonthArrow=self.currentYear===self.config.maxDate.getFullYear()?self.currentMonth+1>self.config.maxDate.getMonth():self.currentYear>self.config.maxDate.getFullYear();self.nextMonthNav.style.display=hideNextMonthArrow?"none":"block";self.currentYearElement.max=self.config.maxDate.getFullYear()}else{self.currentYearElement.removeAttribute("max");self.nextMonthNav.style.display="block"}}
function updateValue(){var readTimeInput=arguments.length<=0||arguments[0]===undefined?!0:arguments[0];if(self.config.noCalendar&&!self.selectedDates.length)
self.selectedDates=[self.now];else if(!self.selectedDates.length)return;if(self.config.enableTime&&!self.isMobile){var hours=void 0,minutes=void 0,seconds=void 0;if(readTimeInput){hours=parseInt(self.hourElement.value,10)||0;minutes=(60+(parseInt(self.minuteElement.value,10)||0))%60;if(self.config.enableSeconds)seconds=(60+parseInt(self.secondElement.value,10)||0)%60;if(!self.config.time_24hr)
hours=hours%12+12*(self.amPM.innerHTML==="PM");self.selectedDates[self.selectedDates.length-1].setHours(hours,minutes,seconds||0,0)}else{hours=latestSelectedDateObj().getHours();minutes=latestSelectedDateObj().getMinutes();seconds=latestSelectedDateObj().getSeconds()}
self.hourElement.value=pad(!self.config.time_24hr?(12+hours)%12+12*(hours%12===0):hours);self.minuteElement.value=pad(minutes);if(!self.config.time_24hr)self.amPM.textContent=hours>=12?"PM":"AM";if(self.config.enableSeconds)self.secondElement.value=pad(seconds)}
if(self.isMobile)self.mobileInput.value=formatDate(self.mobileFormatStr,latestSelectedDateObj());switch(self.config.mode){case "single":self.input.value=formatDate(self.config.dateFormat,latestSelectedDateObj());if(self.altInput)self.altInput.value=formatDate(self.config.altFormat,latestSelectedDateObj());break;case "multiple":self.input.value=self.selectedDates.map(function(dObj){return formatDate(self.config.dateFormat,dObj)}).join("; ");if(self.altInput)self.altInput.value=self.selectedDates.map(function(dObj){return formatDate(self.config.altFormat,dObj)}).join("; ");break;case "range":if(self.selectedDates.length===2)(self.altInput||self.input).value=self.selectedDates.map(function(dObj){return formatDate(self.config.dateFormat,dObj)}).join(" to ");else(self.altInput||self.input).value=formatDate(self.config.dateFormat,latestSelectedDateObj());break}
triggerEvent("ValueUpdate")}
function yearScroll(e){e.preventDefault();var delta=Math.max(-1,Math.min(1,e.wheelDelta||-e.deltaY));self.currentYear=e.target.value=parseInt(e.target.value,10)+delta;self.redraw()}
function createElement(tag){var className=arguments.length<=1||arguments[1]===undefined?"":arguments[1];var content=arguments.length<=2||arguments[2]===undefined?"":arguments[2];var e=document.createElement(tag);e.className=className;if(content)e.textContent=content;return e}
function debounce(func,wait,immediate){var timeout=void 0;return function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}
var context=this;var later=function later(){timeout=null;if(!immediate)func.apply(context,args)};clearTimeout(timeout);timeout=setTimeout(later,wait);if(immediate&&!timeout)func.apply(context,args)}}
function equalDates(date1,date2){return date1.getDate()===date2.getDate()&&date1.getMonth()===date2.getMonth()&&date1.getFullYear()===date2.getFullYear()}
function timeWrapper(e){e.preventDefault();if(e&&((e.target.value||e.target.textContent).length>=2||e.type!=="keydown"&&e.type!=="input"))e.target.blur();if(e.target.className==="flatpickr-am-pm"){e.target.textContent=["AM","PM"][e.target.textContent==="AM"|0];e.stopPropagation();return}
var min=parseInt(e.target.min,10),max=parseInt(e.target.max,10),step=parseInt(e.target.step,10),value=parseInt(e.target.value,10);var newValue=value;if(e.type==="wheel")newValue=value+step*Math.max(-1,Math.min(1,e.wheelDelta||-e.deltaY));else if(e.type==="keydown")newValue=value+step*(e.which===38?1:-1);if(newValue<=min)newValue=max-step;else if(newValue>=max)newValue=min+step;e.target.value=pad(newValue)}
init();return self}
Flatpickr.defaultConfig={mode:"single",utc:!1,wrap:!1,weekNumbers:!1,allowInput:!1,clickOpens:!0,time_24hr:!1,enableTime:!1,noCalendar:!1,dateFormat:"Y-m-d",altInput:null,altInputClass:"",altFormat:"F j, Y",defaultDate:null,minDate:null,maxDate:null,parseDate:null,enable:[],disable:[],shorthandCurrentMonth:!1,inline:!1,static:!1,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",enableSeconds:!1,hourIncrement:1,minuteIncrement:5,defaultHour:12,defaultMinute:0,disableMobile:!1,onChange:null,onOpen:null,onClose:null,onReady:null,onValueUpdate:null,onDayCreate:null};Flatpickr.l10n={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function ordinal(nth){var s=nth%100;if(s>3&&s<21)return"th";switch(s%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle"};Flatpickr.localize=function(l10n){Object.keys(l10n).forEach(function(k){return Flatpickr.l10n[k]=l10n[k]})};function _flatpickr(nodeList,config){var instances=[];for(var i=0;i<nodeList.length;i++){if(nodeList[i]._flatpickr)nodeList[i]._flatpickr.destroy();try{nodeList[i]._flatpickr=new Flatpickr(nodeList[i],config||{});instances.push(nodeList[i]._flatpickr)}catch(e){console.warn(e,e.stack)}}
return instances.length===1?instances[0]:instances}
HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(config){return _flatpickr(this,config)};HTMLElement.prototype.flatpickr=function(config){return _flatpickr([this],config)};function flatpickr(selector,config){return _flatpickr(document.querySelectorAll(selector),config)}
if(typeof jQuery!=="undefined"){jQuery.fn.flatpickr=function(config){return _flatpickr(this,config)}}
Date.prototype.fp_incr=function(days){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+parseInt(days,10))};Date.prototype.fp_isUTC=!1;Date.prototype.fp_toUTC=function(){var newDate=new Date(this.getUTCFullYear(),this.getUTCMonth(),this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds());newDate.fp_isUTC=!0;return newDate};Flatpickr.prototype.getWeek=function(givenDate){var date=new Date(givenDate.getTime());date.setHours(0,0,0,0);date.setDate(date.getDate()+3-(date.getDay()+6)%7);var week1=new Date(date.getFullYear(),0,4);return 1+Math.round(((date.getTime()-week1.getTime())/86400000-3+(week1.getDay()+6)%7)/7)};if(!("classList" in document.documentElement)&&Object.defineProperty&&typeof HTMLElement!=="undefined"){Object.defineProperty(HTMLElement.prototype,"classList",{get:function get(){var self=this;function update(fn){return function(value){var classes=self.className.split(/\s+/),index=classes.indexOf(value);fn(classes,index,value);self.className=classes.join(" ")}}
var ret={add:update(function(classes,index,value){if(!~index)classes.push(value)}),remove:update(function(classes,index){if(~index)classes.splice(index,1)}),toggle:update(function(classes,index,value){if(~index)classes.splice(index,1);else classes.push(value)}),contains:function contains(value){return!!~self.className.split(/\s+/).indexOf(value)},item:function item(i){return self.className.split(/\s+/)[i]||null}};Object.defineProperty(ret,"length",{get:function get(){return self.className.split(/\s+/).length}});return ret}})}
if(typeof module!=="undefined")module.exports=Flatpickr;if(typeof JSON!=="object"){JSON={}}(function(){"use strict";var rx_one=/^[\],:{}\s]*$/;var rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g;var rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g;var rx_four=/(?:^|:|,)(?:\s*\[)+/g;var rx_escapable=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;var rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function f(n){return n<10?"0"+n:n}
function this_value(){return this.valueOf()}
if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};Boolean.prototype.toJSON=this_value;Number.prototype.toJSON=this_value;String.prototype.toJSON=this_value}
var gap;var indent;var meta;var rep;function quote(string){rx_escapable.lastIndex=0;return rx_escapable.test(string)?"\""+string.replace(rx_escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+"\"":"\""+string+"\""}
function str(key,holder){var i;var k;var v;var length;var mind=gap;var partial;var value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}
if(typeof rep==="function"){value=rep.call(holder,key,value)}
switch(typeof value){case "string":return quote(value);case "number":return isFinite(value)?String(value):"null";case "boolean":case "null":return String(value);case "object":if(!value){return"null"}
gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}
v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}
if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}
v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}
if(typeof JSON.stringify!=="function"){meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\"":"\\\"","\\":"\\\\"};JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else if(typeof space==="string"){indent=space}
rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}
return str("",{"":value})}}
if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k;var v;var value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}
return reviver.call(holder,key,value)}
text=String(text);rx_dangerous.lastIndex=0;if(rx_dangerous.test(text)){text=text.replace(rx_dangerous,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}
if(rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,""))){j=eval("("+text+")");return(typeof reviver==="function")?walk({"":j},""):j}
throw new SyntaxError("JSON.parse")}}}());var Shortcode=function(el,tags,fnShortcode){if(!el){return}
this.el=el;this.tags=tags;this.matches=[];this.regex='\\[{name}(\\s[\\s\\S]*?)?\\]'+'(?:((?!\\s*?(?:\\[{name}|\\[\\/(?!{name})))[\\s\\S]*?)'+'(\\[\/{name}\\]))?';if(this.el.jquery){this.el=this.el[0]}
this.matchTags();this.convertMatchesToNodes();this.replaceNodes();fnShortcode(this.matches[0].options)};Shortcode.prototype.matchTags=function(){var html=this.el.outerHTML,instances,match,re,contents,regex,tag,options;for(var key in this.tags){if(!this.tags.hasOwnProperty(key)){return}
re=this.template(this.regex,{name:key});instances=html.match(new RegExp(re,'g'))||[];for(var i=0,len=instances.length;i<len;i++){match=instances[i].match(new RegExp(re));contents=match[3]?'':undefined;tag=match[0];regex=this.escapeTagRegExp(tag);options=this.parseOptions(match[1]);if(match[2]){contents=match[2].trim();tag=tag.replace(contents,'').replace(/\n\s*/g,'');regex=this.escapeTagRegExp(tag).replace('\\]\\[','\\]([\\s\\S]*?)\\[')}
this.matches.push({name:key,tag:tag,regex:regex,options:options,contents:contents})}}};Shortcode.prototype.convertMatchesToNodes=function(){var html=this.el.innerHTML,excludes,re,replacer;replacer=function(match,p1,p2,p3,p4,offset,string){if(p1){return match}else{var node=document.createElement('span');node.setAttribute('data-sc-tag',this.tag);node.className='sc-node sc-node-'+this.name;return node.outerHTML}};for(var i=0,len=this.matches.length;i<len;i++){excludes='((data-sc-tag=")|(<pre.*)|(<code.*))?';re=new RegExp(excludes+this.matches[i].regex,'g');html=html.replace(re,replacer.bind(this.matches[i]))}
this.el.innerHTML=html};Shortcode.prototype.replaceNodes=function(){var self=this,html,match,result,done,node,fn,replacer,nodes=this.el.querySelectorAll('.sc-node');replacer=function(result){if(result.jquery){result=result[0]}
result=self.parseCallbackResult(result);node.parentNode.replaceChild(result,node)};for(var i=0,len=this.matches.length;i<len;i++){match=this.matches[i];node=this.el.querySelector('.sc-node-'+match.name);if(node&&node.dataset.scTag===match.tag){fn=this.tags[match.name].bind(match);done=replacer.bind(match);result=fn(done);if(result!==undefined){done(result)}}}};Shortcode.prototype.parseCallbackResult=function(result){var container,fragment,children;switch(typeof result){case 'function':result=document.createTextNode(result());break;case 'string':container=document.createElement('div');fragment=document.createDocumentFragment();container.innerHTML=result;children=container.childNodes;if(children.length){for(var i=0,len=children.length;i<len;i++){fragment.appendChild(children[i].cloneNode(!0))}
result=fragment}else{result=document.createTextNode(result)}
break;case 'object':if(!result.nodeType){result=JSON.stringify(result);result=document.createTextNode(result)}
break;case 'default':break}
return result};Shortcode.prototype.parseOptions=function(stringOptions){var options={},set;if(!stringOptions){return}
set=stringOptions.replace(/(\w+=)/g,'\n$1').split('\n');set.shift();for(var i=0;i<set.length;i++){var kv=set[i].split('=');options[kv[0]]=kv[1].replace(/\'|\"/g,'').trim()}
return options};Shortcode.prototype.escapeTagRegExp=function(regex){return regex.replace(/[\[\]\/]/g,'\\$&')};Shortcode.prototype.template=function(s,d){for(var p in d){s=s.replace(new RegExp('{'+p+'}','g'),d[p])}
return s};String.prototype.trim=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,'')};window.isMobile=function(){var check=!1;(function(a){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))check=!0})(navigator.userAgent||navigator.vendor||window.opera);return check};if(dev123===undefined&&window.dev123===undefined){var dev123={visible:!1,chrome:!0,password:'',data:[],tries:0,maxTries:3,log:function(message,color,header,category){if(dev123.visible){dev123.display(message,color,header,category)}else{dev123.save(message,color,header,category)}},start:function(){window.addEventListener("keypress",dev123.shortcut)},shortcut:function(e){if(e.keyCode===12){dev123.autostart()}},autostart:function(){if(dev123.password!==''){var password=prompt("Developer password:","Type your developer password.");if(dev123.e(window.location.hostname,password)===dev123.password){dev123.show(category,password);dev123.tries=0}else{dev123.tries++;if(dev123.tries<dev123.maxTries){alert('Wrong developer password. Please try again.');dev123.autostart()}else{alert('Wrong developer password.')}}}else{var category=prompt("Category:","Type your log category here or leave empty for all.");dev123.show(category)}},pwd:function(password){dev123.password=dev123.e(window.location.hostname,password)},visibility:function(visible){dev123.visible=visible},allBrowsers:function(){dev123.chrome=!0},show:function(category,password){if(password===dev123.password||dev123.password===''){dev123.visible=!0;if(category===undefined||category===''){for(var i in dev123.data){if(dev123.data[i].message!==undefined){dev123.display(dev123.data[i])}else{for(var j=0;j<dev123.data[i].length;j++){dev123.display(dev123.data[i][j])}}}}else{if(dev123.data[category]!==undefined){for(var i=0;i<dev123.data[category].length;i++){dev123.display(dev123.data[category][i])}}}}else{return'wrong password'}
return'----------------------------------------------------------------------------------------------------------------'},save:function(message,color,header,category){var devData=[];devData.message=typeof message==='string'?'%c'+message:message;devData.color=typeof message==='string'?dev123.getColor(color):'';devData.header=header!==undefined?header:'';if(category===undefined){dev123.data.push(devData)}else{if(dev123.data[category]===undefined){dev123.data[category]=[]}
dev123.data[category].push(devData)}},display:function(message,color,header,category){var isChrome=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor);isChrome=dev123.chrome?isChrome:!0;if(isChrome){if(color!==undefined&&color!==''){if(header!==undefined&&header!==''){console.log('%c'+header,dev123.getColor('good')+' font-size:18px;')}
message=typeof message==='string'?'%c'+message:message;color=typeof message==='string'?dev123.getColor(color):'';if(color!==''){console.log(message,color)}else{console.log(message)}}else{if(typeof message==='string'){console.log(message)}else if(typeof message==='object'){if(message.header!==undefined&&message.header!==''){console.log('%c'+message.header,dev123.getColor('good')+' font-size:18px;')}
console.log(message.message,message.color)}}}},getColor:function(color){var retColor=dev123.normal();switch(color){case "error":retColor=dev123.error();break;case "good":retColor=dev123.good();break;default:retColor=dev123.normal();break}
return retColor},good:function(){var color='background: #009900; color: #fff;';return color},error:function(){var color='background: #ef4e5a; color: #fff;';return color},normal:function(){var color='color: #000;';return color},e:function(key,value){var result="";for(i=0;i<value.length;++i){result+=String.fromCharCode(key[i%key.length]^value.charCodeAt(i))}
return result}};dev123.start();window.dev123=dev123}
var wdhDelay=function(){var timer=0;return function(callback,ms){clearTimeout(timer);timer=setTimeout(callback,ms)}}();var wdhFixSpaces=function(wdhString){wdhString=wdhString.replace(/\n/g,"");wdhString=wdhString.replace(/[\t ]+\</g,"<");wdhString=wdhString.replace(/\>[\t ]+\</g,"><");wdhString=wdhString.replace(/\>[\t ]+$/g,">");wdhString=wdhString.replace(/(?=^|>)\s+|\s+(?=<|$)/g,"");return wdhString};var $_GET=function(param){window.wdhAutoSelectToday=!1;var vars={},wdh_bec_start_date_found=!1,wdh_bec_end_date_found=!1;window.location.href.replace(location.hash,'').replace(/[?&]+([^=&]+)=?([^&]*)?/gi,function(m,key,value){vars[key]=value!==undefined?value:'';if(key==='wdh_bec_start_date'){wdh_bec_start_date_found=!0}
if(key==='wdh_bec_end_date'){wdh_bec_end_date_found=!0}
if(key==='bec_go'){wdh_bec_start_date_found=!0;wdh_bec_end_date_found=!0}});if(!wdh_bec_start_date_found){var todayDate=new Date(),todayDay=todayDate.getDate(),todayMonth=todayDate.getMonth()+1,todayYear=todayDate.getFullYear(),today_converted=(parseInt(todayDay)<10?'0'+todayDay:todayDay)+'-'+(parseInt(todayMonth)<10?'0'+todayMonth:todayMonth)+'-'+todayYear;vars.wdh_bec_start_date=today_converted;window.wdhAutoSelectToday=!0}
if(!wdh_bec_end_date_found){var todayDate=new Date(),todayDay=todayDate.getDate(),todayMonth=todayDate.getMonth()+1,todayYear=todayDate.getFullYear(),today_converted=(parseInt(todayDay)<10?'0'+todayDay:todayDay)+'-'+(parseInt(todayMonth)<10?'0'+todayMonth:todayMonth)+'-'+todayYear;vars.wdh_bec_end_date=today_converted;window.wdhAutoSelectToday=!0}
if(window.WDH_BEC_REACT_GET!==undefined){if(window.WDH_BEC_REACT_GET.wdh_bec_start_date!==undefined){vars.wdh_bec_start_date=window.WDH_BEC_REACT_GET.wdh_bec_start_date}
if(window.WDH_BEC_REACT_GET.wdh_bec_end_date!==undefined){vars.wdh_bec_end_date=window.WDH_BEC_REACT_GET.wdh_bec_end_date}}
if(param){return vars[param]?vars[param]:null}
return vars};var wdhCookies={create:function(key,value,time){eval("window."+key+"_bmd_data = '"+value+"';")},erase:function(key){eval('delete window.'+key+'_bmd_data;')},read:function(key){var tempData=eval('window.'+key+'_bmd_data');tempData=tempData===undefined?null:tempData;return tempData}};var wdhCountries=[{"code":"+7 840","name":"Abkhazia"},{"code":"+93","name":"Afghanistan"},{"code":"+355","name":"Albania"},{"code":"+213","name":"Algeria"},{"code":"+1 684","name":"American Samoa"},{"code":"+376","name":"Andorra"},{"code":"+244","name":"Angola"},{"code":"+1 264","name":"Anguilla"},{"code":"+1 268","name":"Antigua and Barbuda"},{"code":"+54","name":"Argentina"},{"code":"+374","name":"Armenia"},{"code":"+297","name":"Aruba"},{"code":"+247","name":"Ascension"},{"code":"+61","name":"Australia"},{"code":"+672","name":"Australian External Territories"},{"code":"+43","name":"Austria"},{"code":"+994","name":"Azerbaijan"},{"code":"+1 242","name":"Bahamas"},{"code":"+973","name":"Bahrain"},{"code":"+880","name":"Bangladesh"},{"code":"+1 246","name":"Barbados"},{"code":"+1 268","name":"Barbuda"},{"code":"+375","name":"Belarus"},{"code":"+32","name":"Belgium"},{"code":"+501","name":"Belize"},{"code":"+229","name":"Benin"},{"code":"+1 441","name":"Bermuda"},{"code":"+975","name":"Bhutan"},{"code":"+591","name":"Bolivia"},{"code":"+387","name":"Bosnia and Herzegovina"},{"code":"+267","name":"Botswana"},{"code":"+55","name":"Brazil"},{"code":"+246","name":"British Indian Ocean Territory"},{"code":"+1 284","name":"British Virgin Islands"},{"code":"+673","name":"Brunei"},{"code":"+359","name":"Bulgaria"},{"code":"+226","name":"Burkina Faso"},{"code":"+257","name":"Burundi"},{"code":"+855","name":"Cambodia"},{"code":"+237","name":"Cameroon"},{"code":"+1","name":"Canada"},{"code":"+238","name":"Cape Verde"},{"code":"+ 345","name":"Cayman Islands"},{"code":"+236","name":"Central African Republic"},{"code":"+235","name":"Chad"},{"code":"+56","name":"Chile"},{"code":"+86","name":"China"},{"code":"+61","name":"Christmas Island"},{"code":"+61","name":"Cocos-Keeling Islands"},{"code":"+57","name":"Colombia"},{"code":"+269","name":"Comoros"},{"code":"+242","name":"Congo"},{"code":"+243","name":"Congo, Dem. Rep. of (Zaire)"},{"code":"+682","name":"Cook Islands"},{"code":"+506","name":"Costa Rica"},{"code":"+385","name":"Croatia"},{"code":"+53","name":"Cuba"},{"code":"+599","name":"Curacao"},{"code":"+537","name":"Cyprus"},{"code":"+420","name":"Czech Republic"},{"code":"+45","name":"Denmark"},{"code":"+246","name":"Diego Garcia"},{"code":"+253","name":"Djibouti"},{"code":"+1 767","name":"Dominica"},{"code":"+1 809","name":"Dominican Republic"},{"code":"+670","name":"East Timor"},{"code":"+56","name":"Easter Island"},{"code":"+593","name":"Ecuador"},{"code":"+20","name":"Egypt"},{"code":"+503","name":"El Salvador"},{"code":"+240","name":"Equatorial Guinea"},{"code":"+291","name":"Eritrea"},{"code":"+372","name":"Estonia"},{"code":"+251","name":"Ethiopia"},{"code":"+500","name":"Falkland Islands"},{"code":"+298","name":"Faroe Islands"},{"code":"+679","name":"Fiji"},{"code":"+358","name":"Finland"},{"code":"+33","name":"France"},{"code":"+596","name":"French Antilles"},{"code":"+594","name":"French Guiana"},{"code":"+689","name":"French Polynesia"},{"code":"+241","name":"Gabon"},{"code":"+220","name":"Gambia"},{"code":"+995","name":"Georgia"},{"code":"+49","name":"Germany"},{"code":"+233","name":"Ghana"},{"code":"+350","name":"Gibraltar"},{"code":"+30","name":"Greece"},{"code":"+299","name":"Greenland"},{"code":"+1 473","name":"Grenada"},{"code":"+590","name":"Guadeloupe"},{"code":"+1 671","name":"Guam"},{"code":"+502","name":"Guatemala"},{"code":"+224","name":"Guinea"},{"code":"+245","name":"Guinea-Bissau"},{"code":"+595","name":"Guyana"},{"code":"+509","name":"Haiti"},{"code":"+504","name":"Honduras"},{"code":"+852","name":"Hong Kong SAR China"},{"code":"+36","name":"Hungary"},{"code":"+354","name":"Iceland"},{"code":"+91","name":"India"},{"code":"+62","name":"Indonesia"},{"code":"+98","name":"Iran"},{"code":"+964","name":"Iraq"},{"code":"+353","name":"Ireland"},{"code":"+972","name":"Israel"},{"code":"+39","name":"Italy"},{"code":"+225","name":"Ivory Coast"},{"code":"+1 876","name":"Jamaica"},{"code":"+81","name":"Japan"},{"code":"+962","name":"Jordan"},{"code":"+7 7","name":"Kazakhstan"},{"code":"+254","name":"Kenya"},{"code":"+686","name":"Kiribati"},{"code":"+965","name":"Kuwait"},{"code":"+996","name":"Kyrgyzstan"},{"code":"+856","name":"Laos"},{"code":"+371","name":"Latvia"},{"code":"+961","name":"Lebanon"},{"code":"+266","name":"Lesotho"},{"code":"+231","name":"Liberia"},{"code":"+218","name":"Libya"},{"code":"+423","name":"Liechtenstein"},{"code":"+370","name":"Lithuania"},{"code":"+352","name":"Luxembourg"},{"code":"+853","name":"Macau SAR China"},{"code":"+389","name":"Macedonia"},{"code":"+261","name":"Madagascar"},{"code":"+265","name":"Malawi"},{"code":"+60","name":"Malaysia"},{"code":"+960","name":"Maldives"},{"code":"+223","name":"Mali"},{"code":"+356","name":"Malta"},{"code":"+692","name":"Marshall Islands"},{"code":"+596","name":"Martinique"},{"code":"+222","name":"Mauritania"},{"code":"+230","name":"Mauritius"},{"code":"+262","name":"Mayotte"},{"code":"+52","name":"Mexico"},{"code":"+691","name":"Micronesia"},{"code":"+1 808","name":"Midway Island"},{"code":"+373","name":"Moldova"},{"code":"+377","name":"Monaco"},{"code":"+976","name":"Mongolia"},{"code":"+382","name":"Montenegro"},{"code":"+1664","name":"Montserrat"},{"code":"+212","name":"Morocco"},{"code":"+95","name":"Myanmar"},{"code":"+264","name":"Namibia"},{"code":"+674","name":"Nauru"},{"code":"+977","name":"Nepal"},{"code":"+31","name":"Netherlands"},{"code":"+599","name":"Netherlands Antilles"},{"code":"+1 869","name":"Nevis"},{"code":"+687","name":"New Caledonia"},{"code":"+64","name":"New Zealand"},{"code":"+505","name":"Nicaragua"},{"code":"+227","name":"Niger"},{"code":"+234","name":"Nigeria"},{"code":"+683","name":"Niue"},{"code":"+672","name":"Norfolk Island"},{"code":"+850","name":"North Korea"},{"code":"+1 670","name":"Northern Mariana Islands"},{"code":"+47","name":"Norway"},{"code":"+968","name":"Oman"},{"code":"+92","name":"Pakistan"},{"code":"+680","name":"Palau"},{"code":"+970","name":"Palestinian Territory"},{"code":"+507","name":"Panama"},{"code":"+675","name":"Papua New Guinea"},{"code":"+595","name":"Paraguay"},{"code":"+51","name":"Peru"},{"code":"+63","name":"Philippines"},{"code":"+48","name":"Poland"},{"code":"+351","name":"Portugal"},{"code":"+1 787","name":"Puerto Rico"},{"code":"+974","name":"Qatar"},{"code":"+262","name":"Reunion"},{"code":"+40","name":"Romania"},{"code":"+7","name":"Russia"},{"code":"+250","name":"Rwanda"},{"code":"+685","name":"Samoa"},{"code":"+378","name":"San Marino"},{"code":"+966","name":"Saudi Arabia"},{"code":"+221","name":"Senegal"},{"code":"+381","name":"Serbia"},{"code":"+248","name":"Seychelles"},{"code":"+232","name":"Sierra Leone"},{"code":"+65","name":"Singapore"},{"code":"+421","name":"Slovakia"},{"code":"+386","name":"Slovenia"},{"code":"+677","name":"Solomon Islands"},{"code":"+27","name":"South Africa"},{"code":"+500","name":"South Georgia and the South Sandwich Islands"},{"code":"+82","name":"South Korea"},{"code":"+34","name":"Spain"},{"code":"+94","name":"Sri Lanka"},{"code":"+249","name":"Sudan"},{"code":"+597","name":"Suriname"},{"code":"+268","name":"Swaziland"},{"code":"+46","name":"Sweden"},{"code":"+41","name":"Switzerland"},{"code":"+963","name":"Syria"},{"code":"+886","name":"Taiwan"},{"code":"+992","name":"Tajikistan"},{"code":"+255","name":"Tanzania"},{"code":"+66","name":"Thailand"},{"code":"+670","name":"Timor Leste"},{"code":"+228","name":"Togo"},{"code":"+690","name":"Tokelau"},{"code":"+676","name":"Tonga"},{"code":"+1 868","name":"Trinidad and Tobago"},{"code":"+216","name":"Tunisia"},{"code":"+90","name":"Turkey"},{"code":"+993","name":"Turkmenistan"},{"code":"+1 649","name":"Turks and Caicos Islands"},{"code":"+688","name":"Tuvalu"},{"code":"+1 340","name":"U.S. Virgin Islands"},{"code":"+256","name":"Uganda"},{"code":"+380","name":"Ukraine"},{"code":"+971","name":"United Arab Emirates"},{"code":"+44","name":"United Kingdom"},{"code":"+1","name":"United States"},{"code":"+598","name":"Uruguay"},{"code":"+998","name":"Uzbekistan"},{"code":"+678","name":"Vanuatu"},{"code":"+58","name":"Venezuela"},{"code":"+84","name":"Vietnam"},{"code":"+1 808","name":"Wake Island"},{"code":"+681","name":"Wallis and Futuna"},{"code":"+967","name":"Yemen"},{"code":"+260","name":"Zambia"},{"code":"+255","name":"Zanzibar"},{"code":"+263","name":"Zimbabwe"}];var wdhRemoveWhitespaces=/(?=^|>)\s+|\s+(?=<|$)/g;(function(){"use strict";var _$_=function(value){if(!(this instanceof _$_)){return new _$_(value)}
this.version="1.0";this.myArgs=arguments;this.loading=!1;if(typeof this.myArgs[0]==='string'){this.selector=Sizzle(this.myArgs[0])}else{this.selector=document}
this.allTags=function(callfn){for(var selectorKey=0;selectorKey<this.selector.length;selectorKey++){callfn(this.selector[selectorKey])}}
return this};_$_.plugin=_$_.prototype={init:function(){}};window._$_=window.$jGrowUp=window.$GUP=_$_})();(function(){"use strict";$GUP.plugin.isNumber=function(n){return!isNaN(parseFloat(n))&&isFinite(n)};$GUP.plugin.post=function(myurl,mydata,succesFunction,errorFunction){if(!$GUP.loading){$GUP.loading=!0;var request=new XMLHttpRequest();request.open('POST',myurl,!0);request.setRequestHeader('Content-Type','application/x-www-form-urlencoded; charset=UTF-8');request.onload=function(){if(request.status>=200&&request.status<400){var resp=request.responseText;$GUP.loading=!1;succesFunction(resp)}else{$GUP.loading=!1;if(errorFunction===undefined){console.log(request)}else{errorFunction(request)}}};request.onerror=function(){$GUP.loading=!1;errorFunction(request)};var newData=[];for(var key in mydata){if(typeof mydata[key]==='object'){newData.push(key+'='+JSON.stringify(mydata[key]))}else{newData.push(key+'='+mydata[key])}}
request.send(newData.join('&'))}};$GUP.plugin.get=function(myurl,succesFunction,errorFunction){$GUP.loading=!0;var request=new XMLHttpRequest();request.open('GET',myurl,!0);if(succesFunction===undefined){succesFunction=function(){}}
if(errorFunction===undefined){errorFunction=function(){}}
request.onload=function(){if(request.status>=200&&request.status<400){var resp=request.responseText;$GUP.loading=!1;succesFunction(resp,request)}else{$GUP.loading=!1;errorFunction(request)}};request.onerror=function(){$GUP.loading=!1;errorFunction(request)};request.send()};$GUP.plugin.extend=function(out){out=out||{};for(var i=1;i<arguments.length;i++){var obj=arguments[i];if(!obj)
continue;for(var key in obj){if(obj.hasOwnProperty(key)){if(typeof obj[key]==='object'){if(key==='selected'){out[key]=obj[key].map(function(item){return parseInt(item)})}else if(key==='booked_hours'){out[key]=obj[key].map(function(item){return parseInt(item)})}else{out[key]=$GUP.plugin.extend(out[key],obj[key])}}else{out[key]=obj[key]}}}}
return out};$GUP.plugin.fadeIn=function(myTime){myTime=myTime||400;this.allTags(function(el){var opacity=0;el.style.opacity=0;el.style.filter='';el.style.display='block';var last=+new Date();var tick=function(){opacity+=(new Date()-last)/myTime;el.style.opacity=opacity;el.style.filter='alpha(opacity='+(100*opacity)|0+')';last=+new Date();if(opacity<1){(window.requestAnimationFrame&&requestAnimationFrame(tick))||setTimeout(tick,16)}};tick()});return this};$GUP.plugin.events=[];$GUP.plugin.lastEventID='';$GUP.plugin.ready=function(fn){if(this.selector.readyState!=='loading'){fn()}else{this.selector.addEventListener('DOMContentLoaded',fn)}};$GUP.plugin.unbind=function(event,eventID){this.allTags(function(el){if(event!==undefined){if(event.indexOf(' ')!==-1){var event=el.split(' ');for(var i=0;i<events.length;i++){el.removeEventListener(events[i],$GUP.plugin.events[eventID],!1)}}else{el.removeEventListener(event,$GUP.plugin.events[eventID],!1)}
delete $GUP.plugin.events[eventID]}});return this};$GUP.plugin.bind=function(event,eventID,fn){$GUP.plugin.events[eventID]=fn;this.allTags(function(el){$GUP.plugin.lastEventID='#'+el.getAttribute('id');if(event!==undefined){if(event.indexOf(' ')!==-1){var events=event.split(' ');for(var i=0;i<events.length;i++){el.addEventListener(events[i],$GUP.plugin.events[eventID],!1)}}else{el.addEventListener(event,$GUP.plugin.events[eventID],!1)}}});return this};$GUP.plugin.each=function(fn){var elements=this.selector;Array.prototype.forEach.call(elements,function(el,i){fn(el,i)});return this};$GUP.plugin.hover=function(fnHover,fnOut){if(fnOut===undefined){fnOut=function(){}}
this.allTags(function(el){el.addEventListener('mouseover',function(event){fnHover(event)},!1);el.addEventListener('mouseout',function(event){fnOut(event)},!1)});return this};$GUP.plugin.html=function(attrValue){var tempAttrValue='';this.allTags(function(el){if(attrValue===undefined){tempAttrValue=wdhFixSpaces(el.innerHTML)}else{el.innerHTML=wdhFixSpaces(attrValue)}});if(tempAttrValue!==''){return tempAttrValue}else{return this}};$GUP.plugin.append=function(attrValue){var tempAttrValue='';this.allTags(function(el){el.innerHTML+=wdhFixSpaces(attrValue)});return this};$GUP.plugin.prepend=function(attrValue){var tempAttrValue='';this.allTags(function(el){el.innerHTML=wdhFixSpaces(attrValue)+el.innerHTML});return this};$GUP.plugin.remove=function(){this.allTags(function(el){el.parentNode.removeChild(el)});return this};$GUP.plugin.before=function(attrValue){var tempAttrValue='';this.allTags(function(el){el.insertAdjacentHTML('beforebegin',wdhFixSpaces(attrValue))});return this};$GUP.plugin.after=function(attrValue){var tempAttrValue='';this.allTags(function(el){el.insertAdjacentHTML('afterend',wdhFixSpaces(attrValue))});return this};$GUP.plugin.hasClass=function(attrValue){var tempAttrValue;this.allTags(function(el){if(el.classList)
tempAttrValue=el.classList.contains(attrValue);else tempAttrValue=new RegExp('(^| )'+attrValue+'( |$)','gi').test(el.attrValue)});return tempAttrValue};$GUP.plugin.attr=function(attrName,attrValue){var tempAttrValue='';this.allTags(function(el){if(attrValue===undefined){tempAttrValue=el.getAttribute(attrName)}else{el.setAttribute(attrName,attrValue)}});if(tempAttrValue!==''){return tempAttrValue}};$GUP.plugin.css=function(attrName,attrValue){var tempAttrValue='';this.allTags(function(el){if(attrValue===undefined){tempAttrValue=getComputedStyle(el)[attrName]}else{el.style[attrName]=attrValue}});if(tempAttrValue!==''){return tempAttrValue}};$GUP.plugin.width=function(attrValue){var tempAttrValue='';this.allTags(function(el){if(attrValue===undefined){tempAttrValue=parseFloat(getComputedStyle(el)['width'])}else{if($GUP.plugin.isNumber(attrValue)){attrValue=attrValue+'px'}
el.style.width=attrValue}});if(tempAttrValue!==''){return tempAttrValue}else{return this}};$GUP.plugin.height=function(attrValue){var tempAttrValue='';this.allTags(function(el){if(attrValue===undefined){tempAttrValue=parseFloat(getComputedStyle(el)['height'])}else{if($GUP.plugin.isNumber(attrValue)){attrValue=attrValue+'px'}
el.style.height=attrValue}});if(tempAttrValue!==''){return tempAttrValue}else{return this}};$GUP.plugin.find=function(attrName){var tempAttrValue=[];this.allTags(function(el){tempAttrValue.push(el.querySelector(attrName))});if(tempAttrValue!==''){return tempAttrValue}};$GUP.plugin.parent=function(attrName){var tempAttrValue;this.allTags(function(el){tempAttrValue=el.parentNode});return tempAttrValue};$GUP.plugin.addClass=function(className){this.allTags(function(el){if(el.classList)
el.classList.add(className);else el.className+=' '+className});return this};$GUP.plugin.removeClass=function(className){this.allTags(function(el){if(el.classList)
el.classList.remove(className);else el.className=el.className.replace(new RegExp('(^|\\b)'+className.split(' ').join('|')+'(\\b|$)','gi'),' ')});return this}}());Date.prototype.getWeek=function(){  var date=new Date(this.getTime());   date.setHours(0,0,0,0); 
  date.setDate(date.getDate()+3-(date.getDay()+6)%7); 
  var week1=new Date(date.getFullYear(),0,4); 
  return 1+Math.round(((date.getTime()-week1.getTime())/86400000
                       -3+(week1.getDay()+6)%7)/7)};Date.prototype.daysMoreLess=       Date.prototype.daysMoreLess||       function(days){         days=days||0;         var ystrdy=new Date(this.setDate(this.getDate()+days));         this.setDate(this.getDate()+ -days);         return ystrdy};Date.prototype.monthsMoreLess=       Date.prototype.monthsMoreLess||       function(months){         months=months||0;         var ystrdy=new Date(this.setMonth(this.getMonth()+months));         this.setMonth(this.getMonth()+ -months);         return ystrdy};window.firstBookedDay='';window.firstBookedhour='';window.firstBECLoaded=!1;window.BECShortcodeLoaded=!1;(function($GUP){    'use strict';    $GUP.plugin.wdhBecBooking=function(options){        var CalendarData={id:0,referral_id:0,                            selected:[],                            available:[],                            language:"auto",                            type:"single",                            api_key:"",                            server:"www",                            location_use:!1,                            category_use:!1,                            on_facebook:'false',mode:'days',                            css_class:'',                            name:"",                            check_in:"14:00",                            check_out:"12:00",cover:"",                            no_photo:"",estimated_price:"false",estimated_price_to:"",                            endpoint:'https://www.bookeu.live/',booking_protection:'https://book.eu.com/terms-and-conditions-for-guests/#booking-protection',use_cookies:"true",use_hours:"false",account_type:"free",stripe_fee_added:!1,stripe_fee:0,cart:{price:0,vat_name:'VAT',vat_amount:0,vat_percent:0,total:0,country:'',state:''},                            settings:{                                "use_hours":!1,                                "start_date":"21-01-2016","vat_included":!1,                                "currency":{                                    "sign":"$",                                    "code":"USD","rate":1,                                    "position":0,                               },"selected_currency":{"from":"USD","to":"USD","sign":"$","rate":1},                                'loading':'full'
                           },                            services:{},stripe_public_key:"",braintree_authorization:"",payment_method:"stripe",                            form:{                                "id":"",                                "class":"",                                "name":"",                                "fields":{                                    0:{                                        "name":"First Name",                                        "value":"",                                        "type":"text",                                        "placeholder":"",                                        "id":"",                                        "class":"",                                        "options":{                                            0:{                                                "name":"first option",                                                "value":"test",                                                "selected":!1
                                           }
                                       },                                        "format":"",                                        "required":"",                                        "characters":"",                                        "max":0,                                        "min":0,                                        "conditions":{                                            0:{                                                "action":"show",                                                "id":5,                                                "type":"=",                                                "value":"x value",                                                "price":{                                                    "value":10,                                                    "apply":"item"
                                               }
                                           }
                                       },                                        "price":{                                            "value":10,                                            "apply":"item"
                                       }
                                   }
                               }
                           },country:{},                            data:{"general":{"price":0,                                              "promo":0,                                              "status":"unavailable",                                              "available":0,                                              "booked":0,                                              "notes":"",                                              "group":{"enabled":!1,                                                       "type":'monthly'
                                                      },                                              "hours":{                                                  "use":!1,                                                  "select":"single",                                                  "data":""
                                                 }
                                             }
                                 },                            text:{"days":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],                                   "months":["January","February","March","April","May","June","July","August","September","October","November","December"],                                   "buttons":{                                       "add_booking":"Add booking to cart",                                       "cancel_booking":"Cancel booking",                                       "go_to_checkout":"Checkout",                                       "price":"Price",                                       "total":"Total",                                       "reservations_cart":"Reservations Cart",                                       "add_reservation":"Add Reservation",                                       "add_new_reservation":"Add new reservation",                                       "back_to_cart":"Back to Cart",                                       "book":"Book",                                       "checkout":"Contact Details"
                                  },                                   "status":{                                        "available":"available",                                        "unavailable":"unavailable",                                        "booked":"booked",                                        "in-cart":"in cart"
                                  },"prices":{"month":"month","months":"months","week":"week","weeks":"weeks","weekend":"weekend","weekends":"weekends","day":"day","days":"days"},                                   "items":{                                     "single":"Item",                                     "multiple":"Items"
                                  },                                   "hours":{                                     "single":"Select hour"
                                  },                                   "error":{                                      "already_booked":"This period has been already booked by someone else. Please select other period.",                                      "already_added":"This period has been already added by you in cart. Please select other period.",                                      "required":"This field is required.",                                      "email":"Wrong email address.",                                      "phone":"Wrong phone number.",                                      "cors":"You don\'t have added this website in your space settings -> Allowed websites or the space has been deleted or blocked."
                                  },                                   "terms":{                                      "conditions":"I\'m agree with the <a target=\'blank\' href=\'http://book.eu.com/terms-and-conditions-for-guests\'>terms and conditions</a>.",                                      "error":"You must be agree with the terms and conditions for using our service"
                                  },                                   "form":{                                     "country_code":"Country Code"
                                  },                                   "cart":{                                      "reservation":"Reservation",                                      "reservation_for":"Reservation for",                                      "start_at":"Start at",                                      "end_at":"End at",                                      "reservation_exist":"Sorry !!! This period has already booked by other. Please remove it from cart and select other period."
                                  },"protection":{"text":"Will protect you against frauds. ( ex: if the space or room doesn\'t exists; poor conditions; if utilities don\'t exist...  )","more":"Read more","exchange":"It may be different at the time of payment depending on the bank\'s exchange rate.","exchange_rate":"Exchange rate","estimated_price":"Estimated price"},                                   "success":"Congratualations. Your reservation has been successfully made.","mode":{"night":"night","nights":"nights","day":"day","days":"days","cost":"for"}
                              }
                           };       
        if(options!==undefined){           CalendarData=$GUP.plugin.extend({},CalendarData,options);       }
        var ID='#beccapp-'+CalendarData.api_key,            formID=0,            calendarID=CalendarData.api_key,            currentDate=new Date(),            currentMonth=currentDate.getMonth()+1,            currentWeekDay=currentDate.getDay(),            currentYear=currentDate.getFullYear(),            currentWeek=currentDate.getWeek(),            todayDate=new Date(),            settingsData=CalendarData.settings,            generalData=CalendarData.data.general,            weekDayData=CalendarData.data.weekDay,            customMonthsData=CalendarData.data.months,            customYearsData=CalendarData.data.year,            customWeeksData=CalendarData.data.weeks,            customDaysData=CalendarData.data.customDay,            periodsData=CalendarData.data.period,            bookedDaysData=CalendarData.data.booked_days!==undefined?CalendarData.data.booked_days:[],            monthsText=CalendarData.text.months,            daysText=CalendarData.text.days,            selectedData={"day":{"start":{"date":"",                                            "no":""},                                   "end":{"date":"",                                          "no":""}},"rooms":{"start":{"date":"",                                            "no":""},"end":{"date":"","no":""}},                            "category":"",                            "location":"",                            "calendars":[],                            "max_items":999999999999999,                            "items":1,                            "price":0,"prices":[],                            "days":[],                            "hour":{"start":{"date":"",                                             "no":""},                                    "end":{"date":"",                                           "no":""}}},selected_start_date,selected_end_date,            oldDisplayDate,            displayDate=currentDate,            dayNumber=1,            selectedCalendars=[],            cartData=[];           
       
        var libs={offset:function(el){var rect=el.getBoundingClientRect(),scrollLeft=window.pageXOffset||document.documentElement.scrollLeft,scrollTop=window.pageYOffset||document.documentElement.scrollTop;return{top:rect.top+scrollTop,left:rect.left+scrollLeft}},                hours:{                    generate:function(start,end,step,data){                        var startHour=parseInt(start.split(":")[0]),                            startMin=parseInt(start.split(":")[1]),                            startConvertedTime=startHour*60+startMin,                            endTime=end,                            endHour=parseInt(end.split(":")[0]),                            endMin=parseInt(end.split(":")[1]),                            endConvertedTime=endHour*60+endMin,                            nextStep=parseInt(step),                            newData=new Array(),                            timePassed=0;                            delete data.start;                            delete data.end;                             
                           
                            if(data.type==="single"){                                var currentTime=0,                                    breakTimeStart=0,                                    breakTimeEnd=0,                                    breaks=[],                                    timeStart=0;                               for(var i=startConvertedTime;i<=endConvertedTime;i+=nextStep){                                   
                                   
                                    for(var j in data.breaks){                                        if(data.breaks.hasOwnProperty(j)){                                             
                                            if(data.breaks[j].after!==undefined){                                                var breakData=[];                                                   
                                                if(timeStart>=data.breaks[j].after.each){                                                    breakTimeStart=i+data.breaks[j].after.each;                                                    breakTimeEnd=breakTimeStart+data.breaks[j].after.minutes;                                                    breakData.start=breakTimeStart;                                                    breakData.end=breakTimeEnd;                                                    breaks.push(breakData);                                                    timeStart=0;                                               }else{                                                    timeStart+=nextStep;                                               }
                                           }
                                       }
                                   }
                               }
                               
                                for(var i=startConvertedTime;i<=endConvertedTime;i+=nextStep){                                    var tempHour=(parseInt(i/60)<9?"0"+parseInt(i/60):parseInt(i/60))+":"+(i%60<9?"0"+i%60:i%60);                                    for(var k=0;k<breaks.length;k++){                                        var tempData=data;                                       
                                        if(!(tempHour in newData)){                                            newData[tempHour]=[];                                            newData[tempHour].price=data.price;                                            newData[tempHour].promo=data.promo;                                            newData[tempHour].available=data.available;                                            newData[tempHour].booked=data.booked;                                            newData[tempHour].status=data.status;                                            newData[tempHour].notes=data.notes;                                       }
                                       
                                        if(i>breaks[k].start
                                          &&i<=breaks[k].end){                                            tempData.status='unavailable';                                       }
                                       
                                        if(data.booked_hours.indexOf(tempHour)!==-1){                                            tempData.status='booked';                                       }
                                   }
                               }
                           }else{                                var tempPrev="";                               
                                for(var i=startConvertedTime;i<=endConvertedTime;i+=nextStep){                                    var tempHour=(parseInt(i/60)<9?"0"+parseInt(i/60):parseInt(i/60))+":"+(i%60<9?"0"+i%60:i%60);                                   
                                    if(tempPrev!==""&&tempPrev!==tempHour){                                        newData[tempPrev+'-'+tempHour]=data;                                   }
                                    tempPrev=tempHour;                               }
                           }
                        return newData;                   }
               },addDays:function(date,amount){date=new Date(date.split('-')[2],(parseInt(date.split('-')[1])-1),date.split('-')[0]);date=date.daysMoreLess(amount);return(date.getDate()<10?'0'+(date.getDate()):(date.getDate()))+'-'+((date.getMonth()+1)<10?'0'+(date.getMonth()+1):(date.getMonth()+1))+'-'+date.getFullYear()},data_convert:function(data,type){type=type===undefined?'eu':type;var tempData=data.split('-');if(type==='eu'){data=parseInt(tempData[0])+' '+monthsText[(parseInt(tempData[1])-1)]+' '+tempData[2]}else{data=monthsText[(parseInt(tempData[1])-1)]+' '+parseInt(tempData[0])+', '+tempData[2]}
return data},countries:{get:function(data){var countries=[];for(var key in data){countries[key]=data[key].country}
return countries}},states:{get:function(data){var states=[];for(var key in data.US.state){states[key]=data.US.state[key].state}
return states}},vat:{get:function(country,state){var country,state,vat=[];if(country==='US'){if(state===undefined||state===''){state='AL'}
vat.rate=CalendarData.country.vat_data.US.state[state].rate;vat.name=CalendarData.country.vat_data.US.state[state].name}else{vat.rate=CalendarData.country.vat_data[country].rate;vat.name=CalendarData.country.vat_data[country].name}
vat.country=country;vat.state=state;if(CalendarData.settings.vat_included==='true'){vat.rate=0}
return vat},show:function(country,state){var vat=libs.vat.get(country,state),states=libs.states.get(CalendarData.country.vat_data);$GUP('#bmd-vat-name').html(vat.name);CalendarData.cart.vat_name=vat.name;if(country==='US'){if(state===undefined||state===''){state='AL'}
$GUP('#bmd-vat-location').html(country+', '+states[state])}else{$GUP('#bmd-vat-location').html(country)}
var vat_amount=parseFloat((parseFloat((vat.rate*CalendarData.cart.price/100).toFixed(2))).toFixed(2)),total=parseFloat((CalendarData.cart.price+vat_amount).toFixed(2));$GUP('#bmd-vat-amount').html(settingsData.currency.sign+vat_amount);$GUP('#bmd-vat-total').html(settingsData.currency.sign+total);$GUP('#bmd-vat-rate').html(vat.rate.toString());CalendarData.cart.vat_amount=vat_amount;CalendarData.cart.vat_percent=vat.rate;CalendarData.cart.total=total;if(vat.rate>0){$GUP('.wdh-vat-full-box').removeClass('bmd-invisible')}else{$GUP('.wdh-vat-full-box').addClass('bmd-invisible')}},change:function(value,type){if(type==='state'){CalendarData.cart.state=value;libs.vat.show(CalendarData.cart.country,CalendarData.cart.state)}else{CalendarData.cart.country=value;if(CalendarData.cart.country==='US'){libs.vat.show(CalendarData.cart.country,CalendarData.cart.state)}else{libs.vat.show(CalendarData.cart.country)}}}}
           },            booking={            status:'ok',            init:function(){               
                booking.generate();                booking.reservations.generate();                booking.start();if(wdhCookies.read('wdhDataCart')!==null&&CalendarData.use_cookies==='true'){var tempCartData=JSON.parse(wdhCookies.read('wdhDataCart'));if(tempCartData[CalendarData.api_key]!==undefined){cartData=tempCartData[CalendarData.api_key]}}
             
               
                if(CalendarData.id===0){                    booking.load.calendar('first_time');               }
           },            load:{                selected:function(){                    var oldSelectedData=selectedData;                    selectedData={"day":{"start":{"date":"",                                                    "no":""},                                           "end":{"date":"",                                                  "no":""}},"rooms":oldSelectedData.rooms,                                    "category":"",                                    "location":"",                                    "calendars":[],                                    "max_items":999999999999999,                                    "items":1,                                    "price":0,                                    "prices":[],                                    "days":[],                                    "hour":{"start":{"date":"",                                                     "no":""},                                            "end":{"date":"",                                                     "no":""}}};                             
                   
                    selectedData.calendars=oldSelectedData.calendars;               },                start:function(){                    ID='#beccapp-'+CalendarData.api_key;                    calendarID=CalendarData.api_key;                    currentDate=new Date();                    currentMonth=currentDate.getMonth()+1;                    currentWeekDay=currentDate.getDay();                    currentYear=currentDate.getFullYear();                    currentWeek=currentDate.getWeek();                    settingsData=CalendarData.settings;                    generalData=CalendarData.data.general;                    weekDayData=CalendarData.data.weekDay;                    customMonthsData=CalendarData.data.months;                    customYearsData=CalendarData.data.year;                    customWeeksData=CalendarData.data.weeks;                    customDaysData=CalendarData.data.customDay;                    periodsData=CalendarData.data.period;                    bookedDaysData=CalendarData.data.booked_days!==undefined?CalendarData.data.booked_days:[];                    monthsText=CalendarData.text.months;                    daysText=CalendarData.text.days;                 
                   
                    booking.load.selected();                 
                    oldDisplayDate=displayDate;                    displayDate=currentDate;                    dayNumber=1;               },                calendar:function(autoselected,current_step,reservations_data,error_type){CalendarData.referral_id=$_GET('wdh_bec_rfid')!==null?$_GET('wdh_bec_rfid'):CalendarData.referral_id;CalendarData.estimated_price=$_GET('wdh_bec_estimated_price')!==null?$_GET('wdh_bec_estimated_price'):CalendarData.estimated_price;CalendarData.estimated_price_to=CalendarData.estimated_price==='true'?($_GET('wdh_bec_currency')!==null?$_GET('wdh_bec_currency'):CalendarData.estimated_price_to):'';                    var urlData={calendar:'calendar',                                   api_key:CalendarData.api_key,                                   lang:CalendarData.language,                                   selected_currency:CalendarData.estimated_price_to,calendar_visibility:booking.calendar.visibility(),referral_id:CalendarData.referral_id,                                   format:'json'
                                 };if(autoselected===undefined){autoselected=!1}
if(current_step===undefined){current_step='one'}
if(reservations_data===undefined){reservations_data=''}
if(current_step==='error'){if(error_type!==undefined&&error_type==="error_availability"){alert(CalendarData.text.error.already_booked)}}
                    if(CalendarData.selected.length===0
                     &&CalendarData.type==='multiple'){                        CalendarData.data={"general":{"price":0,                                                   "promo":0,                                                   "status":"unavailable",                                                   "available":0,                                                   "booked":0,                                                   "notes":"",                                                   "group":{"enabled":!1,                                                            "type":'monthly'
                                                           },                                                   "hours":{                                                       "use":!1,                                                       "select":"single",                                                       "data":""
                                                     }
                                                 }};                        booking.load.start();booking.sidebar.stepOne.start();                       
                        booking.calendar.month.start(oldDisplayDate,!0);                       
                        selectedData.calendars=[];                     
                        return!1;                   }
                 
                    urlData.selected=CalendarData.selected.join('-');                 
                    booking.loader.start();                    var requestURL=booking.general.url(urlData);                 
                   
                    booking.reservations.reservation.price.disable();                   
                    $GUP.plugin.get(requestURL,function(data,req){                        data=JSON.parse(data);                       
                        CalendarData.data={};                     
                       
                        if(data!==undefined){CalendarData=$GUP.plugin.extend({},CalendarData,data);if(formID===0){formID=CalendarData.form.id}
if(CalendarData.type==='single'){CalendarData.selected=[CalendarData.id]}
if(data.country!==undefined){CalendarData.country=data.country;CalendarData.cart.country=CalendarData.country.country_2;CalendarData.country.countries=libs.countries.get(CalendarData.country.vat_data);CalendarData.country.states=libs.states.get(CalendarData.country.vat_data)}
if(data.cover!==undefined){CalendarData.cover=data.cover}
if(data.mode!==undefined){CalendarData.mode=data.mode}
booking.load.start();booking.calendar.header.reload();booking.reservations.reload();booking.sidebar.stepOne.start();if(selectedData.rooms.start.date!==""&&selectedData.rooms.start.date!==undefined){oldDisplayDate=new Date(selectedData.rooms.start.date.split('-')[2],(parseInt(selectedData.rooms.start.date.split('-')[1])-1),selectedData.rooms.start.date.split('-')[1])}
if($_GET('wdh_bec_start_date')!==""&&$_GET('wdh_bec_start_date')!==undefined&&$_GET('wdh_bec_start_date')!==null){var tempGet=$_GET('wdh_bec_start_date');oldDisplayDate=new Date(tempGet.split('-')[2],(parseInt(tempGet.split('-')[1])-1),tempGet.split('-')[1])}
booking.calendar.month.start(oldDisplayDate,!0);if(CalendarData.type==='multiple'){selectedData.calendars=CalendarData.calendars.selected;selectedData.all_calendars=CalendarData.calendars.all}else{selectedData.calendars=[CalendarData.id]}
if(autoselected==='first_time'){if($_GET('wdh_bec_start_date')!==""&&$_GET('wdh_bec_start_date')!==undefined&&$_GET('wdh_bec_start_date')!==null){if(CalendarData.type==='multiple'){autoselected=!1}else{autoselected=!0}}else{autoselected=!1}}
if(autoselected&&(window.bookeucom_pay_success===undefined||window.bookeucom_pay_success===!1)){window.bookeucom_pay_success=!1;booking.calendar.autoselect()}else{if(CalendarData.type==='multiple'&&$_GET('wdh_bec_start_date')!==""&&$_GET('wdh_bec_start_date')!==undefined&&$_GET('wdh_bec_start_date')!==null&&$_GET('wdh_bec_end_date')!==""&&$_GET('wdh_bec_end_date')!==undefined&&$_GET('wdh_bec_end_date')!==null&&(window.bookeucom_pay_success===undefined||window.bookeucom_pay_success===!1)){var tempStart=$_GET('wdh_bec_start_date'),tempEnd=$_GET('wdh_bec_end_date');window.bookeucom_pay_success=!1;selectedData.rooms.start.date=tempStart;selectedData.rooms.end.date=tempEnd;booking.sidebar.stepOne.selection.rooms.autoselect(!autoselected,tempStart.split('-')[2]+'-'+tempStart.split('-')[1]+'-'+tempStart.split('-')[0],tempEnd.split('-')[2]+'-'+tempEnd.split('-')[1]+'-'+tempEnd.split('-')[0])}}
if($_GET('bec_go')==='success'&&!window.firstBECLoaded){booking.sidebar.step('five');window.firstBECLoaded=!0}
if(current_step!=='one'&&current_step!=='error_pay'){if(current_step!=='error'){booking.sidebar.step(current_step)}else{booking.sidebar.stepOne.error.start()}}
if(cartData.length>0){booking.reservations.cart.data.show((reservations_data!==''?reservations_data:''));booking.reservations.cart.events()}
                       }
                   },function(req){alert(CalendarData.text.error.cors);$GUP('.bookeucom').css('display','none')});                 
               },                availability:function(){CalendarData.referral_id=$_GET('wdh_bec_rfid')!==null?$_GET('wdh_bec_rfid'):CalendarData.referral_id;var urlData={availability:'availability',                                   api_key:CalendarData.api_key,                                   lang:CalendarData.language,referral_id:CalendarData.referral_id,                                   format:'json'
                                 };                 
                    urlData.selected=CalendarData.selected.join('-');                 
                    booking.loader.start();                    var requestURL=booking.general.url(urlData);                   
                    $GUP.plugin.get(requestURL,function(data){                        data=JSON.parse(data);                     
                       
                        if(data!==undefined){                           CalendarData=$GUP.plugin.extend({},CalendarData,data.availability);                         
                         
                          booking.generate();                          booking.reservations.generate();                          booking.start();                          booking.loader.stop();                       }
                   },function(req){alert(CalendarData.text.error.cors);$GUP('.bookeucom').css('display','none')});               }
           },             
            loader:{                generate:function(){                    var newHTML=new Array();                   
                    newHTML.push('  <svg version="1.1" class="beccapp-loader" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 80 80" xml:space="preserve"> <path fill="#009900" d="M10,40c0,0,0-0.4,0-1.1c0-0.3,0-0.8,0-1.3c0-0.3,0-0.5,0-0.8c0-0.3,0.1-0.6,0.1-0.9c0.1-0.6,0.1-1.4,0.2-2.1 c0.2-0.8,0.3-1.6,0.5-2.5c0.2-0.9,0.6-1.8,0.8-2.8c0.3-1,0.8-1.9,1.2-3c0.5-1,1.1-2,1.7-3.1c0.7-1,1.4-2.1,2.2-3.1 c1.6-2.1,3.7-3.9,6-5.6c2.3-1.7,5-3,7.9-4.1c0.7-0.2,1.5-0.4,2.2-0.7c0.7-0.3,1.5-0.3,2.3-0.5c0.8-0.2,1.5-0.3,2.3-0.4l1.2-0.1 l0.6-0.1l0.3,0l0.1,0l0.1,0l0,0c0.1,0-0.1,0,0.1,0c1.5,0,2.9-0.1,4.5,0.2c0.8,0.1,1.6,0.1,2.4,0.3c0.8,0.2,1.5,0.3,2.3,0.5 c3,0.8,5.9,2,8.5,3.6c2.6,1.6,4.9,3.4,6.8,5.4c1,1,1.8,2.1,2.7,3.1c0.8,1.1,1.5,2.1,2.1,3.2c0.6,1.1,1.2,2.1,1.6,3.1 c0.4,1,0.9,2,1.2,3c0.3,1,0.6,1.9,0.8,2.7c0.2,0.9,0.3,1.6,0.5,2.4c0.1,0.4,0.1,0.7,0.2,1c0,0.3,0.1,0.6,0.1,0.9 c0.1,0.6,0.1,1,0.1,1.4C74,39.6,74,40,74,40c0.2,2.2-1.5,4.1-3.7,4.3s-4.1-1.5-4.3-3.7c0-0.1,0-0.2,0-0.3l0-0.4c0,0,0-0.3,0-0.9 c0-0.3,0-0.7,0-1.1c0-0.2,0-0.5,0-0.7c0-0.2-0.1-0.5-0.1-0.8c-0.1-0.6-0.1-1.2-0.2-1.9c-0.1-0.7-0.3-1.4-0.4-2.2 c-0.2-0.8-0.5-1.6-0.7-2.4c-0.3-0.8-0.7-1.7-1.1-2.6c-0.5-0.9-0.9-1.8-1.5-2.7c-0.6-0.9-1.2-1.8-1.9-2.7c-1.4-1.8-3.2-3.4-5.2-4.9 c-2-1.5-4.4-2.7-6.9-3.6c-0.6-0.2-1.3-0.4-1.9-0.6c-0.7-0.2-1.3-0.3-1.9-0.4c-1.2-0.3-2.8-0.4-4.2-0.5l-2,0c-0.7,0-1.4,0.1-2.1,0.1 c-0.7,0.1-1.4,0.1-2,0.3c-0.7,0.1-1.3,0.3-2,0.4c-2.6,0.7-5.2,1.7-7.5,3.1c-2.2,1.4-4.3,2.9-6,4.7c-0.9,0.8-1.6,1.8-2.4,2.7 c-0.7,0.9-1.3,1.9-1.9,2.8c-0.5,1-1,1.9-1.4,2.8c-0.4,0.9-0.8,1.8-1,2.6c-0.3,0.9-0.5,1.6-0.7,2.4c-0.2,0.7-0.3,1.4-0.4,2.1 c-0.1,0.3-0.1,0.6-0.2,0.9c0,0.3-0.1,0.6-0.1,0.8c0,0.5-0.1,0.9-0.1,1.3C10,39.6,10,40,10,40z" > <animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 40 40" to="360 40 40" dur="0.8s" repeatCount="indefinite"/> </path> <path fill="#009900" d="M62,40.1c0,0,0,0.2-0.1,0.7c0,0.2,0,0.5-0.1,0.8c0,0.2,0,0.3,0,0.5c0,0.2-0.1,0.4-0.1,0.7 c-0.1,0.5-0.2,1-0.3,1.6c-0.2,0.5-0.3,1.1-0.5,1.8c-0.2,0.6-0.5,1.3-0.7,1.9c-0.3,0.7-0.7,1.3-1,2.1c-0.4,0.7-0.9,1.4-1.4,2.1 c-0.5,0.7-1.1,1.4-1.7,2c-1.2,1.3-2.7,2.5-4.4,3.6c-1.7,1-3.6,1.8-5.5,2.4c-2,0.5-4,0.7-6.2,0.7c-1.9-0.1-4.1-0.4-6-1.1 c-1.9-0.7-3.7-1.5-5.2-2.6c-1.5-1.1-2.9-2.3-4-3.7c-0.6-0.6-1-1.4-1.5-2c-0.4-0.7-0.8-1.4-1.2-2c-0.3-0.7-0.6-1.3-0.8-2 c-0.2-0.6-0.4-1.2-0.6-1.8c-0.1-0.6-0.3-1.1-0.4-1.6c-0.1-0.5-0.1-1-0.2-1.4c-0.1-0.9-0.1-1.5-0.1-2c0-0.5,0-0.7,0-0.7 s0,0.2,0.1,0.7c0.1,0.5,0,1.1,0.2,2c0.1,0.4,0.2,0.9,0.3,1.4c0.1,0.5,0.3,1,0.5,1.6c0.2,0.6,0.4,1.1,0.7,1.8 c0.3,0.6,0.6,1.2,0.9,1.9c0.4,0.6,0.8,1.3,1.2,1.9c0.5,0.6,1,1.3,1.6,1.8c1.1,1.2,2.5,2.3,4,3.2c1.5,0.9,3.2,1.6,5,2.1 c1.8,0.5,3.6,0.6,5.6,0.6c1.8-0.1,3.7-0.4,5.4-1c1.7-0.6,3.3-1.4,4.7-2.4c1.4-1,2.6-2.1,3.6-3.3c0.5-0.6,0.9-1.2,1.3-1.8 c0.4-0.6,0.7-1.2,1-1.8c0.3-0.6,0.6-1.2,0.8-1.8c0.2-0.6,0.4-1.1,0.5-1.7c0.1-0.5,0.2-1,0.3-1.5c0.1-0.4,0.1-0.8,0.1-1.2 c0-0.2,0-0.4,0.1-0.5c0-0.2,0-0.4,0-0.5c0-0.3,0-0.6,0-0.8c0-0.5,0-0.7,0-0.7c0-1.1,0.9-2,2-2s2,0.9,2,2C62,40,62,40.1,62,40.1z"> <animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 40 40" to="-360 40 40" dur="0.6s" repeatCount="indefinite"/> </path> </svg>');                   
                    return newHTML.join('');               },                start:function(){                    $GUP('.wdh-bec-booking-calendar-loader').addClass('wdh-beccapp-on');               },                stop:function(){                    $GUP('.wdh-bec-booking-calendar-loader').removeClass('wdh-beccapp-on');               }
           },           
            start:function(){                booking.calendar.start();           },           
            generate:function(){                var newHTML=new Array();if(CalendarData.on_facebook==='true'&&window.isMobile.any){var tbody=document.getElementsByTagName('body')[0];tbody.style.zoom=1.3;CalendarData.css_class=window.isMobile&&(CalendarData.css_class===undefined||CalendarData.css_class==='')?'wdh-bec-mini wdh-bec-fb':CalendarData.css_class}
                newHTML.push('<div class="wdh-bec-booking '+(CalendarData.css_class!==undefined?CalendarData.css_class:'')+'">');                newHTML.push(   booking.calendar.generate());                newHTML.push('</div>');                $GUP(ID).append(newHTML.join(''));           },           
            general:{                date:function(textDate){                    var newDate=new Date(new Date(booking.general.convert(textDate.split('-')[1])+'/'+booking.general.convert(textDate.split('-')[0])+'/'+textDate.split('-')[2]+' 00:00:00 GMT'));                 
                    return newDate;               },                convert:function(text){text=parseInt(text);                    return text<10?'0'+text:''+text;               },                price:function(tempPrice){tempPrice=parseFloat(tempPrice);tempPrice=tempPrice.toFixed(2);                   
                    switch(settingsData.currency.position){                        case 0:                            tempPrice=tempPrice+settingsData.currency.sign;                            break;                        case 1:                            tempPrice=tempPrice+' '+settingsData.currency.sign;                            break;                        case 2:                            tempPrice=settingsData.currency.sign+tempPrice;                            break;                        case 3:                            tempPrice=settingsData.currency.sign+' '+tempPrice;                            break;                        default:                            tempPrice=tempPrice+' '+settingsData.currency.sign;                   }
                   
                    return tempPrice;               },                price_converted:function(tempPrice,textBefore,infoClass,infoBoxClass){var oldPrice=tempPrice,tempPrice2=tempPrice;tempPrice=parseFloat(tempPrice);tempPrice=booking.general.price_convert(tempPrice);oldPrice=oldPrice.toFixed(2);if(CalendarData.settings.selected_currency.from!==CalendarData.settings.selected_currency.to){tempPrice2=tempPrice.toFixed(0);tempPrice=tempPrice.toFixed(0)}else{tempPrice2=tempPrice.toFixed(0);tempPrice=tempPrice.toFixed(2)}
var tempSign=settingsData.currency.sign,newHTML=new Array(),oldSign=tempSign,exchangeRate=1;if(CalendarData.settings.selected_currency.from!==CalendarData.settings.selected_currency.to&&CalendarData.estimated_price==='true'){tempSign=CalendarData.settings.selected_currency.sign;exchangeRate=parseFloat((CalendarData.settings.selected_currency.rate+0.0225));exchangeRate=exchangeRate.toFixed(4)}
                   
                    switch(settingsData.currency.position){                        case 0:                            oldPrice=oldPrice+oldSign;                            tempPrice=tempPrice+tempSign;                            tempPrice2=tempPrice2+tempSign;                            break;                        case 1:                            oldPrice=oldPrice+' '+oldSign;                            tempPrice=tempPrice+' '+tempSign;                            tempPrice2=tempPrice2+' '+tempSign;                            break;                        case 2:                            oldPrice=oldSign+oldPrice;                            tempPrice=tempSign+tempPrice;                            tempPrice2=tempSign+tempPrice2;                            break;                        case 3:                            oldPrice=oldSign+' '+oldPrice;                            tempPrice=tempSign+' '+tempPrice;                            tempPrice2=tempSign+' '+tempPrice2;                            break;                        default:                            oldPrice=oldPrice+' '+oldSign;                            tempPrice=tempPrice+' '+tempSign;                            tempPrice2=tempPrice2+' '+tempSign;                   }
tempPrice=textBefore!==undefined?textBefore+tempPrice:tempPrice;if(CalendarData.settings.selected_currency.from!==CalendarData.settings.selected_currency.to&&CalendarData.estimated_price==='true'){newHTML.push('        <div class="wdh-bookeucom-protection-estimated-price-box '+(infoClass!==undefined?infoClass:'')+'">'+tempPrice+'</div>')}else{newHTML.push(tempPrice)}
if(CalendarData.settings.selected_currency.from!==CalendarData.settings.selected_currency.to&&CalendarData.estimated_price==='true'){newHTML.push('        <div class="wdh-bookeucom-protection wdh-bookeucom-protection-estimated-price">');newHTML.push('            <div class="wdh-bookeucom-protection-info-box wdh-bookeucom-protection-info-box-no-height '+(infoBoxClass!==undefined?infoBoxClass:'')+'">');newHTML.push('                <div class="wdh-bookeucom-protection-info-box-title">'+CalendarData.text.protection.estimated_price+'</div>');newHTML.push('                <div class="wdh-bookeucom-protection-info-box-text-price">');newHTML.push('                  <div class="wdh-bookeucom-protection-info-box-text-price-left wdh-bookeucom-protection-info-box-text-price-green">'+CalendarData.text.buttons.price+'</div>');newHTML.push('                  <div class="wdh-bookeucom-protection-info-box-text-price-right wdh-bookeucom-protection-info-box-text-price-green">'+oldPrice+'</div>');newHTML.push('                </div>');newHTML.push('                <div class="wdh-bookeucom-protection-info-box-text-price wdh-bookeucom-protection-info-box-text-price-no-border">');newHTML.push('                  <div class="wdh-bookeucom-protection-info-box-text-price-left">'+CalendarData.text.protection.exchange_rate+'</div>');newHTML.push('                  <div class="wdh-bookeucom-protection-info-box-text-price-right">1 '+oldSign+' = '+exchangeRate+' '+tempSign+'</div>');newHTML.push('                </div>');newHTML.push('                <div class="wdh-bookeucom-protection-info-box-text-price wdh-bookeucom-protection-info-box-text-price-no-border">');newHTML.push('                  <div class="wdh-bookeucom-protection-info-box-text-price-left">'+CalendarData.text.protection.estimated_price+'</div>');newHTML.push('                  <div class="wdh-bookeucom-protection-info-box-text-price-right">'+tempPrice2+'</div>');newHTML.push('                </div>');newHTML.push('                <div class="wdh-bookeucom-protection-info-box-attention">'+CalendarData.text.protection.exchange+'</div>');newHTML.push('            </div>');newHTML.push('        </div>')}
                   
                    return newHTML.join('');               },price_convert:function(price){if(CalendarData.settings.selected_currency.from!==CalendarData.settings.selected_currency.to&&CalendarData.estimated_price==='true'){price=parseFloat(price*(CalendarData.settings.selected_currency.rate+0.0225))}
return price},                url:function(urlData){                    var url=CalendarData.endpoint,i=0;                    for(var uKey in urlData){                       
                        if(urlData.hasOwnProperty(uKey)){if(i<1){                            url+=uKey+'/'}else if(i<2){                            url+='?'+uKey+'='+urlData[uKey]}else{                            url+='&&'+uKey+'='+urlData[uKey]}
i++;                       }
                   }
if(CalendarData.server!==''){url=url.split('www').join(CalendarData.server)}
                 
                    return url;               },                inObject:function(objectData,item){                   
                    for(var key in objectData){                       
                        if(objectData[key]===item){                            return!0;                       }
                   }
                   
                    return!1;               },findArrayElementsInArray:function(haystack,arr){return arr.some(function(v){return haystack.indexOf(v)>=0})},                is_email:function(email){                    var re=/\S+@\S+\.\S+/;                    return re.test(email);               },                is_phone:function(phone){                    var reg=/^([+|\d])+([\s|\d])+([\d])$/;                    return reg.test(phone);               }
           },           
            calendar:{               
                start:function(){                    booking.calendar.month.start(currentDate,!0);               },autoselect:function(){$GUP('.wdh-bec-booking-calendar-day-available').removeClass('wdh-bec-booking-calendar-day-selected');if(selectedData.rooms.start.date!==""&&selectedData.rooms.start.date!==undefined&&selectedData.rooms.end.date!==""&&selectedData.rooms.end.date!==undefined){selectedData.day.start.date=selectedData.rooms.start.date;selectedData.day.end.date=selectedData.rooms.end.date}
if($_GET('wdh_bec_start_date')!==""&&$_GET('wdh_bec_start_date')!==undefined&&$_GET('wdh_bec_start_date')!==null&&$_GET('wdh_bec_end_date')!==""&&$_GET('wdh_bec_end_date')!==undefined&&$_GET('wdh_bec_end_date')!==null){selectedData.day.start.date=$_GET('wdh_bec_start_date');selectedData.day.end.date=$_GET('wdh_bec_end_date')}
if(selectedData.day.start.date!==""&&selectedData.day.start.date!==undefined&&selectedData.day.end.date!==""&&selectedData.day.end.date!==undefined){selectedData.day.start.no=selectedData.day.start.date.split('-')[2]+selectedData.day.start.date.split('-')[1]+selectedData.day.start.date.split('-')[0];selectedData.day.end.no=selectedData.day.end.date.split('-')[2]+selectedData.day.end.date.split('-')[1]+selectedData.day.end.date.split('-')[0];selectedData.days=[];if(selectedData.day.end.date<=selectedData.day.start.date){var tempDataStart=selectedData.day.start.date,tempDataStartNo=selectedData.day.start.no;selectedData.day.start.date=selectedData.day.end.date;selectedData.day.end.date=tempDataStart;selectedData.day.start.no=selectedData.day.end.no;selectedData.day.end.no=tempDataStartNo}
var start_date=new Date(selectedData.day.start.date.split('-')[2],(parseInt(selectedData.day.start.date.split('-')[1])-1),selectedData.day.start.date.split('-')[0]),end_date=new Date(selectedData.day.end.date.split('-')[2],(parseInt(selectedData.day.end.date.split('-')[1])-1),selectedData.day.end.date.split('-')[0]),available=!0;while(start_date<=end_date){var tempDate=booking.general.convert(start_date.getDate())+'-'+booking.general.convert((start_date.getMonth()+1))+'-'+start_date.getFullYear(),tempDateNo=start_date.getFullYear()+booking.general.convert((start_date.getMonth()+1))+booking.general.convert(start_date.getDate());selectedData.days.push(tempDate);if($GUP('#wdh-bec-booking-calendar-day-'+calendarID+'-'+tempDateNo).hasClass('wdh-bec-booking-calendar-day-booked')){available=!1}else{$GUP('#wdh-bec-booking-calendar-day-'+calendarID+'-'+tempDateNo).addClass('wdh-bec-booking-calendar-day-selected')}
start_date=start_date.daysMoreLess(1)}}
if(available){booking.reservations.reservation.add.buttons.enable();booking.reservations.cart.enable()}else{$GUP('.wdh-bec-booking-calendar-day-available').removeClass('wdh-bec-booking-calendar-day-selected');selectedData.day.start.date='';selectedData.day.end.date='';selectedData.day.start.no='';selectedData.day.end.no='';selectedData.days=[];booking.sidebar.stepOne.error.start()}},               
                generate:function(){                    var newHTML=new Array();if(CalendarData.on_facebook==='true'){newHTML.push('<div id="wdh-bec-booking-calendar-cover-'+calendarID+'-full" class="wdh-bec-booking-calendar-cover wdh-box-height-one wdh-box-container"></div>')}
                   
                    newHTML.push('  <div class="wdh-bec-booking-calendar">');                    newHTML.push(       booking.calendar.header.generate());                    newHTML.push(       booking.calendar.body.generate());                    newHTML.push('  </div>');                           
                    return newHTML.join('');               },           
                header:{                    generate:function(){                        var headerHTMLNav=new Array();                       
                        headerHTMLNav.push('<div id="wdh-bec-booking-calendar-header-'+calendarID+'-full" class="wdh-bec-booking-calendar-header wdh-box-height-one wdh-box-container">');                        headerHTMLNav.push('    <div id="wdh-bec-booking-calendar-header-'+calendarID+'"></div>');                       
                        headerHTMLNav.push('    <div class="wdh-bec-booking-calendar-header-days">');var tempContainter=$GUP(ID).parent();                        headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day-small" style="'+(window.innerWidth<370||CalendarData.css_class.indexOf('wdh-bec-mini')!==-1?'display:block':'display:none')+'">');headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day">'+daysText[0].substr(0,2)+'</div>');headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day">'+daysText[1].substr(0,2)+'</div>');headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day">'+daysText[2].substr(0,2)+'</div>');headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day">'+daysText[3].substr(0,2)+'</div>');headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day">'+daysText[4].substr(0,2)+'</div>');headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day">'+daysText[5].substr(0,2)+'</div>');headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day">'+daysText[6].substr(0,2)+'</div>');headerHTMLNav.push('        </div>');headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day-big" style="'+(window.innerWidth>=370&&CalendarData.css_class.indexOf('wdh-bec-mini')===-1?'display:block':'display:none')+'">');headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day">'+daysText[0]+'</div>');headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day">'+daysText[1]+'</div>');headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day">'+daysText[2]+'</div>');headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day">'+daysText[3]+'</div>');headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day">'+daysText[4]+'</div>');headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day">'+daysText[5]+'</div>');headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day">'+daysText[6]+'</div>');headerHTMLNav.push('        </div>');                        headerHTMLNav.push('    </div>');                        headerHTMLNav.push('</div>');                        return headerHTMLNav.join('');                   },reload:function(){                        var headerHTMLNav=new Array();if(CalendarData.cover!==''&&CalendarData.on_facebook==='true'){var coverHTMLNav=new Array();                        coverHTMLNav.push('    <div class="wdh-bec-booking-calendar-cover-image" style="background-image:url('+CalendarData.cover+');"></div>');                        coverHTMLNav.push('     <div class="wdh-bec-booking-calendar-cover-title"">'+CalendarData.name+'</div>');                        coverHTMLNav.push('    </div>');$GUP('#wdh-bec-booking-calendar-cover-'+calendarID+'-full').html(coverHTMLNav.join(''))}
                        headerHTMLNav.push('    <div id="wdh-bec-booking-calendar-header-'+calendarID+'"></div>');                       
                        headerHTMLNav.push('    <div class="wdh-bec-booking-calendar-header-days">');var tempContainter=$GUP(ID).parent();                        headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day-small" style="'+(window.innerWidth<370||CalendarData.css_class.indexOf('wdh-bec-mini')!==-1?'display:block':'display:none')+'">');headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day">'+daysText[0].substr(0,2)+'</div>');headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day">'+daysText[1].substr(0,2)+'</div>');headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day">'+daysText[2].substr(0,2)+'</div>');headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day">'+daysText[3].substr(0,2)+'</div>');headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day">'+daysText[4].substr(0,2)+'</div>');headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day">'+daysText[5].substr(0,2)+'</div>');headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day">'+daysText[6].substr(0,2)+'</div>');headerHTMLNav.push('        </div>');headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day-big" style="'+(window.innerWidth>=370&&CalendarData.css_class.indexOf('wdh-bec-mini')===-1?'display:block':'display:none')+'">');headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day">'+daysText[0]+'</div>');headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day">'+daysText[1]+'</div>');headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day">'+daysText[2]+'</div>');headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day">'+daysText[3]+'</div>');headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day">'+daysText[4]+'</div>');headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day">'+daysText[5]+'</div>');headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-day">'+daysText[6]+'</div>');headerHTMLNav.push('        </div>');                        headerHTMLNav.push('    </div>');$GUP('#wdh-bec-booking-calendar-header-'+calendarID+'-full').html(headerHTMLNav.join(''))}
               },               
                body:{                   
                    generate:function(){                        var calendarHTML=new Array();                        calendarHTML.push('<div id="wdh-bec-booking-calendar-body">');                        calendarHTML.push(' <div id="wdh-bec-booking-calendar-body-'+currentMonth+'-'+currentYear+'" class="wdh-bec-booking-calendar-body wdh-box-container">');                        calendarHTML.push(' </div>');                        calendarHTML.push('</div>');                        return calendarHTML.join('');                   }
               },               
                availability:{                    generate:function(tempBooked,tempAvailable){                        var newHTML=new Array(),                            selectedAvailability=parseInt(tempBooked*11/tempAvailable);                       
                        for(var i=1;i<=11;i++){                           
                            if(i<=selectedAvailability){                                newHTML.push('<div class="wdh-bec-booking-calendar-day-availability-element wdh-bec-booking-calendar-day-availability-element-booked"></div>');                           }else{                                newHTML.push('<div class="wdh-bec-booking-calendar-day-availability-element"></div>');                           }
                       }
                        return newHTML.join('');                   }
               },               
                month:{                    start:function(startDate,firstInit){                        displayDate=startDate;                        var loaderHTML=new Array();                       
                       
                        $GUP('#wdh-bec-booking-calendar-header-'+calendarID).html('');                        $GUP('#wdh-bec-booking-calendar-header-'+calendarID).append(booking.calendar.month.header.generate(startDate.getMonth()));                       
                        loaderHTML.push(' <div class="wdh-bec-booking-calendar-loader'+((selectedData.rooms.start.date===''||CalendarData.selected.length<1)&&CalendarData.type=='multiple'?' wdh-bec-booking-calendar-loader-mini':'')+'">');                        loaderHTML.push(    booking.loader.generate());                        loaderHTML.push(' </div>');                        $GUP('#wdh-bec-booking-calendar-body').html(loaderHTML.join(''));                        $GUP('#wdh-bec-booking-calendar-body').append('<div id="wdh-bec-booking-calendar-body-'+(startDate.getMonth()+1)+'-'+startDate.getFullYear()+'" class="wdh-bec-booking-calendar-body wdh-margin-top-one wdh-box-container"></div>');                       $GUP('#wdh-bec-booking-calendar-body').append('<div class="wdh-bec-booking-calendar-body-spaces-select-message wdh-margin-top-one wdh-box-container">'+CalendarData.text.cart.select_spaces+'</div>');                       
                        var monthExist=$GUP('#wdh-bec-booking-calendar-body-'+(startDate.getMonth()+1)+'-'+startDate.getFullYear()).html();                       
                       
                        $GUP('#wdh-bec-booking-calendar-body-'+(startDate.getMonth()+1)+'-'+startDate.getFullYear()).append(booking.calendar.month.generate(startDate,firstInit));                       
if(selectedData.calendars.length>0){                        $GUP('.wdh-bec-booking-calendar-body-spaces-select-message').css('display','none');                        $GUP('#wdh-bec-booking-calendar-body-'+(startDate.getMonth()+1)+'-'+startDate.getFullYear()).css('display','block')}else{if(CalendarData.type==='multiple'){$GUP('.wdh-bec-booking-calendar-body').css('display','none');$GUP('.wdh-bec-booking-calendar-body-spaces-select-message').css('display','block')}else{$GUP('.wdh-bec-booking-calendar-body-spaces-select-message').css('display','none');$GUP('#wdh-bec-booking-calendar-body-'+(startDate.getMonth()+1)+'-'+startDate.getFullYear()).css('display','block')}}
                       
                       
                        if(selectedData.day.start.no!==""&&selectedData.day.end.no!==""){                           
                            $GUP('.wdh-bec-booking-calendar-day-available').removeClass('wdh-bec-booking-calendar-day-selected');                            var tempStartNoDay=selectedData.day.start.no,                                tempEndNoDay=selectedData.day.end.no;                            if(tempEndNoDay<=tempStartNoDay){                                var tempDataStartNo=tempStartNoDay;                                    tempStartNoDay=tempEndNoDay;                                    tempEndNoDay=tempDataStartNo;                           }
                           
                            for(var i=tempStartNoDay;i<=tempEndNoDay;i++){                                if($GUP('#wdh-bec-booking-calendar-day-'+calendarID+'-'+i).attr('data-date')!==undefined){                                   
                                   
                                    if($GUP('#wdh-bec-booking-calendar-day-'+calendarID+'-'+i).hasClass('wdh-bec-booking-calendar-group-day')){                                        var tempAllSelectedGroupDays=$GUP('#wdh-bec-booking-calendar-day-'+calendarID+'-'+i).parent(),                                            tempAllSelectedGroupDays=$GUP('#'+$GUP('#wdh-bec-booking-calendar-day-'+calendarID+'-'+i).parent().id+' .wdh-bec-booking-calendar-group-day')['selector'];                                       
                                        for(var j=0;j<tempAllSelectedGroupDays.length;j++){                                           
                                            $GUP('#'+tempAllSelectedGroupDays[j].id).addClass('wdh-bec-booking-calendar-day-selected');                                       }
                                   }else{                                        $GUP('#wdh-bec-booking-calendar-day-'+calendarID+'-'+i).addClass('wdh-bec-booking-calendar-day-selected');                                   }
                               }
                           }
                       }
                       
                        booking.sidebar.stepOne.loader.stop();                       
                       
                        booking.calendar.month.events();                   },                    generate:function(startDate,firstInit){                       
                        var startDay=startDate.getDate(),                            startMonth=startDate.getMonth()+1,                            nextMonth=startDate.getMonth()+2,                            startYear=startDate.getFullYear(),                            noDays=daysInMonth(startMonth,startYear),                            noLastDays=daysInMonth(startMonth-1,startYear),                            noPastDays=0,                            currentDay=startDate.getDay(),                            startMonthDay=new Date(booking.general.convert(startMonth)+'/'+'01/'+startYear+' 00:00:00 GMT'),                            nextMonthDay=new Date(booking.general.convert(nextMonth)+'/'+'01/'+startYear+' 00:00:00 GMT');                       
                       
                        if(nextMonth>12){                            nextMonth=1;                            startYear=startYear+1;                            nextMonthDay=new Date(booking.general.convert(nextMonth)+'/'+'01/'+startYear+' 00:00:00 GMT');                       }
                           
                        var newHTML=new Array();                       
                        if(startMonth<1){                            noLastDays=daysInMonth(12,startYear-1);                       }
                        if(startMonth>11){                            noDays=daysInMonth(0,startYear+1);                       }
                       
                        var j=1,w=0,d=0,latestDay;                       
                        for(var i=startMonthDay.getDay();i>0;i--){                         
                            if(j===1){                           }
                           
                            var dayData=[];                            dayData.date=startMonthDay.daysMoreLess(-i).getDate();                            dayData.full_date=booking.general.convert(startMonthDay.daysMoreLess(-i).getDate())+'-'+booking.general.convert((startMonthDay.daysMoreLess(-i).getMonth()+1))+'-'+startMonthDay.daysMoreLess(-i).getFullYear();                            dayData.start_day=!1;                           
                            if(j===1){                                dayData.start_day=!0;                           }
                           
                            var getDayData=booking.calendar.month.week.day.get(startMonthDay.daysMoreLess(-i),dayData.full_date);                                dayData.status=getDayData.status;                                dayData.price=booking.general.price(getDayData.price);                                dayData.promo=booking.general.price(getDayData.promo);                                dayData.available=getDayData.available;                                dayData.booked=getDayData.booked;                                dayData.notes=getDayData.notes;                                dayData.month='next';                                dayData.group=getDayData.group;                                dayData.start_group=getDayData.start_group;                                dayData.middle_group=getDayData.middle_group;                                dayData.end_group=getDayData.end_group;                                dayData.group_class=getDayData.group_class;                               
                           
                            if(((startMonthDay.daysMoreLess(-i).getMonth()+1<currentMonth
                               &&startMonthDay.daysMoreLess(-i)<todayDate)
                               ||startMonthDay.daysMoreLess(-i).getFullYear()<currentYear)
                               &&firstInit||startMonthDay.daysMoreLess(-i)<todayDate){                                    dayData.month='past';                                    dayData.status='unavailable';                           }
                           
                            if(j===7){                               
                           }
                            newHTML.push(       booking.calendar.month.week.day.generate(dayData));                           
                            if(j===7){                                j=0;                                w++;                           }
                           
                            noPastDays++;                            j++;                            d++;                       }
                        for(var i=1;i<=noDays;i++){                           
                            if(j===1){                           }
                           
                            var dayData=[];                            dayData.date=startMonthDay.daysMoreLess(i-1).getDate();                            dayData.full_date=booking.general.convert(startMonthDay.daysMoreLess(i-1).getDate())+'-'+booking.general.convert((startMonthDay.daysMoreLess(i-1).getMonth()+1))+'-'+startMonthDay.daysMoreLess(i-1).getFullYear();                            dayData.start_day=!1;                           
                            if(j===1){                                dayData.start_day=!0;                           }
                           
                            var getDayData=booking.calendar.month.week.day.get(startMonthDay.daysMoreLess(i-1),dayData.full_date);                            dayData.status=getDayData.status;                            dayData.month='current';                            dayData.price=booking.general.price(getDayData.price);                            dayData.promo=booking.general.price(getDayData.promo);                            dayData.available=getDayData.available;                            dayData.booked=getDayData.booked;                            dayData.notes=getDayData.notes;                            dayData.group=getDayData.group;                            dayData.start_group=getDayData.start_group;                            dayData.middle_group=getDayData.middle_group;                            dayData.end_group=getDayData.end_group;                            dayData.group_class=getDayData.group_class;                           
                            if(startMonthDay.daysMoreLess(i)<todayDate){                                dayData.month='past';                                dayData.status='unavailable';                           }
                           
                            latestDay=startMonthDay.daysMoreLess(i-1);                           
                            newHTML.push(       booking.calendar.month.week.day.generate(dayData));                           
                            if(j===7){                                j=0;                                w++;                           }
                           
                            j++;                            d++;                       } 
                       
                        for(var k=d;k<42;k++){                            if(j===1){                           }
                           
                            var dayData=[];                            dayData.date=startMonthDay.daysMoreLess(k).getDate();                            dayData.full_date=booking.general.convert(startMonthDay.daysMoreLess(k).getDate())+'-'+booking.general.convert((startMonthDay.daysMoreLess(k).getMonth()+1))+'-'+startMonthDay.daysMoreLess(k).getFullYear();                            dayData.start_day=!1;                           
                            if(j===1){                                dayData.start_day=!0;                           }
                         
                            var getDayData=booking.calendar.month.week.day.get(startMonthDay.daysMoreLess(k),dayData.full_date);                            dayData.status=getDayData.status;                            dayData.month='current';                            dayData.price=booking.general.price(getDayData.price);                            dayData.promo=booking.general.price(getDayData.promo);                            dayData.available=getDayData.available;                            dayData.booked=getDayData.booked;                            dayData.notes=getDayData.notes;                            dayData.group=getDayData.group;                            dayData.start_group=getDayData.start_group;                            dayData.middle_group=getDayData.middle_group;                            dayData.end_group=getDayData.end_group;                            dayData.group_class=getDayData.group_class;                            if(k-noPastDays+1>=noDays){                                dayData.month='next';                                dayData.date=nextMonthDay.daysMoreLess(k-noPastDays-noDays).getDate();                                dayData.full_date=booking.general.convert(nextMonthDay.daysMoreLess(k-noPastDays-noDays).getDate())+'-'+booking.general.convert((nextMonthDay.daysMoreLess(k-noPastDays-noDays).getMonth()+1))+'-'+nextMonthDay.daysMoreLess(k-noPastDays-noDays).getFullYear();                                var getDayData=booking.calendar.month.week.day.get(nextMonthDay.daysMoreLess(k-noPastDays-noDays),dayData.full_date);                                    dayData.status=getDayData.status;                                    dayData.price=booking.general.price(getDayData.price);                                    dayData.promo=booking.general.price(getDayData.promo);                                    dayData.available=getDayData.available;                                    dayData.booked=getDayData.booked;                                    dayData.notes=getDayData.notes;                                    dayData.group=getDayData.group;                                    dayData.start_group=getDayData.start_group;                                    dayData.middle_group=getDayData.middle_group;                                    dayData.end_group=getDayData.end_group;                                    dayData.group_class=getDayData.group_class;                           }
                            newHTML.push(       booking.calendar.month.week.day.generate(dayData));                            if(j===7){                                j=0;                                w++;                           }
                            w++;                            j++;                       }
                       
                        return newHTML.join('');                   },                    events:function(){                       
                       
                        booking.calendar.month.header.events();                       
                       
                        booking.calendar.month.week.day.events();                       
                        window.onresize=function(){                           
                            if(this.innerWidth<350||CalendarData.css_class.indexOf('wdh-bec-mini')!==-1){                                $GUP('.wdh-bec-booking-calendar-header-day-big').css('display','none');                                $GUP('.wdh-bec-booking-calendar-header-day-small').css('display','block');                           }else{                                $GUP('.wdh-bec-booking-calendar-header-day-big').css('display','block');                                $GUP('.wdh-bec-booking-calendar-header-day-small').css('display','none');                           }
                       };                   },                    header:{                        generate:function(selectedMonth){                            var headerHTMLNav=new Array();                       
                            headerHTMLNav.push('    <div class="wdh-bec-booking-calendar-header-nav-left wdh-bec-booking-calendar-header-nav">&nbsp</div>');                            headerHTMLNav.push('    <div class="wdh-bec-booking-calendar-header-title">'+monthsText[displayDate.getMonth()]+' '+displayDate.getFullYear()+'</div>');                            headerHTMLNav.push('    <div class="wdh-bec-booking-calendar-header-nav">');                            headerHTMLNav.push('        <div class="wdh-bec-booking-calendar-header-nav-element">');                            headerHTMLNav.push('            <div class="wdh-bec-booking-calendar-header-nav-element-right"><i class="fa fa-chevron-circle-right fa-2" aria-hidden="true"></i></div>');                           
                            if(selectedMonth+1!==currentMonth
                              ||displayDate.getFullYear()!==todayDate.getFullYear()){                                headerHTMLNav.push('            <div class="wdh-bec-booking-calendar-header-nav-element-left"><i class="fa fa-2 fa-chevron-circle-left" aria-hidden="true"></i>');                           }else{                                headerHTMLNav.push('            <div class="wdh-bec-booking-calendar-header-nav-element-left wdh-bec-booking-calendar-header-nav-element-left-disabled"><i class="fa fa-2 fa-caret-square-o-right" aria-hidden="true"></i>');                           }
                            headerHTMLNav.push('                </div>');                            headerHTMLNav.push('        </div>');                            headerHTMLNav.push('    </div>');                           
                            return headerHTMLNav.join('');                       },                        events:function(){                           
                            $GUP('.wdh-bec-booking-calendar-header-nav-element-left').unbind('click','event1');                            $GUP('.wdh-bec-booking-calendar-header-nav-element-left').bind('click','event1',function(){                                currentDate=displayDate.monthsMoreLess(-1);                                displayDate=currentDate
                                oldDisplayDate=displayDate;                                booking.calendar.month.start(currentDate);                           });                           
                            $GUP('.wdh-bec-booking-calendar-header-nav-element-right').unbind('click','event2');                            $GUP('.wdh-bec-booking-calendar-header-nav-element-right').bind('click','event2',function(){                                currentDate=displayDate.monthsMoreLess(1);                                displayDate=currentDate;                                oldDisplayDate=displayDate;                                booking.calendar.month.start(currentDate);                           });                       }
                   },                    week:{                        day:{                            generate:function(dayData){                                var newHTML=new Array();                               
                                if(dayData.start_group){                               }
                               
                                    var tempGroupClass=' ';                                   
                                    if(dayData.start_group){                                        tempGroupClass='wdh-bec-booking-calendar-group-day-start ';                                   }
                                   
                                    if(dayData.middle_group){                                        tempGroupClass='wdh-bec-booking-calendar-group-day-middle ';                                   }
                                   
                                    if(dayData.end_group){                                        tempGroupClass='wdh-bec-booking-calendar-group-day-end ';                                   }
                                   
                                    if(dayData.start_day){                                       
                                        newHTML.push('<div class="wdh-bec-booking-calendar-day-space"></div>');                                   }
                                   
                                    if(dayData.group){                                       
                                        if(dayData.start_day){                                            tempGroupClass+=' wdh-bec-booking-calendar-group-day-start-week ';                                       }
                                       
                                        newHTML.push('<div id="wdh-bec-booking-calendar-day-'+calendarID+'-'+parseInt(dayData.full_date.split('-')[2]+''+dayData.full_date.split('-')[1]+''+dayData.full_date.split('-')[0])+'" data-day-id="wdh-bec-booking-calendar-day-'+calendarID+'-'+parseInt(dayData.full_date.split('-')[2]+''+dayData.full_date.split('-')[1]+''+dayData.full_date.split('-')[0])+'" class="wdh-bec-booking-calendar-group-day '+tempGroupClass+'wdh-bec-booking-calendar-day wdh-bec-booking-calendar-day-'+dayData.status+' wdh-bec-booking-calendar-day-'+dayData.month+'" data-date="'+dayData.full_date+'">');                                   }else{                                        newHTML.push('<div id="wdh-bec-booking-calendar-day-'+calendarID+'-'+parseInt(dayData.full_date.split('-')[2]+''+dayData.full_date.split('-')[1]+''+dayData.full_date.split('-')[0])+'" data-day-id="wdh-bec-booking-calendar-day-'+calendarID+'-'+parseInt(dayData.full_date.split('-')[2]+''+dayData.full_date.split('-')[1]+''+dayData.full_date.split('-')[0])+'" class="wdh-bec-booking-calendar-day wdh-bec-booking-calendar-day-'+dayData.status+' wdh-bec-booking-calendar-day-'+dayData.month+'" data-date="'+dayData.full_date+'">');                                   }
                                    
                                    newHTML.push('  <div id="wdh-bec-booking-calendar-day-header-'+calendarID+'-'+parseInt(dayData.full_date.split('-')[2]+''+dayData.full_date.split('-')[1]+''+dayData.full_date.split('-')[0])+'" class="wdh-bec-booking-calendar-day-header">');                                    if(dayData.status!=='unavailable'
                                       &&dayData.status!=='in-cart'
                                       &&dayData.status!=='booked'
                                       &&dayData.notes!==""){                                        newHTML.push('  <div class="wdh-bec-booking-calendar-day-header-info">i<span class="wdh-bec-booking-calendar-day-header-info-details">'+dayData.notes+'</span></div>');                                   }
                                    newHTML.push(       dayData.date);                                    newHTML.push('  </div>');                                    newHTML.push('  <div id="wdh-bec-booking-calendar-day-price-and-status-'+calendarID+'-'+parseInt(dayData.full_date.split('-')[2]+''+dayData.full_date.split('-')[1]+''+dayData.full_date.split('-')[0])+'" data-day-id="wdh-bec-booking-calendar-day-'+calendarID+'-'+parseInt(dayData.full_date.split('-')[2]+''+dayData.full_date.split('-')[1]+''+dayData.full_date.split('-')[0])+'" class="wdh-bec-booking-calendar-day-price-and-status">');                                    if(dayData.status!=='unavailable'
                                       &&dayData.status!=='booked'
                                       &&dayData.status!=='in-cart'
                                       &&(parseFloat(dayData.price)>0 
                                       ||parseFloat(dayData.promo)>0)){                                        newHTML.push('      <div id="wdh-bec-booking-calendar-day-price-'+calendarID+'-'+parseInt(dayData.full_date.split('-')[2]+''+dayData.full_date.split('-')[1]+''+dayData.full_date.split('-')[0])+'" data-day-id="wdh-bec-booking-calendar-day-'+calendarID+'-'+parseInt(dayData.full_date.split('-')[2]+''+dayData.full_date.split('-')[1]+''+dayData.full_date.split('-')[0])+'" class="wdh-bec-booking-calendar-day-available-price wdh-bec-booking-calendar-day-price">');                                       
                                     
if(dayData.available<2){newHTML.push(           dayData.available+' '+CalendarData.text.status.available_one)}else{newHTML.push(           dayData.available+' '+CalendarData.text.status[dayData.status])}
                                       
                                        newHTML.push('      </div>');                                        newHTML.push('      <div id="wdh-bec-booking-calendar-day-status-'+calendarID+'-'+parseInt(dayData.full_date.split('-')[2]+''+dayData.full_date.split('-')[1]+''+dayData.full_date.split('-')[0])+'" data-day-id="wdh-bec-booking-calendar-day-'+calendarID+'-'+parseInt(dayData.full_date.split('-')[2]+''+dayData.full_date.split('-')[1]+''+dayData.full_date.split('-')[0])+'" class="wdh-bec-booking-calendar-day-available-status wdh-bec-booking-calendar-day-status wdh-bec-booking-hide">');                                       
                                        if(!dayData.middle_group
                                          &&!dayData.end_group){                                           
                                            if(dayData.status!=='in-cart'){                                                newHTML.push(           dayData.available+' '+CalendarData.text.status[dayData.status]);                                           }else{                                                newHTML.push(           CalendarData.text.status[dayData.status]); 
                                           }
                                       }
                                        newHTML.push('      </div>');                                       
                                        if(!dayData.group){                                            newHTML.push('      <div id="wdh-bec-booking-calendar-day-availability-'+calendarID+'-'+parseInt(dayData.full_date.split('-')[2]+''+dayData.full_date.split('-')[1]+''+dayData.full_date.split('-')[0])+'" data-day-id="wdh-bec-booking-calendar-day-'+calendarID+'-'+parseInt(dayData.full_date.split('-')[2]+''+dayData.full_date.split('-')[1]+''+dayData.full_date.split('-')[0])+'" class="wdh-bec-booking-calendar-day-availability">');                                            newHTML.push(           booking.calendar.availability.generate(dayData.booked,dayData.available));                                            newHTML.push('      </div>');                                       }
                                   }else{                                        if(dayData.status!=='unavailable'
                                           &&dayData.status!=='in-cart'
                                           &&dayData.status!=='booked'){                                           
                                                newHTML.push('      <div id="wdh-bec-booking-calendar-day-status-'+calendarID+'-'+parseInt(dayData.full_date.split('-')[2]+''+dayData.full_date.split('-')[1]+''+dayData.full_date.split('-')[0])+'" data-day-id="wdh-bec-booking-calendar-day-'+calendarID+'-'+parseInt(dayData.full_date.split('-')[2]+''+dayData.full_date.split('-')[1]+''+dayData.full_date.split('-')[0])+'" class="wdh-bec-booking-calendar-day-status">');                                               
                                                if(!dayData.middle_group&&!dayData.end_group){                                           
                                                    if(dayData.status!=='in-cart'){if(dayData.available<2){newHTML.push(           dayData.available+' '+CalendarData.text.status.available_one)}else{newHTML.push(           dayData.available+' '+CalendarData.text.status[dayData.status])}
                                                   }else{                                                        newHTML.push(           CalendarData.text.status[dayData.status]); 
                                                   }
                                               }
                                                newHTML.push('      </div>');                                               
                                                if(!dayData.group){                                                    newHTML.push('      <div id="wdh-bec-booking-calendar-day-availability-'+calendarID+'-'+parseInt(dayData.full_date.split('-')[2]+''+dayData.full_date.split('-')[1]+''+dayData.full_date.split('-')[0])+'" data-day-id="wdh-bec-booking-calendar-day-'+calendarID+'-'+parseInt(dayData.full_date.split('-')[2]+''+dayData.full_date.split('-')[1]+''+dayData.full_date.split('-')[0])+'" class="wdh-bec-booking-calendar-day-availability">');                                                    newHTML.push(           booking.calendar.availability.generate(dayData.booked,dayData.available));                                                    newHTML.push('      </div>');                                               }
                                       }else{                                           
                                            newHTML.push('      <div id="wdh-bec-booking-calendar-day-status-'+calendarID+'-'+parseInt(dayData.full_date.split('-')[2]+''+dayData.full_date.split('-')[1]+''+dayData.full_date.split('-')[0])+'" data-day-id="wdh-bec-booking-calendar-day-'+calendarID+'-'+parseInt(dayData.full_date.split('-')[2]+''+dayData.full_date.split('-')[1]+''+dayData.full_date.split('-')[0])+'" class="wdh-bec-booking-calendar-day-status">');                                           
                                            if(!dayData.middle_group&&!dayData.end_group){                                                newHTML.push(           CalendarData.text.status[dayData.status]);                                           }
                                            newHTML.push('      </div>');                                       }
                                   }
                                    newHTML.push('  </div>');                                    newHTML.push('</div>');                                   
                                   
                                    newHTML.push('<div class="wdh-bec-booking-calendar-day-space"></div>');                               
                               
                                dayNumber++;                               
                                return newHTML.join('');                           },                            get:function(tempDate,tempFullDate){                               
                               
                               
                               
                               
                                var tempData={};                                tempData.group=!1;                                tempData.start_group=!1;                                tempData.middle_group=!1;                                tempData.end_group=!1;                                tempData.group_class='';generalData=generalData!==undefined?generalData:{"price":0,"promo":0,"status":"unavailable","available":0,"booked":0,"notes":"","group":{"enabled":!1,"type":'monthly'},"hours":{"use":!1,"select":"single","data":""}};                               
                                tempData.price=generalData.promo<generalData.price&&generalData.promo!==0?generalData.promo:generalData.price;                                tempData.promo=generalData.promo;                                tempData.monthly_price=generalData.monthly_price;                                tempData.weekly_price=generalData.weekly_price;                                tempData.weekend_price=generalData.weekend_price;                                tempData.rf=generalData.rf;                                tempData.rfh=generalData.rfh;                                tempData.status=generalData.status;                                tempData.available=generalData.available;                                tempData.booked=generalData.booked;                                tempData.notes=generalData.notes;                                tempData.group=generalData.group.enabled;                                tempData.start_day=!1;                               
                                var tempCurrentWeekDay=tempDate.getDay();                               
                                if(tempCurrentWeekDay===0){                                    tempCurrentWeekDay=7;                               }
                               
                                if(tempCurrentWeekDay===1){                                    tempData.start_day=!0;                               }
                               
                               
                                if(generalData.group.enabled&&generalData.group.type==='monthly'){                                   
                                    if(tempDate.getDate()===1){                                        tempData.start_group=!0;                                   }else if(tempDate.getDate()===daysInMonth(tempDate.getMonth()+1,tempDate.getFullYear())){                                        tempData.end_group=!0;                                   }else{                                        tempData.middle_group=!0;                                   }
                                    tempData.group_class='wdh-bec-booking-calendar-group-month ';                               }
                               
                               
                                if(generalData.group.enabled&&generalData.group.type==='weekly'){                                   
                                    if(tempCurrentWeekDay===1){                                        tempData.start_group=!0;                                   }else if(tempCurrentWeekDay===7){                                        tempData.end_group=!0;                                   }else{                                        tempData.middle_group=!0;                                   }
                                    tempData.group_class='wdh-bec-booking-calendar-group-week ';                               }
                               
                               
                                var yearTemDate=tempDate.getFullYear();                               
                                for(var objDay in customYearsData){                                   
                                    if(customYearsData.hasOwnProperty(objDay)){                                       
                                        if(yearTemDate===parseInt(objDay)){                                            tempData.price=customYearsData[objDay].promo<customYearsData[objDay].price&&customYearsData[objDay].promo!==0?customYearsData[objDay].promo:customYearsData[objDay].price;                                            tempData.promo=customYearsData[objDay].promo;                                            tempData.monthly_price=customYearsData[objDay].monthly_price;                                            tempData.weekly_price=customYearsData[objDay].weekly_price;                                            tempData.weekend_price=customYearsData[objDay].weekend_price;tempData.rf=customYearsData[objDay].rf;tempData.rfh=customYearsData[objDay].rfh;                                            tempData.status=customYearsData[objDay].status;                                            tempData.available=customYearsData[objDay].available;                                            tempData.booked=customYearsData[objDay].booked;                                            tempData.notes=customYearsData[objDay].notes;                                       }
                                   }
                               }
                               
                               
                                var dayWeekDay=tempCurrentWeekDay;                               
                                for(var objDay in weekDayData){                                   
                                    if(weekDayData.hasOwnProperty(objDay)){                                     
                                        if(dayWeekDay===parseInt(objDay)){                                            tempData.price=weekDayData[objDay].promo<weekDayData[objDay].price&&weekDayData[objDay].promo!==0?weekDayData[objDay].promo:weekDayData[objDay].price;                                            tempData.promo=weekDayData[objDay].promo;tempData.rf=weekDayData[objDay].rf;tempData.rfh=weekDayData[objDay].rfh;                                            tempData.status=weekDayData[objDay].status;                                            tempData.available=weekDayData[objDay].available;                                            tempData.booked=weekDayData[objDay].booked;                                            tempData.notes=weekDayData[objDay].notes;                                           
                                            if(weekDayData[objDay].group.enabled){                                                tempData.group=weekDayData[objDay].group.enabled;                                                if(weekDayData[objDay].group.type==="start"){                                                    tempData.start_group=!0;                                               }else if(weekDayData[objDay].group.type==="end"){                                                    tempData.end_group=!0;                                               }else{                                                    tempData.middle_group=!0;                                               }
                                                tempData.group_class='wdh-bec-booking-calendar-group-weekday ';                                           }
                                       }
                                   }
                               }
                               
                               
                                var monthTemDate=tempDate.getMonth();                               
                                for(var objDay in customMonthsData){                                   
                                    if(customMonthsData.hasOwnProperty(objDay)){                                       
                                        if(monthTemDate===parseInt(objDay)){                                            tempData.price=customMonthsData[objDay].promo<customMonthsData[objDay].price&&customMonthsData[objDay].promo!==0?customMonthsData[objDay].promo:customMonthsData[objDay].price;                                            tempData.promo=customMonthsData[objDay].promo;                                            tempData.monthly_price=customMonthsData[objDay].monthly_price;                                            tempData.weekly_price=customMonthsData[objDay].weekly_price;                                            tempData.weekend_price=customMonthsData[objDay].weekend_price;tempData.rf=customMonthsData[objDay].rf;tempData.rfh=customMonthsData[objDay].rfh;                                            tempData.status=customMonthsData[objDay].status;                                            tempData.available=customMonthsData[objDay].available;                                            tempData.booked=customMonthsData[objDay].booked;                                            tempData.notes=customMonthsData[objDay].notes;                                           
                                            if(customMonthsData[objDay].group.enabled){                                                tempData.group=customMonthsData[objDay].group.enabled;                                                if(tempDate.getDate()===1){                                                    tempData.start_group=!0;                                               }else if(tempDate.getDate()===daysInMonth(tempDate.getMonth()+1,tempDate.getFullYear())){                                                    tempData.end_group=!0;                                               }else{                                                    tempData.middle_group=!0;                                               }
                                                tempData.group_class='wdh-bec-booking-calendar-group-month ';                                           }
                                       }
                                   }
                               }
                               
                               
                                var weekTemDate=tempDate.getWeek();                               
                                for(var objDay in customWeeksData){                                   
                                    if(customWeeksData.hasOwnProperty(objDay)){                                       
                                        if(weekTemDate===parseInt(objDay)){                                            tempData.price=customWeeksData[objDay].promo<customWeeksData[objDay].price&&customWeeksData[objDay].promo!==0?customWeeksData[objDay].promo:customWeeksData[objDay].price;                                            tempData.promo=customWeeksData[objDay].promo;                                            tempData.weekly_price=customWeeksData[objDay].weekly_price;                                            tempData.weekend_price=customWeeksData[objDay].weekend_price;tempData.rf=customWeeksData[objDay].rf;tempData.rfh=customWeeksData[objDay].rfh;                                            tempData.status=customWeeksData[objDay].status;                                            tempData.available=customWeeksData[objDay].available;                                            tempData.booked=customWeeksData[objDay].booked;                                            tempData.notes=customWeeksData[objDay].notes;                                           
                                            if(customWeeksData[objDay].group.enabled){                                                tempData.group=customWeeksData[objDay].group.enabled;                                                if(tempCurrentWeekDay===1){                                                    tempData.start_group=!0;                                               }else if(tempCurrentWeekDay===7){                                                    tempData.end_group=!0;                                               }else{                                                    tempData.middle_group=!0;                                               }
                                                tempData.group_class='wdh-bec-booking-calendar-group-week ';                                           }
                                       }
                                   }
                               }
                               
                               
                                for(var objDay in customDaysData){                                   
                                    if(customDaysData.hasOwnProperty(objDay)){                                     
                                        if(tempFullDate===objDay){                                            tempData.price=customDaysData[objDay].promo<customDaysData[objDay].price&&customDaysData[objDay].promo!==0?customDaysData[objDay].promo:customDaysData[objDay].price;                                            tempData.promo=customDaysData[objDay].promo;tempData.rf=customDaysData[objDay].rf;tempData.rfh=customDaysData[objDay].rfh;                                            tempData.status=customDaysData[objDay].status;                                            tempData.available=customDaysData[objDay].available;                                            tempData.booked=customDaysData[objDay].booked;                                            tempData.notes=customDaysData[objDay].notes;                               
                                           
                                            if(customDaysData[objDay].group.enabled){                                                tempData.group=customDaysData[objDay].group.enabled;                                                if(customDaysData[objDay].group.type==="start"){                                                    tempData.start_group=!0;                                               }else if(customDaysData[objDay].group.type==="end"){                                                    tempData.end_group=!0;                                               }else{                                                    tempData.middle_group=!0;                                               }
                                                tempData.group_class='wdh-bec-booking-calendar-group-days ';                                           }
                                       }
                                   }
                               }
                               
                               
                                for(var objPeriod in periodsData){                                   
                                    if(periodsData.hasOwnProperty(objPeriod)){                                      var modFullDate=tempFullDate.split('-')[2]+'-'+tempFullDate.split('-')[1]+'-'+tempFullDate.split('-')[0];                                        if(modFullDate>=periodsData[objPeriod].start&&modFullDate<=periodsData[objPeriod].end){                                            tempData.price=periodsData[objPeriod].promo<periodsData[objPeriod].price&&periodsData[objPeriod].promo!==0?periodsData[objPeriod].promo:periodsData[objPeriod].price;                                            tempData.promo=periodsData[objPeriod].promo;                                            tempData.status=periodsData[objPeriod].status;                                            tempData.available=periodsData[objPeriod].available;                                            tempData.booked=periodsData[objPeriod].booked;                                            tempData.notes=periodsData[objPeriod].notes;                                           
                                            if(periodsData[objPeriod].group.enabled){                                                tempData.group=periodsData[objPeriod].group.enabled;                                                if(periodsData[objPeriod].group.type==="start"){                                                    tempData.start_group=!0;                                               }else if(periodsData[objPeriod].group.type==="end"){                                                    tempData.end_group=!0;                                               }else{                                                    tempData.middle_group=!0;                                               }
                                                tempData.group_class='wdh-bec-booking-calendar-group-days ';                                           }
                                       }
                                   }
                               }
                               
                               
var modFullDate=tempFullDate.split('-')[2]+'-'+tempFullDate.split('-')[1]+'-'+tempFullDate.split('-')[0];for(var bkey in bookedDaysData){if(modFullDate>=bookedDaysData[bkey].start&&modFullDate<=bookedDaysData[bkey].end)
                                    tempData.status='booked'}
                             
                               
                                for(var key=0;key<cartData.length;key++){                                   
                                    if(cartData.hasOwnProperty(key)){                                     
                                        for(var skey=0;  skey<CalendarData.selected.length;skey++){                                         
                                            if(CalendarData.selected.hasOwnProperty(skey)){                                                if(cartData[key].calendars.indexOf(CalendarData.selected[skey])!==-1){                                                    for(var dkey in cartData[key].days){                                                     
                                                        if(cartData[key].days.hasOwnProperty(dkey)){                                                            if(cartData[key].days[dkey]===tempFullDate){                                                                tempData.status='in-cart';                                                           }
                                                       }
                                                   }
                                               }
                                           }
                                       }
                                   }
                               }
                               
                                return tempData;                           },findPrice:function(key,tempCDay,tempCMonth,tempCYear,tempCurrentWeekDay,tempgetDayData,tempRemainedDays,tempDays,daysAdded){var priceFound=!1,priceData={},tempData={},tempStartDate,tempEndDate,tempAdded=daysAdded,nextKey,tempdayData=[];tempdayData.full_date=tempDays[key];if(tempRemainedDays>=28&&tempCDay==='01'&&tempgetDayData.monthly_price!==undefined&&tempgetDayData.monthly_price>0){var nextMonth=(parseInt(tempCMonth)+1)<10?'0'+(parseInt(tempCMonth)+1):(parseInt(tempCMonth)+1),nextYear=parseInt(tempCYear),endDate;if((parseInt(tempCMonth)+1)>12){nextMonth='01';nextYear=parseInt(tempCYear)+1}
tempEndDate=new Date(tempCYear,parseInt(tempCMonth),0);tempStartDate=new Date(tempCYear,parseInt(tempCMonth)-1,tempCDay);endDate=booking.general.convert(tempEndDate.getDate())+'-'+booking.general.convert((tempEndDate.getMonth()+1))+'-'+tempEndDate.getFullYear();if(tempDays.hasOwnProperty(endDate)){priceData.type='monthly';priceData.price=tempgetDayData.monthly_price;priceData.rf=tempgetDayData.rf;priceData.rfh=tempgetDayData.rfh;priceData.start_date=tempdayData.full_date;priceData.end_date=endDate;if(daysAdded.indexOf(priceData.start_date)===-1){priceFound=!0;while(tempStartDate<=tempEndDate){tempAdded.push(booking.general.convert(tempStartDate.getDate())+'-'+booking.general.convert((tempStartDate.getMonth()+1))+'-'+tempStartDate.getFullYear());tempStartDate.setDate(tempStartDate.getDate()+1)}
nextKey=priceData.end_date;tempData.price=priceData;tempData.next_key=nextKey;tempData.added_days=tempAdded}}}
if(tempCurrentWeekDay===0&&tempRemainedDays>=7&&tempgetDayData.weekly_price!==undefined&&tempgetDayData.weekly_price>0&&!priceFound){tempEndDate=new Date(tempCYear,parseInt(tempCMonth)-1,tempCDay);tempEndDate.setDate(tempEndDate.getDate()+6);tempStartDate=new Date(tempCYear,parseInt(tempCMonth)-1,tempCDay);endDate=booking.general.convert(tempEndDate.getDate())+'-'+booking.general.convert((tempEndDate.getMonth()+1))+'-'+tempEndDate.getFullYear();if(tempDays.hasOwnProperty(endDate)){priceData={};priceData.type='weekly';priceData.price=tempgetDayData.weekly_price;priceData.rf=tempgetDayData.rf;priceData.rfh=tempgetDayData.rfh;priceData.start_date=tempdayData.full_date;priceData.end_date=endDate;if(daysAdded.indexOf(priceData.start_date)===-1){priceFound=!0;while(tempStartDate<=tempEndDate){tempAdded.push(booking.general.convert(tempStartDate.getDate())+'-'+booking.general.convert((tempStartDate.getMonth()+1))+'-'+tempStartDate.getFullYear());tempStartDate.setDate(tempStartDate.getDate()+1)}
nextKey=priceData.end_date;tempData.price=priceData;tempData.next_key=nextKey;tempData.added_days=tempAdded}}}
if(tempCurrentWeekDay===5&&tempRemainedDays>=3&&tempgetDayData.weekend_price!==undefined&&tempgetDayData.weekend_price>0&&!priceFound){tempStartDate=new Date(tempCYear,parseInt(tempCMonth)-1,tempCDay);for(var i=1;i<=3;i++){tempAdded.push(booking.general.convert(tempStartDate.getDate())+'-'+booking.general.convert((tempStartDate.getMonth()+1))+'-'+tempStartDate.getFullYear());if(i===3){endDate=booking.general.convert(tempStartDate.getDate())+'-'+booking.general.convert((tempStartDate.getMonth()+1))+'-'+tempStartDate.getFullYear();tempStartDate.setDate(tempStartDate.getDate()+1);nextKey=booking.general.convert(tempStartDate.getDate())+'-'+booking.general.convert((tempStartDate.getMonth()+1))+'-'+tempStartDate.getFullYear()}else{tempStartDate.setDate(tempStartDate.getDate()+1)}}
if(tempDays.hasOwnProperty(endDate)){priceData={};priceData.type='weekend';priceData.price=tempgetDayData.weekend_price;priceData.rf=tempgetDayData.rf;priceData.rfh=tempgetDayData.rfh;priceData.start_date=tempdayData.full_date;priceData.end_date=endDate;priceFound=!0;tempData.price=priceData;tempData.next_key=nextKey;tempData.added_days=tempAdded}}
if(!priceFound){priceFound=!0;tempEndDate=new Date(tempCYear,(parseInt(tempCMonth)-1),tempCDay);tempEndDate=tempEndDate.daysMoreLess(1);priceData.type='daily';priceData.price=tempgetDayData.price;priceData.start_date=tempdayData.full_date;priceData.end_date=priceData.start_date;tempData.price=priceData;                            tempData.next_key=booking.general.convert(tempEndDate.getDate())+'-'+booking.general.convert((tempEndDate.getMonth()+1))+'-'+tempEndDate.getFullYear();tempAdded.push(priceData.start_date);tempData.added_days=tempAdded;                           }
return tempData},findMonthlyPrices:function(allDays){var months=[],remainedDays=[],tempDay,daysInMonth,endDate,tempData=[],finished=!1,skipDaysUntil='',startDays=!0,getPrice,priceData=[],data=[];data.prices=[];data.remained=[];data.added_days=[];for(var key in allDays){if(allDays.hasOwnProperty(key)&&!finished&&(skipDaysUntil===''||skipDaysUntil===key)){tempDay=allDays[key].split('-');if(tempDay[0]==='01'){getPrice=booking.calendar.month.week.day.get(booking.general.date(allDays[key]),allDays[key]);if(getPrice.monthly_price!==undefined&&getPrice.monthly_price>0){startDays=!1;daysInMonth=new Date(tempDay[2],tempDay[1],0).getDate();endDate=daysInMonth+'-'+tempDay[1]+'-'+tempDay[2];if(allDays.hasOwnProperty(endDate)){tempData.start=tempDay[0]+'-'+tempDay[1]+'-'+tempDay[2];tempData.end=endDate;months.push(tempData);key=endDate;skipDaysUntil=endDate;priceData.type='monthly';priceData.price=getPrice.monthly_price;priceData.rf=getPrice.rf!==undefined?getPrice.rf:0;priceData.rfh=getPrice.rfh!==undefined?getPrice.rfh:0;priceData.start_date=tempData.start;priceData.end_date=tempData.end;priceData.no_days=daysInMonth;priceData.available=getPrice.available;data.prices[tempData.start]=priceData;priceData=[];tempData=[]}else{var remainedCanBeAdded=!1,oldKey=key;for(var skey in allDays){if(allDays.hasOwnProperty(skey)){if(remainedCanBeAdded){remainedDays[skey]=allDays[skey];remainedDays.length++;key=skey}
if(oldKey===skey){remainedCanBeAdded=!0;remainedDays[skey]=allDays[skey];remainedDays.length++}}}
finished=!0}}else{startDays=!0;remainedDays[key]=allDays[key];remainedDays.length++}}else{skipDaysUntil='';daysInMonth=new Date(tempDay[2],tempDay[1],0).getDate();if(tempDay[0]+'-'+tempDay[1]+'-'+tempDay[2]!==daysInMonth+'-'+tempDay[1]+'-'+tempDay[2]||startDays){remainedDays[key]=allDays[key];remainedDays.length++}}}}
data.remained=remainedDays;selectedData.days=[];for(var key in allDays){if(allDays.hasOwnProperty(key)&&!remainedDays.hasOwnProperty(key)){data.added_days.push(allDays[key])}
if(allDays.hasOwnProperty(key)){selectedData.days.push(allDays[key])}}
return data},findWeeklyPrices:function(allDays,addedDays){var weeks=[],remainedDays=[],tempDay,startDate,endDate,tempData=[],finished=!1,skipDaysUntil='',startDays=!0,getPrice,priceData=[],data=[],tempCurrentWeekDay,tempStartDate,tempEndDate,maxDays=CalendarData.mode==='nights'?7:7;data.prices=[];data.remained=[];data.added_days=addedDays;for(var key in allDays){if(allDays.hasOwnProperty(key)&&!finished&&(skipDaysUntil===''||skipDaysUntil===key)){tempDay=allDays[key].split('-');tempStartDate=new Date(tempDay[2],parseInt(tempDay[1])-1,tempDay[0]);tempCurrentWeekDay=tempStartDate.getDay();if(tempCurrentWeekDay===1){getPrice=booking.calendar.month.week.day.get(booking.general.date(allDays[key]),allDays[key]);if(getPrice.weekly_price!==undefined&&getPrice.weekly_price>0){tempEndDate=tempStartDate;tempEndDate.setDate(tempEndDate.getDate()+(maxDays-1));endDate=booking.general.convert(tempEndDate.getDate())+'-'+booking.general.convert((tempEndDate.getMonth()+1))+'-'+tempEndDate.getFullYear();if(allDays.hasOwnProperty(endDate)){tempData.start=tempDay[0]+'-'+tempDay[1]+'-'+tempDay[2];tempData.end=endDate;weeks.push(tempData);key=endDate;var nextKeyGet=!1,nextKey=key;for(var skey in allDays){if(allDays.hasOwnProperty(skey)){if(nextKeyGet){nextKey=skey;nextKeyGet=!1}
if(endDate===skey){nextKeyGet=!0}}}
skipDaysUntil=nextKey;if(nextKey===endDate){finished=!0}
priceData.type='weekly';priceData.price=getPrice.weekly_price;priceData.rf=getPrice.rf!==undefined?getPrice.rf:0;priceData.rfh=getPrice.rfh!==undefined?getPrice.rfh:0;priceData.start_date=tempData.start;priceData.end_date=tempData.end;priceData.no_days=7;priceData.available=getPrice.available;data.prices[tempData.start]=priceData;priceData=[];tempData=[]}else{skipDaysUntil='';remainedDays[key]=allDays[key];remainedDays.length++}}else{startDays=!0;remainedDays[key]=allDays[key];remainedDays.length++}}else{skipDaysUntil='';remainedDays[key]=allDays[key];remainedDays.length++}}}
data.remained=remainedDays;for(var key in allDays){if(allDays.hasOwnProperty(key)&&!remainedDays.hasOwnProperty(key)){data.added_days.push(allDays[key])}}
return data},findWeekendPrices:function(allDays,addedDays){var weekends=[],remainedDays=[],tempDay,startDate,endDate,tempData=[],finished=!1,skipDaysUntil='',startDays=!0,getPrice,priceData=[],data=[],tempCurrentWeekDay,tempStartDate,tempEndDate,maxDays=CalendarData.mode==='nights'?7:7;data.prices=[];data.remained=[];data.added_days=addedDays;for(var key in allDays){if(allDays.hasOwnProperty(key)&&!finished&&(skipDaysUntil===''||skipDaysUntil===key)){tempDay=allDays[key].split('-');tempStartDate=new Date(tempDay[2],parseInt(tempDay[1])-1,tempDay[0]);tempCurrentWeekDay=tempStartDate.getDay();if(tempCurrentWeekDay===5){getPrice=booking.calendar.month.week.day.get(booking.general.date(allDays[key]),allDays[key]);if(getPrice.weekend_price!==undefined&&getPrice.weekend_price>0){tempEndDate=tempStartDate;tempEndDate.setDate(tempEndDate.getDate()+2);endDate=booking.general.convert(tempEndDate.getDate())+'-'+booking.general.convert((tempEndDate.getMonth()+1))+'-'+tempEndDate.getFullYear();if(allDays.hasOwnProperty(endDate)){tempData.start=tempDay[0]+'-'+tempDay[1]+'-'+tempDay[2];tempData.end=endDate;weekends.push(tempData);key=endDate;var nextKeyGet=!1,nextKey=key;for(var skey in allDays){if(allDays.hasOwnProperty(skey)){if(nextKeyGet){nextKey=skey;nextKeyGet=!1}
if(endDate===skey){nextKeyGet=!0}}}
skipDaysUntil=nextKey;if(nextKey===endDate){finished=!0}
priceData.type='weekend';priceData.price=getPrice.weekend_price;priceData.rf=getPrice.rf!==undefined?getPrice.rf:0;priceData.rfh=getPrice.rfh!==undefined?getPrice.rfh:0;priceData.start_date=tempData.start;priceData.end_date=tempData.end;priceData.no_days=3;priceData.available=getPrice.available;data.prices[tempData.start]=priceData;priceData=[];tempData=[]}else{skipDaysUntil='';remainedDays[key]=allDays[key];remainedDays.length++}}else{startDays=!0;remainedDays[key]=allDays[key];remainedDays.length++}}else{skipDaysUntil='';remainedDays[key]=allDays[key];remainedDays.length++}}}
data.remained=remainedDays;for(var key in allDays){if(allDays.hasOwnProperty(key)&&!remainedDays.hasOwnProperty(key)){data.added_days.push(allDays[key])}}
return data},findDailyPrices:function(allDays,addedDays){var days=[],tempData=[],getPrice,priceData=[],data=[];data.prices=[];data.remained=[];data.added_days=addedDays;for(var key in allDays){if(allDays.hasOwnProperty(key)){getPrice=booking.calendar.month.week.day.get(booking.general.date(allDays[key]),allDays[key]);if(getPrice.price!==undefined&&getPrice.price>0){tempData.start=allDays[key];tempData.end=allDays[key];days.push(tempData);priceData.type='daily';priceData.price=getPrice.price;priceData.rf=getPrice.rf!==undefined?getPrice.rf:0;priceData.rfh=getPrice.rfh!==undefined?getPrice.rfh:0;priceData.start_date=tempData.start;priceData.end_date=tempData.end;priceData.no_days=1;priceData.available=getPrice.available;data.prices[tempData.start]=priceData;priceData=[];tempData=[]}}}
return data},                            getPrice:function(){                               
                                var tempData={},tempDate,tempFullDate,startDate=selectedData.day.start.date,endDate=selectedData.day.end.date,price=0,rf=0,rfh=0,priceData={},priceType='daily',prices=[],startDay=!1,daysAdded=[];var tempSDate=new Date(startDate.split('-')[2]+'-'+startDate.split('-')[1]+'-'+startDate.split('-')[0]),tempEDate=new Date(endDate.split('-')[2]+'-'+endDate.split('-')[1]+'-'+endDate.split('-')[0]),tempDays=[];while(tempSDate<=tempEDate){tempDays[booking.general.convert(tempSDate.getDate())+'-'+booking.general.convert((tempSDate.getMonth()+1))+'-'+tempSDate.getFullYear()]=booking.general.convert(tempSDate.getDate())+'-'+booking.general.convert((tempSDate.getMonth()+1))+'-'+tempSDate.getFullYear();tempSDate.setDate(tempSDate.getDate()+1);tempDays.length++}
if(tempDays.indexOf(booking.general.convert(tempEDate.getDate())+'-'+booking.general.convert((tempEDate.getMonth()+1))+'-'+tempEDate.getFullYear())===-1){tempDays[booking.general.convert(tempEDate.getDate())+'-'+booking.general.convert((tempEDate.getMonth()+1))+'-'+tempEDate.getFullYear()]=booking.general.convert(tempEDate.getDate())+'-'+booking.general.convert((tempEDate.getMonth()+1))+'-'+tempEDate.getFullYear()}
var monthlyPrices=booking.calendar.month.week.day.findMonthlyPrices(tempDays);for(var mkey in monthlyPrices.prices){if(monthlyPrices.prices[mkey].price!==undefined){daysAdded=monthlyPrices.added_days;prices.push(monthlyPrices.prices[mkey]);price+=monthlyPrices.prices[mkey].price;rf+=monthlyPrices.prices[mkey].rf;rfh+=monthlyPrices.prices[mkey].rfh;if(monthlyPrices.prices[mkey].available<selectedData.max_items){selectedData.max_items=monthlyPrices.prices[mkey].available}}}
tempDays=monthlyPrices.remained;var weeklyPrices=booking.calendar.month.week.day.findWeeklyPrices(monthlyPrices.remained,monthlyPrices.added_days);for(var wkey in weeklyPrices.prices){if(weeklyPrices.prices[wkey].price!==undefined){daysAdded=weeklyPrices.added_days;prices.push(weeklyPrices.prices[wkey]);price+=weeklyPrices.prices[wkey].price;rf+=weeklyPrices.prices[wkey].rf;rfh+=weeklyPrices.prices[wkey].rfh;if(weeklyPrices.prices[wkey].available<selectedData.max_items){selectedData.max_items=weeklyPrices.prices[wkey].available}}}
tempDays=weeklyPrices.remained;var weekendPrices=booking.calendar.month.week.day.findWeekendPrices(weeklyPrices.remained,weeklyPrices.added_days);for(var wkkey in weekendPrices.prices){if(weekendPrices.prices[wkkey].price!==undefined){daysAdded=weekendPrices.added_days;prices.push(weekendPrices.prices[wkkey]);price+=weekendPrices.prices[wkkey].price;rf+=weekendPrices.prices[wkkey].rf;rfh+=weekendPrices.prices[wkkey].rfh;if(weekendPrices.prices[wkkey].available<selectedData.max_items){selectedData.max_items=weekendPrices.prices[wkkey].available}}}
tempDays=weekendPrices.remained;var daysPrices=booking.calendar.month.week.day.findDailyPrices(weekendPrices.remained,weekendPrices.added_days);for(var dkey in daysPrices.prices){if(daysPrices.prices[dkey].price!==undefined){daysAdded=daysPrices.added_days;prices.push(daysPrices.prices[dkey]);price+=daysPrices.prices[dkey].price;rf+=daysPrices.prices[dkey].rf;rfh+=daysPrices.prices[dkey].rfh;if(daysPrices.prices[dkey].available<selectedData.max_items){selectedData.max_items=daysPrices.prices[dkey].available}}}
tempDays=daysPrices.remained;                            selectedData.minimum_fee='false';if(CalendarData.account_type==='free'){if(price/settingsData.currency.rate<22){var pp_price=((price-rf-rfh)*100)/(100+10);price=pp_price+2+rf+rfh;                            selectedData.minimum_fee='true'}}else{if(price/settingsData.currency.rate<26.25){var pp_price=((price-rf-rfh)*100)/(100+5);price=pp_price+1.5+rf+rfh;                            selectedData.minimum_fee='true'}else if(price/settingsData.currency.rate<35.55){var pp_price=((price-rf-rfh)*100)/(100+4.5);price=pp_price+1.5+rf+rfh;                            selectedData.minimum_fee='true'}}
var temp_stripe_fee=0;var old_price=price;old_price=old_price.toFixed(2);if(settingsData.currency.code!=='USD'){price=price/(1-0.034)}else{price=price/(1-0.029)}
price=price.toFixed(2);if(!CalendarData.stripe_fee_added){if(settingsData.currency.code!=='USD'){var stripe_fee_fixed=0.35*settingsData.currency.rate}else{var stripe_fee_fixed=0.30*settingsData.currency.rate}
stripe_fee_fixed=stripe_fee_fixed.toFixed(2);price=parseFloat(price)+parseFloat(stripe_fee_fixed);temp_stripe_fee=parseFloat(stripe_fee_fixed)}
var stripe_fee=price-old_price;stripe_fee=stripe_fee.toFixed(2);                            selectedData.price=price;CalendarData.cart.price=price;CalendarData.stripe_fee=CalendarData.stripe_fee+stripe_fee;selectedData.stripe_fee=stripe_fee;selectedData.rf=rf;selectedData.rfh=rfh;selectedData.rfid=CalendarData.referral_id;CalendarData.rf=CalendarData.rf+rf;CalendarData.rfh=CalendarData.rfh+rfh;                            selectedData.prices=prices;tempData.prices=prices;tempData.total_price=price;                               
                                return tempData;                           },setPrices:function(prices){dev123.log(prices,'good','Prices:','prices')},                            clear:function(){    
                               
                                booking.load.selected();                             
                               
                                booking.calendar.month.week.day.select.days();                                     
                               
                                     
                               
                 
                               
                                booking.reservations.reservation.price.disable();                                       
                               
                                booking.reservations.reservation.add.buttons.disable();                           },                            select:{                                days:function(){                                   
                                    $GUP('.wdh-bec-booking-calendar-day-available').removeClass('wdh-bec-booking-calendar-day-selected');                                   
                                    if(selectedData.day.start.no!==""&&selectedData.day.end.no!==""){                                       
                                        var tempStartNoDay=selectedData.day.start.no,                                            tempEndNoDay=selectedData.day.end.no;                                        if(tempEndNoDay<=tempStartNoDay){                                            var tempDataStartNo=tempStartNoDay;                                                tempStartNoDay=tempEndNoDay;                                                tempEndNoDay=tempDataStartNo;                                       }
                                       
                                        selectedData.days=[];                                        for(var i=tempStartNoDay;i<=tempEndNoDay;i++){                                            if($GUP('#wdh-bec-booking-calendar-day-'+calendarID+'-'+i).attr('data-date')!==undefined){                                                $GUP('#wdh-bec-booking-calendar-day-'+calendarID+'-'+i).addClass('wdh-bec-booking-calendar-day-selected');                                                selectedData.days.push($GUP('#wdh-bec-booking-calendar-day-'+calendarID+'-'+i).attr('data-date'));                                           }
                                       }
                                   }
                               },                                day:function(){                                    selectedData.day.end.date='';                                    selectedData.day.end.no='';                                    selectedData.days=[];                                 
                                   
                                    if((selectedData.day.start.date!==""&&selectedData.day.end.date==="")){                                        $GUP('.wdh-bec-booking-calendar-day-available').removeClass('wdh-bec-booking-calendar-day-selected');                                        $GUP('#wdh-bec-booking-calendar-day-'+calendarID+'-'+selectedData.day.start.no).addClass('wdh-bec-booking-calendar-day-selected');                                   }
                               }
                           },                            events:function(){                               
                                $GUP('.wdh-bec-booking-calendar-day-available').hover(function(event){                                   
                                        if(window.firstBookedDay===''
                                           &&event.target.id!==undefined
                                           &&event.target.id!==''){                                       
                                            if(selectedData.day.start.date!==""&&selectedData.day.end.date===""){                                               
                                                if(event.target.id!==undefined
                                                   &&event.target.id!==''){                                                    var selectedDayNumber=$GUP('#'+event.target.id).attr('data-day-id');                                                   
                                                        if(selectedDayNumber){                                                            selectedDayNumber=parseInt(selectedDayNumber.split('wdh-bec-booking-calendar-day-'+calendarID+'-')[1]);                                                       }else{                                                            return!1;                                                       }
                                                   
                                                   
                                                    selectedData.day.end.no=selectedDayNumber;                                               }
                                           }
                                          
                                           
                                            booking.calendar.month.week.day.select.days();                                           
                                           
                                            if((selectedData.day.start.date!==""&&selectedData.day.end.date!=="")
                                               ||(selectedData.day.start.date===""&&selectedData.day.end.date==="")){                                           
                                                if(event.target.id!==undefined
                                                   &&event.target.id!==''){                                                    $GUP('#wdh-bec-booking-calendar-day-'+calendarID+'-'+selectedDayNumber+' .wdh-bec-booking-calendar-day-price').addClass('wdh-bec-booking-hide');                                                    $GUP('#wdh-bec-booking-calendar-day-'+calendarID+'-'+selectedDayNumber+' .wdh-bec-booking-calendar-day-status').removeClass('wdh-bec-booking-hide');                                               }
                                           }
                                       }
                               },                                function(event){                                   
                                   
                                    if((selectedData.day.start.date!==""&&selectedData.day.end.date!=="")
                                       ||(selectedData.day.start.date===""&&selectedData.day.end.date==="")){                                        $GUP('.wdh-bec-booking-calendar-day-available-price').removeClass('wdh-bec-booking-hide');                                        $GUP('.wdh-bec-booking-calendar-day-available-status').addClass('wdh-bec-booking-hide');                                   }
                               });                               
                               
                                $GUP('.wdh-bec-booking-calendar-day-available').unbind('click','event3');                                $GUP('.wdh-bec-booking-calendar-day-available').bind('click','event3',function(){                                    var selectedDayNumber=parseInt(this.id.split('wdh-bec-booking-calendar-day-'+calendarID+'-')[1]);                                    wdhInputDatepicker=!1;                                   
                                   
                                    setTimeout(function(){                                        wdhInputDatepicker=!0;                                   },0);                                   
                                    if(selectedData.day.start.no!==""&&selectedData.day.end.date===""){                                        selectedData.day.end.no=selectedDayNumber;                                       
                                        $GUP('.wdh-bec-booking-calendar-day-available').removeClass('wdh-bec-booking-calendar-day-selected');                                        var tempStartNoDay=selectedData.day.start.no,                                            tempEndNoDay=selectedData.day.end.no;                                           
                                        if(tempEndNoDay!==""){                                           
                                            if(tempEndNoDay<=tempStartNoDay){                                                var tempDataStartNo=tempStartNoDay;                                                    tempStartNoDay=tempEndNoDay;                                                    tempEndNoDay=tempDataStartNo;                                           }
                                           
                                           
                                            selectedData.days=[];                                            for(var i=tempStartNoDay;i<=tempEndNoDay;i++){                                               
                                                if($GUP('#wdh-bec-booking-calendar-day-'+calendarID+'-'+i).attr('data-date')!==undefined){                                                    if(!$GUP('#wdh-bec-booking-calendar-day-'+calendarID+'-'+i).hasClass('wdh-bec-booking-calendar-day-booked')
                                                       &&window.firstBookedDay===''){                                                       
                                                        $GUP('#wdh-bec-booking-calendar-day-'+calendarID+'-'+i).addClass('wdh-bec-booking-calendar-day-selected');                                                        selectedData.days.push($GUP('#wdh-bec-booking-calendar-day-'+calendarID+'-'+i).attr('data-date'));                                                       
                                                   }else{                                                        selectedData.day.end.date=$GUP('#wdh-bec-booking-calendar-day-'+calendarID+'-'+(i-1)).attr('data-date');                                                        selectedData.day.end.no=i-1;                                                        if(selectedData.day.end.date<=selectedData.day.start.date){                                                            var tempDataStart=selectedData.day.start.date,                                                                tempDataStartNo=selectedData.day.start.no;                                                                selectedData.day.start.date=selectedData.day.end.date;                                                                selectedData.day.end.date=tempDataStart;                                                                selectedData.day.start.no=selectedData.day.end.no;                                                                selectedData.day.end.no=tempDataStartNo;                                                       }
                                                       
                                                        window.firstBookedDay=i;                                                        tempEndNoDay=i;                                                        selectedData.day.start.date=$GUP('#wdh-bec-booking-calendar-day-'+calendarID+'-'+tempEndNoDay).attr('data-date');                                                        selectedData.day.start.no=tempEndNoDay;                                                        selectedData.day.end.date=$GUP('#wdh-bec-booking-calendar-day-'+calendarID+'-'+tempEndNoDay).attr('data-date');                                                        selectedData.day.end.no=tempEndNoDay;                                                   }
                                               }
                                           }
                                       }
                                   }
                                           
                                    if(window.firstBookedDay!==''){                                       
                                        $GUP('.wdh-bec-booking-calendar-day-available').removeClass('wdh-bec-booking-calendar-day-selected');                                        selectedData.day.start.date='';                                        selectedData.day.end.date='';                                        selectedData.days=[];                                        window.firstBookedDay='';                                   }
                                   
                                    if(selectedData.day.end.date!==""){                                       
                                        $GUP('.wdh-bec-booking-calendar-day-available').removeClass('wdh-bec-booking-calendar-day-selected');                                        selectedData.day.start.date='';                                        selectedData.day.end.date='';                                        selectedData.days=[];                                   }
                                   
                                   
                                    $GUP('#'+this.id).addClass('wdh-bec-booking-calendar-day-selected');                                   
                                   
                                    if(selectedData.day.start.date===""){                                        selectedData.day.start.date=$GUP('#'+this.id).attr('data-date');                                        selectedData.day.start.no=selectedDayNumber;                                       
                                        $GUP('.wdh-bec-booking-calendar-day-available-price').removeClass('wdh-bec-booking-hide');                                        $GUP('.wdh-bec-booking-calendar-day-available-status').addClass('wdh-bec-booking-hide');                                     
                                       
                                       
                                       
                                        booking.reservations.reservation.add.buttons.disable();                                   
                                       
                                        if(CalendarData.settings.use_hours==='true'){                                           
                                           
                                            if(CalendarData.settings.hours.select==='single'){                                               
                                                selectedData.day.end.date=selectedData.day.start.date;                                                selectedData.day.end.no=selectedData.day.start.no;                                               
                                               
                                               
                                                booking.sidebar.step('two');                                           }
                                       }
                                   }else{                                       
                                        if(CalendarData.settings.use_hours!=='true'){                                            selectedData.day.end.date=$GUP('#'+this.id).attr('data-date');                                            selectedData.day.end.no=selectedDayNumber;                                           
                                            if(selectedData.day.end.date<=selectedData.day.start.date){                                                var tempDataStart=selectedData.day.start.date,                                                    tempDataStartNo=selectedData.day.start.no;                                                    selectedData.day.start.date=selectedData.day.end.date;                                                    selectedData.day.end.date=tempDataStart;                                                    selectedData.day.start.no=selectedData.day.end.no;                                                    selectedData.day.end.no=tempDataStartNo;                                               
                                           }
                                         
                                           
                                           
                                            booking.reservations.reservation.add.buttons.enable();                                           
                                            booking.reservations.cart.enable();                                       }else{                                           
                                            if(CalendarData.settings.use_hours==='true'){                                               
                                                if(CalendarData.settings.hours.select==='multiple'){                                                   
                                               }else if(CalendarData.settings.hours.select==='interval'){                                                   
                                               }
                                           }
                                       }
                                   }
                               });                               
                               
                                $GUP('.wdh-bec-booking-calendar-group-day').unbind('click','event4');                                $GUP('.wdh-bec-booking-calendar-group-day').bind('click','event4',function(){                                    var tempAllSelectedGroupDays=$GUP('#'+this.id).parent(),                                        tempAllSelectedGroupDays=$GUP('#'+$GUP('#'+this.id).parent().id+' .wdh-bec-booking-calendar-group-day')['selector'],                                        k=1;                                   
                                    $GUP('.wdh-bec-booking-calendar-day-available').removeClass('wdh-bec-booking-calendar-day-selected');                                   
                                    for(var i=0;i<tempAllSelectedGroupDays.length;i++){                                        var selectedDayNumber=parseInt($GUP('#'+tempAllSelectedGroupDays[i].id).attr('id').split('wdh-bec-booking-calendar-day-'+calendarID+'-')[1]);                                       
                                       
                                        $GUP('#'+tempAllSelectedGroupDays[i].id).addClass('wdh-bec-booking-calendar-day-selected');                                        selectedData.days.push($GUP('#'+tempAllSelectedGroupDays[i].id).attr('data-date'));                                       
                                        if(k===1){                                            selectedData.day.start.date=$GUP('#'+tempAllSelectedGroupDays[i].id).attr('data-date');                                            selectedData.day.start.no=selectedDayNumber;                                       }
                                       
                                        if(k===tempAllSelectedGroupDays.length){                                            selectedData.day.end.date=$GUP('#'+tempAllSelectedGroupDays[i].id).attr('data-date');                                            selectedData.day.end.no=selectedDayNumber;                                       }
                                       
                                        if($GUP('#'+tempAllSelectedGroupDays[i].id).hasClass('wdh-bec-booking-calendar-day-unavailable')
                                           ||$GUP('#'+tempAllSelectedGroupDays[i].id).hasClass('wdh-bec-booking-calendar-day-booked')){                                       
                                           
                                            $GUP('.wdh-bec-booking-calendar-day-available').removeClass('wdh-bec-booking-calendar-day-selected');                                            selectedData.day.start.date='';                                            selectedData.day.end.date='';                                            selectedData.days=[];                                       }
                                       
                                        k++;                                   }
                                     
                                   
                                     
                                   
                                       
                                   
                                    booking.reservations.cart.enable();                                   
                               });                           }
                       },hour:{                            select:{                                hours:function(){                                   
                                    $GUP('.wdh-bec-booking-calendar-hour-available').removeClass('wdh-bec-booking-calendar-hour-selected');                                   
                                    if(selectedData.hour.start.no!==""&&selectedData.hour.end.no!==""){                                       
                                        var tempStartNohour=selectedData.hour.start.no,                                            tempEndNohour=selectedData.hour.end.no;                                        if(tempEndNohour<=tempStartNohour){                                            var tempDataStartNo=tempStartNohour;                                                tempStartNohour=tempEndNohour;                                                tempEndNohour=tempDataStartNo;                                       }
                                       
                                        selectedData.hours=[];                                        for(var i=tempStartNohour;i<=tempEndNohour;i++){                                            if($GUP('#wdh-bec-booking-calendar-hour-'+calendarID+'-'+i).attr('data-hour')!==undefined){                                                $GUP('#wdh-bec-booking-calendar-hour-'+calendarID+'-'+i).addClass('wdh-bec-booking-calendar-hour-selected');                                                selectedData.hours.push($GUP('#wdh-bec-booking-calendar-hour-'+calendarID+'-'+i).attr('data-hour'));                                           }
                                       }
                                   }
                               },                                hour:function(){                                    selectedData.hour.end.date='';                                    selectedData.hour.end.no='';                                    selectedData.hours=[];                                 
                                   
                                    if((selectedData.hour.start.date!==""&&selectedData.hour.end.date==="")){                                        $GUP('.wdh-bec-booking-calendar-hour-available').removeClass('wdh-bec-booking-calendar-hour-selected');                                        $GUP('#wdh-bec-booking-calendar-hour-'+calendarID+'-'+selectedData.hour.start.no).addClass('wdh-bec-booking-calendar-hour-selected');                                   }
                               }
                           },                            events:function(){                               
                                $GUP('.wdh-bec-booking-calendar-hour-available').hover(function(event){                                   
                                        if(window.firstBookedhour===''
                                           &&event.target.id!==undefined
                                           &&event.target.id!==''){                                       
                                            if(selectedData.hour.start.date!==""&&selectedData.hour.end.date===""){                                               
                                                if(event.target.id!==undefined
                                                   &&event.target.id!==''){                                                    var selectedhourNumber=$GUP('#'+event.target.id).attr('data-hour-id');                                                   
                                                        if(selectedhourNumber){                                                            selectedhourNumber=parseInt(selectedhourNumber.split('wdh-bec-booking-calendar-hour-'+calendarID+'-')[1]);                                                       }else{                                                            return!1;                                                       }
                                                   
                                                   
                                                    selectedData.hour.end.no=selectedhourNumber;                                               }
                                           }
                                          
                                           
                                            booking.calendar.month.week.hour.select.hours();                                           
                                           
                                            if((selectedData.hour.start.date!==""&&selectedData.hour.end.date!=="")
                                               ||(selectedData.hour.start.date===""&&selectedData.hour.end.date==="")){                                           
                                                if(event.target.id!==undefined
                                                   &&event.target.id!==''){                                                    $GUP('#wdh-bec-booking-calendar-hour-'+calendarID+'-'+selectedhourNumber+' .wdh-bec-booking-calendar-hour-price').addClass('wdh-bec-booking-hide');                                                    $GUP('#wdh-bec-booking-calendar-hour-'+calendarID+'-'+selectedhourNumber+' .wdh-bec-booking-calendar-hour-status').removeClass('wdh-bec-booking-hide');                                               }
                                           }
                                       }
                               },                                function(event){                                   
                                   
                                    if((selectedData.hour.start.date!==""&&selectedData.hour.end.date!=="")
                                       ||(selectedData.hour.start.date===""&&selectedData.hour.end.date==="")){                                        $GUP('.wdh-bec-booking-calendar-hour-available-price').removeClass('wdh-bec-booking-hide');                                        $GUP('.wdh-bec-booking-calendar-hour-available-status').addClass('wdh-bec-booking-hide');                                   }
                               });                               
                               
                                $GUP('.wdh-bec-booking-calendar-hour-available').unbind('click','event3');                                $GUP('.wdh-bec-booking-calendar-hour-available').bind('click','event3',function(){                                    var selectedhourNumber=parseInt(this.id.split('wdh-bec-booking-calendar-hour-'+calendarID+'-')[1]);                                    wdhInputDatepicker=!1;                                   
                                    setTimeout(function(){                                        wdhInputDatepicker=!0;                                   },0);                                    if(selectedData.hour.start.no!==""&&selectedData.hour.end.date===""){                                        selectedData.hour.end.no=selectedhourNumber;                                       
                                        $GUP('.wdh-bec-booking-calendar-hour-available').removeClass('wdh-bec-booking-calendar-hour-selected');                                        var tempStartNohour=selectedData.hour.start.no,                                            tempEndNohour=selectedData.hour.end.no;                                           
                                        if(tempEndNohour!==""){                                           
                                            if(tempEndNohour<=tempStartNohour){                                                var tempDataStartNo=tempStartNohour;                                                    tempStartNohour=tempEndNohour;                                                    tempEndNohour=tempDataStartNo;                                           }
                                           
                                           
                                            selectedData.hours=[];                                            for(var i=tempStartNohour;i<=tempEndNohour;i++){                                               
                                                if($GUP('#wdh-bec-booking-calendar-hour-'+calendarID+'-'+i).attr('data-date')!==undefined){                                                    if(!$GUP('#wdh-bec-booking-calendar-hour-'+calendarID+'-'+i).hasClass('wdh-bec-booking-calendar-hour-booked')
                                                       &&window.firstBookedhour===''){                                                       
                                                        $GUP('#wdh-bec-booking-calendar-hour-'+calendarID+'-'+i).addClass('wdh-bec-booking-calendar-hour-selected');                                                        selectedData.hours.push($GUP('#wdh-bec-booking-calendar-hour-'+calendarID+'-'+i).attr('data-hour'));                                                       
                                                   }else{                                                        selectedData.hour.end.date=$GUP('#wdh-bec-booking-calendar-hour-'+calendarID+'-'+(i-1)).attr('data-date');                                                        selectedData.hour.end.no=i-1;                                                        if(selectedData.hour.end.date<=selectedData.hour.start.date){                                                            var tempDataStart=selectedData.hour.start.date,                                                                tempDataStartNo=selectedData.hour.start.no;                                                                selectedData.hour.start.date=selectedData.hour.end.date;                                                                selectedData.hour.end.date=tempDataStart;                                                                selectedData.hour.start.no=selectedData.hour.end.no;                                                                selectedData.hour.end.no=tempDataStartNo;                                                       }
                                                       
                                                        window.firstBookedhour=i;                                                        tempEndNohour=i;                                                        selectedData.hour.start.date=$GUP('#wdh-bec-booking-calendar-hour-'+calendarID+'-'+tempEndNohour).attr('data-date');                                                        selectedData.hour.start.no=tempEndNohour;                                                        selectedData.hour.end.date=$GUP('#wdh-bec-booking-calendar-hour-'+calendarID+'-'+tempEndNohour).attr('data-date');                                                        selectedData.hour.end.no=tempEndNohour;                                                   }
                                               }
                                           }
                                       }
                                   }
                                           
                                    if(window.firstBookedhour!==''){                                       
                                        $GUP('.wdh-bec-booking-calendar-hour-available').removeClass('wdh-bec-booking-calendar-hour-selected');                                        selectedData.hour.start.date='';                                        selectedData.hour.end.date='';                                        selectedData.hours=[];                                        window.firstBookedhour='';                                   }
                                   
                                    if(selectedData.hour.end.date!==""){                                       
                                        $GUP('.wdh-bec-booking-calendar-hour-available').removeClass('wdh-bec-booking-calendar-hour-selected');                                        selectedData.hour.start.date='';                                        selectedData.hour.end.date='';                                        selectedData.hours=[];                                   }
                                   
                                   
                                    $GUP('#'+this.id).addClass('wdh-bec-booking-calendar-hour-selected');                                   
                                   
                                    if(selectedData.hour.start.date===""){                                        selectedData.hour.start.date=$GUP('#'+this.id).attr('data-date');                                        selectedData.hour.start.no=selectedhourNumber;                                       
                                        $GUP('.wdh-bec-booking-calendar-hour-available-price').removeClass('wdh-bec-booking-hide');                                        $GUP('.wdh-bec-booking-calendar-hour-available-status').addClass('wdh-bec-booking-hide');                                     
                                       
                                       
                                       
                                        booking.reservations.reservation.add.buttons.disable();                                   
                                       
                                        if(CalendarData.settings.use_hours==='true'){                                           
                                           
                                            if(CalendarData.settings.hours.select==='single'){                                               
                                                selectedData.hour.end.date=selectedData.hour.start.date;                                                selectedData.hour.end.no=selectedData.hour.start.no;                                               
                                               
                                               
                                                booking.sidebar.step('two');                                           }
                                       }
                                   }else{                                     
                                       
                                        if(CalendarData.settings.use_hours!=='true'){                                            selectedData.hour.end.date=$GUP('#'+this.id).attr('data-date');                                            selectedData.hour.end.no=selectedhourNumber;                                           
                                            if(selectedData.hour.end.date<=selectedData.hour.start.date){                                                var tempDataStart=selectedData.hour.start.date,                                                    tempDataStartNo=selectedData.hour.start.no;                                                    selectedData.hour.start.date=selectedData.hour.end.date;                                                    selectedData.hour.end.date=tempDataStart;                                                    selectedData.hour.start.no=selectedData.hour.end.no;                                                    selectedData.hour.end.no=tempDataStartNo;                                               
                                           }
                                         
                                           
                                           
                                            booking.reservations.reservation.add.buttons.enable();                                           
                                            booking.reservations.cart.enable();                                       }else{                                           
                                            if(CalendarData.settings.use_hours==='true'){                                               
                                                if(CalendarData.settings.hours.select==='multiple'){                                                   
                                               }else if(CalendarData.settings.hours.select==='interval'){                                                   
                                               }
                                           }
                                       }
                                   }
                               });                               
                               
                                $GUP('.wdh-bec-booking-calendar-group-hour').unbind('click','event4');                                $GUP('.wdh-bec-booking-calendar-group-hour').bind('click','event4',function(){                                    var tempAllSelectedGrouphours=$GUP('#'+this.id).parent(),                                        tempAllSelectedGrouphours=$GUP('#'+$GUP('#'+this.id).parent().id+' .wdh-bec-booking-calendar-group-hour')['selector'],                                        k=1;                                   
                                    $GUP('.wdh-bec-booking-calendar-hour-available').removeClass('wdh-bec-booking-calendar-hour-selected');                                   
                                    for(var i=0;i<tempAllSelectedGrouphours.length;i++){                                        var selectedhourNumber=parseInt($GUP('#'+tempAllSelectedGrouphours[i].id).attr('id').split('wdh-bec-booking-calendar-hour-'+calendarID+'-')[1]);                                       
                                       
                                        $GUP('#'+tempAllSelectedGrouphours[i].id).addClass('wdh-bec-booking-calendar-hour-selected');                                        selectedData.hours.push($GUP('#'+tempAllSelectedGrouphours[i].id).attr('data-hour'));                                       
                                        if(k===1){                                            selectedData.hour.start.date=$GUP('#'+tempAllSelectedGrouphours[i].id).attr('data-date');                                            selectedData.hour.start.no=selectedhourNumber;                                       }
                                       
                                        if(k===tempAllSelectedGrouphours.length){                                            selectedData.hour.end.date=$GUP('#'+tempAllSelectedGrouphours[i].id).attr('data-date');                                            selectedData.hour.end.no=selectedhourNumber;                                       }
                                       
                                        if($GUP('#'+tempAllSelectedGrouphours[i].id).hasClass('wdh-bec-booking-calendar-hour-unavailable')
                                           ||$GUP('#'+tempAllSelectedGrouphours[i].id).hasClass('wdh-bec-booking-calendar-hour-booked')){                                       
                                           
                                            $GUP('.wdh-bec-booking-calendar-hour-available').removeClass('wdh-bec-booking-calendar-hour-selected');                                            selectedData.hour.start.date='';                                            selectedData.hour.end.date='';                                            selectedData.hours=[];                                       }
                                       
                                        k++;                                   }
                                     
                                   
                                     
                                   
                                       
                                   
                                    booking.reservations.cart.enable();                                   
                               });                           }}
                   },                    change:function(flatDate){                       
                        if(wdhInputDatepicker){                            currentDate=new Date(booking.general.convert(flatDate.currentMonth+1)+'/'+'01/'+flatDate.currentYear+' 00:00:00 GMT');                            displayDate=currentDate;                            oldDisplayDate=displayDate;                           
                            booking.calendar.month.start(currentDate);                            wdhInputDatepicker=!0;                       }
                   }
               },visibility:function(){var v=0,calendarElement=document.getElementById('beccapp-'+calendarID),calendarTop=calendarElement.offsetTop,calendarLeft=calendarElement.offsetLeft,calendarWidth=calendarElement.offsetWidth,calendarHeight=calendarElement.offsetHeight,screenHeight=screen.height,screenWidth=screen.width;if(calendarLeft<=screenWidth/2&&calendarTop<=screenHeight/3*2){v=10}else if(calendarLeft<=(screenWidth-calendarWidth)&&calendarTop<=screenHeight/3*2){v=8}else if(calendarLeft<=calendarWidth&&calendarLeft>screenWidth/2&&calendarTop<=screenHeight/3*2){v=6}else{v=4}
if(CalendarData.on_facebook==='true'){v=10}
return v}
               
           },            sidebar:{                step:function(step){                 
                    if(step==='two'){                        booking.reservations.reservation.add.hours.add();                   }
                 
                    $GUP('.wdh-bec-booking-step').addClass('wdh-bec-booking-hide');                    $GUP('.wdh-bec-booking-step-'+step).removeClass('wdh-bec-booking-hide');booking.reservations.reservation.add.buttons.events();               },                stepOne:{                    loader:{                        start:function(){                            booking.loader.start();                       },                        stop:function(){                            booking.loader.stop();                       }
                   },                    error:{                        start:function(){                           
                            booking.calendar.month.week.day.clear();                           
if(!window.wdhAutoSelectToday){$GUP('#wdh-box-selection').removeClass('wdh-bec-booking-hide');$GUP('.wdh-bec-reservation-error').removeClass('wdh-bec-booking-hide')}
                       },already:function(){$GUP('#wdh-box-selection').removeClass('wdh-bec-booking-hide');$GUP('.wdh-bec-reservation-error-already').removeClass('wdh-bec-booking-hide')},                        stop:function(){                           
                            $GUP('#wdh-box-selection').addClass('wdh-bec-booking-hide');                            $GUP('.wdh-bec-reservation-error').addClass('wdh-bec-booking-hide');$GUP('.wdh-bec-reservation-error-already').addClass('wdh-bec-booking-hide');                       }
                   },                    start:function(){                       
                       
                        if(CalendarData.type==='multiple'){                            booking.sidebar.stepOne.calendars.start();                            booking.sidebar.stepOne.selection.start();                       }
                   },                    calendars:{                        start:function(){                            $GUP('.wdh-bec-booking-step-one').removeClass('wdh-bec-booking-calendar-single');                            $GUP('.wdh-bec-booking-step-one').removeClass('wdh-bec-booking-calendar-multiple');                            $GUP('.wdh-bec-booking-step-one').addClass('wdh-bec-booking-calendar-'+CalendarData.type);                            $GUP('.wdh-box-calendars').remove();$GUP('.wdh-bec-booking-step-one .wdh-bec-booking-calendar-loader').remove();                            $GUP('.wdh-bec-booking-step-one').prepend(booking.sidebar.stepOne.calendars.generate());                            booking.sidebar.stepOne.calendars.events();                       },                        names:function(calendarsSelected){                            var newHTML=new Array(),                                calendars_all=CalendarData.calendars.all;                           
                            for(var key in calendarsSelected){                             
                                if(calendarsSelected.hasOwnProperty(key)){                               
                                    for(var skey in calendars_all){                                       
                                        if(calendars_all.hasOwnProperty(skey)){                                            if(calendars_all[skey].id===calendarsSelected[key]){                                                newHTML.push(calendars_all[skey].name);                                           }
                                       }
                                   }
                               }
                           }
                         
                            return newHTML.join(', ');                       },                        generate:function(){                            var newHTML=new Array(),                                calendars_all=CalendarData.calendars.all,                                category=[];                       
                           
                            newHTML.push(' <div class="wdh-bec-booking-calendar-loader'+(selectedData.rooms.start.date===''&&CalendarData.type==='multiple'?' wdh-bec-booking-calendar-loader-mini':'')+'">');                            newHTML.push(    booking.loader.generate());                            newHTML.push(' </div>');                            newHTML.push('  <div class="wdh-box-calendars wdh-box-height-one wdh-margin-bottom-one wdh-box-container wdh-box-scroll">');                            newHTML.push('    <div class="wdh-box-calendar-box-sidebar-header">'+CalendarData.text.cart.spaces+'</div>');                            newHTML.push('    <div class="wdh-box-selection wdh-box-selection-find-calendars'+(selectedData.rooms.start.date!==''?' bmd-invisible':'')+'">');newHTML.push('      <input id="wdh_be_start_date" type="text" class="wdh-box-input wdh-half" placeholder="'+CalendarData.text.cart.check_in+'">');                            newHTML.push('      <input id="wdh_bec_end_date" type="text" class="wdh-box-input wdh-half" placeholder="'+CalendarData.text.cart.check_out+'">');                            newHTML.push('      <div id="wdh_bec_find_rooms" class="wdh_bec_find_rooms wdh-box-full wdh-button wdh-green-bg">'+CalendarData.text.cart.find_spaces+'</div>');newHTML.push('    </div>');                            newHTML.push('    <div class="wdh-box-selection wdh-box-selection-calendars'+(selectedData.rooms.start.date===''?' bmd-invisible':'')+'">');                          newHTML.push('      <div id="wdh_bec_find_rooms_button" class="wdh_bec_find_rooms_button wdh-box-full wdh-button wdh-red-bg">'+CalendarData.text.cart.select_period_btn+'</div>');                           
                            if(CalendarData.location_use){                                newHTML.push('  <input id="wdh-bec-search-calendars-'+calendarID+'" type="text" class="wdh-box-input" placeholder="Location...">');                           }
var sec=0,tempAvailable=0,sec_open=!1,sec_close=!1;calendars_all=Object.assign([],calendars_all).reverse();                            calendars_all.sort(function(a,b){if(a.id===b.id){return b.id-a.id}
return a.id>b.id?1:-1});                            for(var key in calendars_all){                               
                                if(calendars_all.hasOwnProperty(key)){for(var kkey in CalendarData.available){if(CalendarData.available[kkey]===calendars_all[key].id){tempAvailable++;if(sec%2===0){newHTML.push('  <div class="wdh-box-full" style="margin-top:5px;">');sec_open=!0;sec_close=!1}
if(CalendarData.selected.indexOf(calendars_all[key].id)!==-1){category.push(calendars_all[key].category)}
newHTML.push('  <div id="wdh-box-calendar-info-'+calendars_all[key].id+'" class="wdh-box-calendar-info">');newHTML.push('      <div id="wdh-bec-calendar-checkbox-'+calendars_all[key].id+'" class="wdh-bec-calendar-checkbox '+(CalendarData.selected.indexOf(calendars_all[key].id)!==-1?'wdh-checked':'')+(calendars_all[key].entire=='true'?' wdh-calendar-entire':'')+'">&nbsp</div>');newHTML.push('      <div id="wdh-bec-calendar-name-'+calendars_all[key].id+'" class="wdh-bec-calendar-name'+(calendars_all[key].entire=='true'?' wdh-calendar-entire':'')+'">'+(calendars_all[key].name!==undefined?calendars_all[key].name:'')+'</div>');newHTML.push('  </div>');if(sec%2===1){newHTML.push('  </div>');sec_open=!1;sec_close=!0}
sec++}}
                               }
                           }
if(sec_open&&!sec_close){newHTML.push('    <div style="width: 50%;float: left;position: relative;"></div>');newHTML.push('  </div>');sec_open=!1}
var todayDate=new Date(),todayDay=todayDate.getDate(),todayMonth=todayDate.getMonth()+1,todayYear=todayDate.getFullYear(),today_converted=todayYear+'-'+booking.general.convert(todayMonth)+'-'+booking.general.convert(todayDay);if(tempAvailable<1){if(selected_start_date===today_converted&&selected_end_date===today_converted){newHTML.push('  <div class="wdh-box-full wdh-bec-rooms-error" style="margin-top:5px;">'+CalendarData.text.cart.no_spaces_today+'</div>')}else{newHTML.push('  <div class="wdh-box-full wdh-bec-rooms-error" style="margin-top:5px;">'+CalendarData.text.cart.no_spaces+'</div>')}}
                         
                           
                            if(CalendarData.category_use){                                newHTML.push('      <select id="wdh-bec-category-'+calendarID+'" style="margin-top: 10px;" class="wdh-box-select">');                                newHTML.push('          <option value="">Category</option>');                                for(var key in category){                                 
                                    if(category.hasOwnProperty(key)){                                        newHTML.push('          <option value="'+category[key]+'">'+category[key]+'</option>');                                   }
                               }
                                newHTML.push('      </select>');                           }
                         
                            newHTML.push('    </div>');                            newHTML.push('  </div>');                            return newHTML.join('');                       },                        events:function(){                            $GUP('.wdh-bec-calendar-checkbox').unbind('click','event5');                            $GUP('.wdh-bec-calendar-checkbox').bind('click','event5',function(event){                                var becID=this.id.split('wdh-bec-calendar-checkbox-')[1];                                if($GUP('#wdh-bec-calendar-checkbox-'+becID).hasClass('wdh-checked')){                                    $GUP('#wdh-bec-calendar-checkbox-'+becID).removeClass('wdh-checked');                                   
                                    CalendarData.selected.splice(CalendarData.selected.indexOf(parseInt(becID)),1);if(CalendarData.selected.length<1){booking.reservations.cart.data.clear();                 
booking.reservations.reservation.price.disable();booking.reservations.reservation.add.buttons.disable()}
                               }else{if($GUP('#wdh-bec-calendar-checkbox-'+becID).hasClass('wdh-calendar-entire')){$GUP('.wdh-bec-calendar-checkbox').removeClass('wdh-checked');$GUP('.wdh-bec-calendar-checkbox').addClass('wdh-checked-disabled');$GUP('.wdh-bec-calendar-name').addClass('wdh-name-disabled');CalendarData.selected=[];                                    CalendarData.selected.push(parseInt(becID));CalendarData.entire_name=$GUP('#wdh-bec-calendar-name-'+becID).html();CalendarData.entire_calendar=becID}else{var all_selected=CalendarData.selected;for(var skey in all_selected){if($GUP('#wdh-bec-calendar-checkbox-'+all_selected[skey]).hasClass('wdh-calendar-entire')){CalendarData.selected=[];$GUP('.wdh-bec-calendar-checkbox').removeClass('wdh-checked');$GUP('.wdh-bec-calendar-checkbox').removeClass('wdh-checked-disabled');$GUP('.wdh-bec-calendar-name').removeClass('wdh-name-disabled')}}
                                    CalendarData.selected.push(parseInt(becID))}
                                    $GUP('#wdh-bec-calendar-checkbox-'+becID).addClass('wdh-checked');                                    $GUP('#wdh-bec-calendar-checkbox-'+becID).removeClass('wdh-checked-disabled');                                    $GUP('#wdh-bec-calendar-checkbox-'+becID).removeClass('wdh-name-disabled');                               }
selectedData.calendars=CalendarData.selected;                             
                                $GUP('.wdh-bec-calendar-tooltip').css('display','none');                               
                                booking.load.calendar(!0);                           });                            $GUP('.wdh-bec-calendar-name').unbind('click','event56');                            $GUP('.wdh-bec-calendar-name').bind('click','event56',function(event){                                var becID=this.id.split('wdh-bec-calendar-name-')[1];                                if($GUP('#wdh-bec-calendar-checkbox-'+becID).hasClass('wdh-checked')){                                    $GUP('#wdh-bec-calendar-checkbox-'+becID).removeClass('wdh-checked');                                   
                                    CalendarData.selected.splice(CalendarData.selected.indexOf(parseInt(becID)),1);if(CalendarData.selected.length<1){booking.reservations.cart.data.clear();                 
booking.reservations.reservation.price.disable();booking.reservations.reservation.add.buttons.disable()}
                               }else{if($GUP('#wdh-bec-calendar-checkbox-'+becID).hasClass('wdh-calendar-entire')){$GUP('.wdh-bec-calendar-checkbox').removeClass('wdh-checked');$GUP('.wdh-bec-calendar-checkbox').addClass('wdh-checked-disabled');$GUP('.wdh-bec-calendar-name').addClass('wdh-name-disabled');CalendarData.selected=[];                                    CalendarData.selected.push(parseInt(becID));CalendarData.entire_name=$GUP('#wdh-bec-calendar-name-'+becID).html();CalendarData.entire_calendar=becID}else{var all_selected=CalendarData.selected;for(var skey in all_selected){if($GUP('#wdh-bec-calendar-checkbox-'+all_selected[skey]).hasClass('wdh-calendar-entire')){CalendarData.selected=[];$GUP('.wdh-bec-calendar-checkbox').removeClass('wdh-checked');$GUP('.wdh-bec-calendar-checkbox').removeClass('wdh-checked-disabled');$GUP('.wdh-bec-calendar-name').removeClass('wdh-name-disabled')}}
                                    CalendarData.selected.push(parseInt(becID))}
                                    $GUP('#wdh-bec-calendar-checkbox-'+becID).addClass('wdh-checked');                                    $GUP('#wdh-bec-calendar-checkbox-'+becID).removeClass('wdh-checked-disabled');                                    $GUP('#wdh-bec-calendar-checkbox-'+becID).removeClass('wdh-name-disabled');                               }
selectedData.calendars=CalendarData.selected;                             
                                $GUP('.wdh-bec-calendar-tooltip').css('display','none');                               
                                booking.load.calendar(!0);                           });                       }
                   },                    selection:{                        start:function(){                            booking.sidebar.stepOne.selection.events();                       },                        generate:function(){                            var newHTML=new Array();                                newHTML.push('  <div id="wdh-box-selection" class="wdh-box-selection wdh-margin-bottom-one wdh-box-container wdh-bec-booking-hide">');                                newHTML.push('      <select id="wdh-bec-items" class="wdh-box-select wdh-bec-booking-hide">');                                newHTML.push('          <option>'+CalendarData.text.items.multiple+'</option>');                                newHTML.push('      </select>');                                newHTML.push('      <div class="wdh-bec-reservation-error wdh-bec-booking-hide">');                                newHTML.push(          CalendarData.text.error.already_booked);                                newHTML.push('      </div>');                                newHTML.push('      <div class="wdh-bec-reservation-error-already wdh-bec-booking-hide">');                                newHTML.push(          CalendarData.text.error.already_added);                                newHTML.push('      </div>');                                newHTML.push('      <div class="wdh-bec-reservation-prices wdh-bec-booking-hide">');                                newHTML.push('          <div class="wdh-bec-reservation-monthly-price-text wdh-bec-booking-hide"></div>');                                newHTML.push('          <div class="wdh-bec-reservation-monthly-price-amount wdh-bec-booking-hide">$0</div>');                                newHTML.push('          <div class="wdh-bec-reservation-weekly-price-text wdh-bec-booking-hide"></div>');                                newHTML.push('          <div class="wdh-bec-reservation-weekly-price-amount wdh-bec-booking-hide">$0</div>');                                newHTML.push('          <div class="wdh-bec-reservation-weekend-price-text wdh-bec-booking-hide"></div>');                                newHTML.push('          <div class="wdh-bec-reservation-weekend-price-amount wdh-bec-booking-hide">$0</div>');                                newHTML.push('          <div class="wdh-bec-reservation-daily-price-text wdh-bec-booking-hide"></div>');                                newHTML.push('          <div class="wdh-bec-reservation-daily-price-amount wdh-bec-booking-hide">$0</div>');                                newHTML.push('      </div>');                                newHTML.push('      <div class="wdh-bec-reservation-check_in wdh-bec-booking-hide">');                                newHTML.push('          <div class="wdh-bec-reservation-check_in-text">'+CalendarData.text.cart.start_at+':</div>');                                newHTML.push('          <div id="wdh-bec-reservation-check_in-date" class="wdh-bec-reservation-check_in-date"></div>');                                newHTML.push('      </div>');                                newHTML.push('      <div class="wdh-bec-reservation-check_out wdh-bec-booking-hide">');                                newHTML.push('          <div class="wdh-bec-reservation-check_out-text">'+CalendarData.text.cart.end_at+':</div>');                                newHTML.push('          <div id="wdh-bec-reservation-check_out-date" class="wdh-bec-reservation-check_out-date"></div>');                                newHTML.push('      </div>');                                newHTML.push('      <div class="wdh-bec-reservation-price wdh-bec-booking-hide">');                                newHTML.push('          <div class="wdh-bec-reservation-price-text">'+CalendarData.text.buttons.price+':</div>');                                newHTML.push('          <div class="wdh-bec-reservation-price-amount">$0</div>');                                newHTML.push('      </div>');                                newHTML.push('  </div>');                         
                            return newHTML.join('');                       },                        check_in:{                            start:function(defaultDate){                                defaultDate=defaultDate!==undefined?(defaultDate.indexOf(' ')!==-1?(defaultDate.split(' ')[0].split('-')[2]+'-'+defaultDate.split(' ')[0].split('-')[1]+'-'+defaultDate.split(' ')[0].split('-')[0]+' '+defaultDate.split(' ')[1]):defaultDate.split('-')[2]+'-'+defaultDate.split('-')[1]+'-'+defaultDate.split('-')[0]):null;                             
if(document.getElementById("wdh_be_start_date")!==undefined&&document.getElementById("wdh_be_start_date")!==null){document.getElementById("wdh_be_start_date").flatpickr({minDate:"today",enableTime:(CalendarData.use_hours==='true')?true:!1,onChange:function(dateObj,dateStr,instance){booking.sidebar.stepOne.selection.check_in.change(dateObj,dateStr,instance)},defaultDate:defaultDate,dateFormat:'Y-m-d',disableMobile:"true"})}
                           },                            change:function(dateObj,dateStr,instance){                               
                                booking.sidebar.stepOne.selection.check_out.start('true');                                selectedData.rooms.start.date=  booking.general.convert(dateObj[0].getDate())+'-'+booking.general.convert((dateObj[0].getMonth()+1))+'-'+dateObj[0].getFullYear()}
                       },                        check_out:{                            start:function(defaultOpen,defaultDate){defaultDate=defaultDate!==undefined?(defaultDate.indexOf(' ')!==-1?(defaultDate.split(' ')[0].split('-')[2]+'-'+defaultDate.split(' ')[0].split('-')[1]+'-'+defaultDate.split(' ')[0].split('-')[0]+' '+defaultDate.split(' ')[1]):defaultDate.split('-')[2]+'-'+defaultDate.split('-')[1]+'-'+defaultDate.split('-')[0]):null;if(document.getElementById("wdh_be_start_date")!==undefined&&document.getElementById("wdh_be_start_date")!==null){var wdh_bec_end_date=document.getElementById("wdh_bec_end_date").flatpickr({minDate:document.getElementById("wdh_be_start_date").value!==''?document.getElementById("wdh_be_start_date").value:"today",onChange:function(dateObj,dateStr,instance){booking.sidebar.stepOne.selection.check_out.change(dateObj,dateStr,instance)},defaultDate:defaultDate!==undefined?  defaultDate:null,dateFormat:'Y-m-d',disableMobile:"true",onOpen:function(){var tempLeft=libs.offset(document.getElementById("wdh_bec_end_date"));tempLeft.left=tempLeft.left-100;$GUP('.flatpickr-calendar.arrowBottom.open').css('left',tempLeft.left+'px');$GUP('.flatpickr-calendar.arrowTop.open').css('left',tempLeft.left+'px')}});if(defaultOpen==='true'){wdh_bec_end_date.open()}}
                           },                            change:function(dateObj,dateStr,instance){                                selectedData.rooms.end.date=  booking.general.convert(dateObj[0].getDate())+'-'+booking.general.convert((dateObj[0].getMonth()+1))+'-'+dateObj[0].getFullYear()}
                       },rooms:{start:function(){                                $GUP('.wdh_bec_find_rooms').unbind('click','event54');                                $GUP('.wdh_bec_find_rooms').bind('click','event54',function(){booking.sidebar.stepOne.selection.rooms.find()});                                $GUP('.wdh_bec_find_rooms_button').unbind('click','event55');                                $GUP('.wdh_bec_find_rooms_button').bind('click','event55',function(){booking.sidebar.stepOne.selection.rooms.reset()})},autoselect:function(autoselected,start_date,end_date){if(autoselected){booking.sidebar.stepOne.selection.rooms.find(start_date,end_date,autoselected)}},find:function(start_date,end_date,autoselected){selectedData.calendars=[];CalendarData.selected=[];if(autoselected===undefined){autoselected=!1}
if(start_date===undefined||start_date===null||start_date===''){start_date=document.getElementById("wdh_be_start_date").value}
if(end_date===undefined||end_date===null||end_date===''){end_date=document.getElementById("wdh_bec_end_date").value}
if(start_date===undefined||start_date===''||end_date===undefined||end_date===''){alert(CalendarData.text.cart.select_period);return!1}
var urlData={rooms:'rooms',api_key:CalendarData.api_key,lang:CalendarData.language,start_date:start_date,end_date:end_date,format:'json'};selected_start_date=start_date;selected_end_date=end_date;booking.sidebar.stepOne.loader.start();                    var requestURL=booking.general.url(urlData);$GUP.plugin.get(requestURL,function(data){booking.sidebar.stepOne.loader.stop();if(data!==undefined){data=JSON.parse(data);if(data.status==='success'){CalendarData.available=data.calendars;CalendarData.entire=data.entire;if(CalendarData.type==='multiple'){booking.sidebar.stepOne.calendars.start();booking.sidebar.stepOne.selection.start();if(autoselected&&CalendarData.available.length>0){var first_room=CalendarData.available[0]!=CalendarData.entire?CalendarData.available[0]:CalendarData.available[1];$GUP('#wdh-bec-calendar-checkbox-'+first_room).addClass('wdh-checked');CalendarData.selected.push(parseInt(first_room));selectedData.calendars=CalendarData.selected;$GUP('.wdh-bec-calendar-tooltip').css('display','none');booking.load.calendar(!0)}}}else{$GUP('.wdh-box-selection-find-calendars').removeClass('bmd-invisible');$GUP('.wdh-box-selection-calendars').addClass('bmd-invisible')}}},function(req){alert(CalendarData.text.error.cors);$GUP('.bookeucom').css('display','none')})},reset:function(){selectedData.day.start.date='';selectedData.day.end.date='';selectedData.day.start.no='';selectedData.day.end.no='';selectedData.days=[];selectedData.rooms.start.date='';selectedData.rooms.end.date='';booking.reservations.cart.data.clear();booking.reservations.reservation.price.disable();booking.reservations.reservation.add.buttons.disable();if(CalendarData.type==='multiple'){booking.sidebar.stepOne.calendars.start();booking.sidebar.stepOne.selection.start()}}},                        events:function(){                         
                         
                          booking.sidebar.stepOne.selection.check_in.start();                         
                         
                          booking.sidebar.stepOne.selection.check_out.start('false');                          booking.sidebar.stepOne.selection.rooms.start();                       }
                   },                    events:function(){                        booking.sidebar.stepOne.selection.events();                   }
               },                events:function(){                    booking.sidebar.stepOne.events();               }
           },            reservations:{                generate:function(){                    var newHTML=new Array();                    newHTML.push('<div class="wdh-bec-booking-reservations">');                    newHTML.push(   booking.reservations.reservation.add.generate());                    newHTML.push(   booking.reservations.cart.generate());                    newHTML.push('</div>');                           
                    $GUP('.wdh-bec-booking').append(newHTML.join(''));                 
                   
                    booking.reservations.events();               },                reload:function(){                    var newHTML=new Array();                   
                    newHTML.push(   booking.reservations.reservation.add.generate());                    newHTML.push(   booking.reservations.cart.generate());                           
                    $GUP('.wdh-bec-booking-reservations').html(newHTML.join(''));                 
                   
                    booking.reservations.events();               },                events:function(){                    booking.sidebar.events();               },                checkout:function(){CalendarData.referral_id=$_GET('wdh_bec_rfid')!==null?$_GET('wdh_bec_rfid'):CalendarData.referral_id;                    booking.status='ok';                   
                   
                    booking.reservations.form.fields.filter.checkAll();if(!document.getElementById("terms_and_conditions").checked){alert(CalendarData.text.terms.error);return!1}
                   
                    if(booking.status!='ok'){                        booking.status='ok';                        return!1;                   }
                 
                    var urlData={reservation_save:'reservation_save',                                   format:'json'
                                 };                   
                    var requestURL=booking.general.url(urlData),                        reservationData=[],                        reservationDataObj={},                        myData=[],price=0;                         
                        myData.reservations={};                       
                       for(var i=0;i<cartData.length;i++){                         
                          reservationDataObj[i]={};                          reservationDataObj[i].days=cartData[i].days;                          reservationDataObj[i].price=cartData[i].price;                          reservationDataObj[i].items=cartData[i].items;                          reservationDataObj[i].calendars=cartData[i].calendars;                          reservationDataObj[i].status="unchecked";                          reservationDataObj[i].account_type=cartData[i].account_type;                          reservationDataObj[i].minimum_fee=cartData[i].minimum_fee;                          reservationDataObj[i].stripe_fee=cartData[i].stripe_fee;                          reservationDataObj[i].currency=cartData[i].currency;                          reservationDataObj[i].currency_rate=cartData[i].currency_rate;                          reservationDataObj[i].rf=cartData[i].rf;                          reservationDataObj[i].rfh=cartData[i].rfh;                          reservationDataObj[i].rfid=CalendarData.referral_id;                          reservationDataObj[i].entire=cartData[i].entire!==undefined?cartData[i].entire:'false';                          reservationData.push(reservationDataObj[i]);price+=reservationDataObj[i].price;                      }
                     
                       myData.reservations=reservationData;                       myData.api_key=CalendarData.api_key;                       myData.form=booking.reservations.form.fields.get();                       myData.link=window.location.href;                       myData.on_facebook=CalendarData.on_facebook;                       myData.lang=CalendarData.language;                       myData.vat_name=CalendarData.cart.vat_name;                       myData.vat_amount=CalendarData.cart.vat_amount;                       myData.vat_percent=CalendarData.cart.vat_percent;                       myData.price=CalendarData.cart.price;                       myData.total_vat=CalendarData.cart.total;                       myData.country_vat=CalendarData.cart.country;                       myData.state_vat=myData.country_vat==='US'?CalendarData.cart.state:'';myData.customer_id=window.BECHookValue_customer_id===undefined?0:window.BECHookValue_customer_id;myData.entire=CalendarData.entire;myData.server=CalendarData.server;myData.referral_id=CalendarData.referral_id;booking.sidebar.stepOne.loader.start();$GUP.plugin.post(requestURL,myData,function(data){data=JSON.parse(data);if(data.status==='success'){if(data.link!==''){window.location.href=CalendarData.endpoint+'checkout/'+data.link}}else if(data.status==='error_stripe'){alert(data.message);booking.sidebar.stepOne.loader.stop()}else{booking.load.calendar(!1,'error_pay',data.reservations)}},function(req){console.log(req);alert(CalendarData.text.error.cors);$GUP('.bookeucom').css('display','none')});               },                paypal_pay:function(){CalendarData.referral_id=$_GET('wdh_bec_rfid')!==null?$_GET('wdh_bec_rfid'):CalendarData.referral_id;                    booking.status='ok';                   
                   
                    booking.reservations.form.fields.filter.checkAll();if(!document.getElementById("terms_and_conditions").checked){alert(CalendarData.text.terms.error);return!1}
                   
                    if(booking.status!='ok'){                        booking.status='ok';                        return!1;                   }
                 
                    var urlData={paypal_reservation:'paypal_reservation',                                   format:'json'
                                 };                   
                    var requestURL=booking.general.url(urlData),                        reservationData=[],                        reservationDataObj={},                        myData=[],price=0;                         
                        myData.reservations={};                       
                       for(var i=0;i<cartData.length;i++){                         
                          reservationDataObj[i]={};                          reservationDataObj[i].days=cartData[i].days;                          reservationDataObj[i].price=cartData[i].price;                          reservationDataObj[i].items=cartData[i].items;                          reservationDataObj[i].calendars=cartData[i].calendars;                          reservationDataObj[i].status="unchecked";                          reservationDataObj[i].account_type=cartData[i].account_type;                          reservationDataObj[i].minimum_fee=cartData[i].minimum_fee;                          reservationDataObj[i].stripe_fee=cartData[i].stripe_fee;                          reservationDataObj[i].currency=cartData[i].currency;                          reservationDataObj[i].currency_rate=cartData[i].currency_rate;                          reservationDataObj[i].rf=cartData[i].rf;                          reservationDataObj[i].rfh=cartData[i].rfh;                          reservationDataObj[i].rfid=CalendarData.referral_id;                          reservationDataObj[i].entire=cartData[i].entire!==undefined?cartData[i].entire:'false';                          reservationData.push(reservationDataObj[i]);price+=reservationDataObj[i].price;                      }
                     
                       myData.reservations=reservationData;                       myData.api_key=CalendarData.api_key;                       myData.form=booking.reservations.form.fields.get();                       myData.link=CalendarData.endpoint+'paypal_pay/?link_back='+(CalendarData.on_facebook=='false'?window.location.href:(CalendarData.fblink!==undefined&&CalendarData.fblink!==''?CalendarData.fblink:window.location.href));                       myData.link_cancel=CalendarData.endpoint+'paypal_pay/?link_back='+(CalendarData.on_facebook=='false'?window.location.href:(CalendarData.fblink!==undefined&&CalendarData.fblink!==''?CalendarData.fblink:window.location.href));                       myData.on_facebook=CalendarData.on_facebook;                       myData.lang=CalendarData.language;                       myData.vat_name=CalendarData.cart.vat_name;                       myData.vat_amount=CalendarData.cart.vat_amount;                       myData.vat_percent=CalendarData.cart.vat_percent;                       myData.price=CalendarData.cart.price;                       myData.total_vat=CalendarData.cart.total;                       myData.country_vat=CalendarData.cart.country;                       myData.state_vat=myData.country_vat==='US'?CalendarData.cart.state:'';myData.customer_id=window.BECHookValue_customer_id===undefined?0:window.BECHookValue_customer_id;myData.entire=CalendarData.entire;myData.server=CalendarData.server;myData.referral_id=CalendarData.referral_id;booking.sidebar.stepOne.loader.start();$GUP.plugin.post(requestURL,myData,function(data){console.log(data);data=JSON.parse(data);if(data.status==='success'){if(data.link!==''){window.location.href=data.link}}else if(data.status==='error_paypal'){alert(data.message);booking.sidebar.stepOne.loader.stop()}else{booking.load.calendar(!1,'error_pay',data.reservations)}},function(req){console.log(req);alert(CalendarData.text.error.cors);$GUP('.bookeucom').css('display','none')});               },                braintree_pay:function(){CalendarData.referral_id=$_GET('wdh_bec_rfid')!==null?$_GET('wdh_bec_rfid'):CalendarData.referral_id;                    booking.status='ok';                   
                   
                    booking.reservations.form.fields.filter.checkAll();if(!document.getElementById("terms_and_conditions").checked){alert(CalendarData.text.terms.error);return!1}
                   
                    if(booking.status!='ok'){                        booking.status='ok';                        return!1;                   }
                 
                    var urlData={braintree_reservation:'braintree_reservation',                                   format:'json'
                                 };                   
                    var requestURL=booking.general.url(urlData),                        reservationData=[],                        reservationDataObj={},                        myData=[],price=0;                         
                        myData.reservations={};                       
                       for(var i=0;i<cartData.length;i++){                         
                          reservationDataObj[i]={};                          reservationDataObj[i].days=cartData[i].days;                          reservationDataObj[i].price=cartData[i].price;                          reservationDataObj[i].items=cartData[i].items;                          reservationDataObj[i].calendars=cartData[i].calendars;                          reservationDataObj[i].status="unchecked";reservationDataObj[i].account_type=cartData[i].account_type;                          reservationDataObj[i].minimum_fee=cartData[i].minimum_fee;                          reservationDataObj[i].stripe_fee=cartData[i].stripe_fee;                          reservationDataObj[i].currency=cartData[i].currency;                          reservationDataObj[i].currency_rate=cartData[i].currency_rate;                          reservationDataObj[i].rf=cartData[i].rf;                          reservationDataObj[i].rfh=cartData[i].rfh;                          reservationDataObj[i].rfid=CalendarData.referral_id;                          reservationDataObj[i].entire=cartData[i].entire!==undefined?cartData[i].entire:'false';                          reservationData.push(reservationDataObj[i]);price+=reservationDataObj[i].price;                      }
                     
                       myData.reservations=reservationData;                       myData.api_key=CalendarData.api_key;                       myData.form=booking.reservations.form.fields.get();                       myData.link=window.location.href;                       myData.on_facebook=CalendarData.on_facebook;                       myData.lang=CalendarData.language;                       myData.vat_name=CalendarData.cart.vat_name;                       myData.vat_amount=CalendarData.cart.vat_amount;                       myData.vat_percent=CalendarData.cart.vat_percent;                       myData.price=CalendarData.cart.price;                       myData.total_vat=CalendarData.cart.total;                       myData.country_vat=CalendarData.cart.country;                       myData.state_vat=myData.country_vat==='US'?CalendarData.cart.state:'';myData.customer_id=window.BECHookValue_customer_id===undefined?0:window.BECHookValue_customer_id;myData.entire=CalendarData.entire;myData.referral_id=CalendarData.referral_id;var pay_braintree_popup=document.querySelector('#wdh-bec-braintree-popup-payment'),pay_braintree=document.querySelector('#wdh-bec-braintree-pay'),pay_braintree_locale='en_US';if(pay_braintree_popup!==undefined&&pay_braintree_popup!==null){pay_braintree_popup.style.display='block'}
switch(CalendarData.language){case 'da':pay_braintree_locale='da_DK';break;case 'de':pay_braintree_locale='de_DE';break;case 'au':pay_braintree_locale='en_AU';break;case 'gb':pay_braintree_locale='en_GB';break;case 'es':pay_braintree_locale='es_ES';break;case 'ca':pay_braintree_locale='fr_CA';break;case 'fr':pay_braintree_locale='fr_FR';break;case 'id':pay_braintree_locale='id_ID';break;case 'it':pay_braintree_locale='it_IT';break;case 'ja':pay_braintree_locale='ja_JP';break;case 'ko':pay_braintree_locale='ko_KR';break;case 'nl':pay_braintree_locale='nl_NL';break;case 'no':pay_braintree_locale='no_NO';break;case 'pl':pay_braintree_locale='pl_PL';break;case 'br':pay_braintree_locale='pt_BR';break;case 'pt':pay_braintree_locale='pt_PT';break;case 'ru':pay_braintree_locale='ru_RU';break;case 'sv':pay_braintree_locale='sv_SE';break;case 'th':pay_braintree_locale='th_TH';break;case 'zh':pay_braintree_locale='zh_CN';break;case 'hk':pay_braintree_locale='zh_HK';break;default:pay_braintree_locale='en_US';break}
braintree.dropin.create({authorization:CalendarData.braintree_authorization,container:'#wdh-bec-braintree-container',locale:pay_braintree_locale,paypal:{flow:'checkout',amount:parseFloat(CalendarData.cart.total),currency:settingsData.currency.code}},function(createErr,instance){pay_braintree.addEventListener('click',function(){instance.requestPaymentMethod(function(requestPaymentMethodErr,payload){if(requestPaymentMethodErr===null){myData.nonce=payload.nonce;var pay_braintree_drop_in=document.querySelector('.braintree-dropin'),pay_braintree_drop_in_loader=document.querySelector('.braintree-loader__container'),pay_braintree_heading=document.querySelector('.braintree-heading'),pay_braintree_large_button=document.querySelector('.braintree-large-button');pay_braintree_drop_in.classList.remove("braintree-loaded");pay_braintree_drop_in_loader.classList.remove("braintree-hidden");pay_braintree_heading.classList.add("braintree-hidden");pay_braintree.style.display='none';pay_braintree_large_button.style.display='none';booking.sidebar.stepOne.loader.start();$GUP.plugin.post(requestURL,myData,function(data){data=JSON.parse(data);pay_braintree_popup.style.display='none';pay_braintree_drop_in.classList.add("braintree-loaded");pay_braintree_drop_in_loader.classList.add("braintree-hidden");pay_braintree_heading.classList.remove("braintree-hidden");pay_braintree.style.display='block';pay_braintree_large_button.style.display='block';if(data.status==='success'){window.bookeucom_pay_success=!0;booking.calendar.month.week.day.clear();booking.reservations.cart.data.clear();booking.sidebar.stepOne.loader.stop();booking.load.calendar(!1,'five')}else if(data.status==='error_braintree'){alert(data.message);booking.sidebar.stepOne.loader.stop()}else{booking.load.calendar(!1,'error_pay',data.reservations)}},function(req){alert(CalendarData.text.error.cors);$GUP('.bookeucom').css('display','none')})}})})});               },                book:function(){CalendarData.referral_id=$_GET('wdh_bec_rfid')!==null?$_GET('wdh_bec_rfid'):CalendarData.referral_id;                    booking.status='ok';                   
                   
                    booking.reservations.form.fields.filter.checkAll();if(!document.getElementById("terms_and_conditions").checked){alert(CalendarData.text.terms.error);return!1}
                   
                    if(booking.status!='ok'){                        booking.status='ok';                        return!1;                   }
                 
                    var urlData={reservation:'reservation',                                   format:'json'
                                 };                   
                    var requestURL=booking.general.url(urlData),                        reservationData=[],                        reservationDataObj={},                        myData=[],price=0;                         
                        myData.reservations={};                       
                       for(var i=0;i<cartData.length;i++){                         
                          reservationDataObj[i]={};                          reservationDataObj[i].days=cartData[i].days;                          reservationDataObj[i].price=cartData[i].price;                          reservationDataObj[i].items=cartData[i].items;                          reservationDataObj[i].calendars=cartData[i].calendars;                          reservationDataObj[i].status="unchecked";reservationDataObj[i].account_type=cartData[i].account_type;                          reservationDataObj[i].minimum_fee=cartData[i].minimum_fee;                          reservationDataObj[i].stripe_fee=cartData[i].stripe_fee;                          reservationDataObj[i].currency=cartData[i].currency;                          reservationDataObj[i].currency_rate=cartData[i].currency_rate;                          reservationDataObj[i].rf=cartData[i].rf;                          reservationDataObj[i].rfh=cartData[i].rfh;                          reservationDataObj[i].rfid=CalendarData.referral_id;                          reservationDataObj[i].entire=cartData[i].entire!==undefined?cartData[i].entire:'false';                          reservationData.push(reservationDataObj[i]);price+=reservationDataObj[i].price;                      }
                     
                       myData.reservations=reservationData;                       myData.api_key=CalendarData.api_key;                       myData.form=booking.reservations.form.fields.get();                       myData.link=window.location.href;                       myData.on_facebook=CalendarData.on_facebook;                       myData.lang=CalendarData.language;                       myData.vat_name=CalendarData.cart.vat_name;                       myData.vat_amount=CalendarData.cart.vat_amount;                       myData.vat_percent=CalendarData.cart.vat_percent;                       myData.price=CalendarData.cart.price;                       myData.total_vat=CalendarData.cart.total;                       myData.country_vat=CalendarData.cart.country;                       myData.state_vat=myData.country_vat==='US'?CalendarData.cart.state:'';myData.customer_id=window.BECHookValue_customer_id===undefined?0:window.BECHookValue_customer_id;myData.entire=CalendarData.entire;myData.referral_id=CalendarData.referral_id;var handler=StripeCheckout.configure({key:CalendarData.stripe_public_key,image:'https://book.eu.com/wp-content/uploads/2018/07/book.eu_.com_.128x128.png',locale:'auto',currency:settingsData.currency.code.toLowerCase(),token:function(token){myData.stripeToken=token.id;booking.sidebar.stepOne.loader.start();$GUP.plugin.post(requestURL,myData,function(data){data=JSON.parse(data);if(data.status==='success'){window.bookeucom_pay_success=!0;booking.calendar.month.week.day.clear();booking.reservations.cart.data.clear();booking.sidebar.stepOne.loader.stop();booking.load.calendar(!1,'five')}else if(data.status==='success_save_customer'){booking.calendar.month.week.day.clear();booking.reservations.cart.data.clear();booking.load.calendar(!1,'five');if(window.xyzbmdReservations!==undefined){window.xyzbmdReservations.save_customer(data.customer_token,data.owner_id,data.user_id,function(){window.wdhBookingEU.sidebar.stepOne.loader.stop();window.wdhBookingEU.sidebar.step('five')})}}else if(data.status==='success_pay'){window.location.href=data.data}else if(data.status==='error_stripe'){alert(data.message);booking.sidebar.stepOne.loader.stop()}else{booking.load.calendar(!1,'error_pay',data.reservations)}},function(req){alert(CalendarData.text.error.cors);$GUP('.bookeucom').css('display','none')})}});handler.open({name:CalendarData.text.cart.reservation,description:booking.reservations.cart.data.short(myData.reservations),amount:CalendarData.cart.total*100});window.addEventListener('popstate',function(){handler.close()});               },                reservation:{                    items:{                        enable:function(){                            var newItems=new Array();                           
                            newItems.push('<option value="" disabled="disabled">'+CalendarData.text.items.multiple+'</option>');                           
                            for(var i=1;i<=selectedData.max_items;i++){                             
                                if(i===1){                                    newItems.push('<option value="'+i+'" selected="selected">'+i+' '+CalendarData.text.items.single+'</option>');                               }else{                                    newItems.push('<option value="'+i+'">'+i+' '+CalendarData.text.items.multiple+'</option>');                               }
                           }
                            $GUP('#wdh-bec-items').html(newItems.join(''));                           
                           
if(selectedData.max_items>1){                            $GUP('#wdh-bec-items').removeClass('wdh-bec-booking-hide')}
                           
                           
                            booking.reservations.reservation.items.events();                       },                        disable:function(){                           
                            $GUP('#wdh-bec-items').addClass('wdh-bec-booking-hide');                       },                        select:function(value){                            selectedData.items=value;                             
                           
                            booking.reservations.reservation.price.enable();                       },                        events:function(){                           
                            $GUP('#wdh-bec-items').unbind('change','event12');                            $GUP('#wdh-bec-items').bind('change','event12',function(){                               
                                booking.reservations.reservation.items.select(parseInt(this.value));                           });                       }
                   },                    price:{                        enable:function(){                          
                            var newPriceData=booking.calendar.month.week.day.getPrice(),newPrice=booking.general.price_converted(newPriceData.total_price);booking.calendar.month.week.day.setPrices(newPriceData.prices);if(document.getElementById('wdh-bec-reservation-check_in-date')!==undefined&&document.getElementById('wdh-bec-reservation-check_in-date')!==null&&document.getElementById('wdh-bec-reservation-check_out-date')!==undefined&&document.getElementById('wdh-bec-reservation-check_out-date')!==null){$GUP('.wdh-bec-reservation-price').removeClass('wdh-bec-booking-hide');$GUP('.wdh-bec-reservation-check_in').removeClass('wdh-bec-booking-hide');if(CalendarData.mode==='nights'){document.getElementById('wdh-bec-reservation-check_in-date').innerHTML=libs.data_convert(selectedData.day.start.date)+' '+CalendarData.check_in;document.getElementById('wdh-bec-reservation-check_out-date').innerHTML=libs.data_convert(libs.addDays(selectedData.day.end.date,1))+' '+CalendarData.check_out}else{document.getElementById('wdh-bec-reservation-check_in-date').innerHTML=libs.data_convert(selectedData.day.start.date);document.getElementById('wdh-bec-reservation-check_out-date').innerHTML=libs.data_convert(selectedData.day.end.date)}}
$GUP('.wdh-bec-reservation-check_out').removeClass('wdh-bec-booking-hide');$GUP('#wdh-box-selection').removeClass('wdh-bec-booking-hide');var modeText=CalendarData.text.mode.nights;if(CalendarData.mode==='nights'){modeText=(selectedData.days.length)+' '+(selectedData.days.length<2?CalendarData.text.mode.night:CalendarData.text.mode.nights)}else{modeText=(selectedData.days.length)+' '+(selectedData.days.length<2?CalendarData.text.mode.day:CalendarData.text.mode.days)}
                            $GUP('.wdh-bec-reservation-price-text').html(modeText);                            $GUP('.wdh-bec-reservation-price-amount').html(newPrice);                       },                        disable:function(){                            $GUP('.wdh-bec-reservation-price').addClass('wdh-bec-booking-hide');$GUP('.wdh-bec-reservation-check_in').addClass('wdh-bec-booking-hide');$GUP('.wdh-bec-reservation-check_out').addClass('wdh-bec-booking-hide');$GUP('#wdh-box-selection').addClass('wdh-bec-booking-hide');                       },                        calculate:function(){                            var price=0;                                selectedData.max_items=9999999999999;                         
if(CalendarData.settings.use_hours==='true'){if(selectedData.day.start.date===selectedData.day.end.date){var tempdayData=[],tempgetDayData;tempdayData.full_date=selectedData.day.start.date}}else{var noMonths=0,noWeeks=0,noWeekends=0,noWorkWeeks=0;for(var key in selectedData.days){if(selectedData.days.hasOwnProperty(key)){var tempdayData=[],tempgetDayData;tempdayData.full_date=selectedData.days[key];tempgetDayData=booking.calendar.month.week.day.get(booking.general.date(tempdayData.full_date),tempdayData.full_date);price+=(tempgetDayData.promo<tempgetDayData.price&&tempgetDayData.promo!==0?tempgetDayData.promo*selectedData.items:tempgetDayData.price)*selectedData.items;if(tempgetDayData.available<selectedData.max_items){selectedData.max_items=tempgetDayData.available}}}}
                            selectedData.price=price;CalendarData.cart.price=price;                         
                            return booking.general.price(price);                       }
                   },                    add:{                        generate:function(){                            var newHTML=new Array();                         
                           
                            newHTML.push('  <div class="wdh-bec-booking-step wdh-bec-booking-step-one wdh-bec-booking-calendar-'+CalendarData.type+'">');                         
                            if(CalendarData.type==='multiple'){                                newHTML.push(       booking.sidebar.stepOne.calendars.generate());                           }
                               
                           
                            newHTML.push(       booking.sidebar.stepOne.selection.generate());                            newHTML.push(       booking.reservations.reservation.add.buttons.generate());                            newHTML.push('  </div>');                         
                           
                            newHTML.push('  <div class="wdh-bec-booking-step wdh-bec-booking-step-two wdh-bec-booking-hide">');                            newHTML.push(       booking.reservations.reservation.add.hours.generate());                            newHTML.push('  </div>');                         
                           
                            newHTML.push('  <div class="wdh-bec-booking-step wdh-bec-booking-step-three wdh-bec-booking-hide"></div>');                         
                           
                            newHTML.push('  <div class="wdh-bec-booking-step wdh-bec-booking-step-four wdh-bec-booking-hide"></div>');                         
                           
                            newHTML.push('  <div class="wdh-bec-booking-step wdh-bec-booking-step-five wdh-bec-booking-hide">');                            newHTML.push('    <div class="wdh-margin-bottom-one wdh-padding-10 wdh-box-full wdh-box-container">');                            newHTML.push('      <div class="wdh-box-success">'+CalendarData.text.success+'</div>');                            newHTML.push('    </div>');if(CalendarData.type==='multiple'){newHTML.push('    <div class="wdh-box-buttons wdh-box-full wdh-margin-bottom-one wdh-box-height-four">');newHTML.push('      <div class="wdh-button-add-new-booking wdh-box-full wdh-button wdh-green-bg">'+CalendarData.text.buttons.add_new_reservation+'</div>');newHTML.push('    </div>')}
                            newHTML.push('  </div>');                           
                            return newHTML.join('');                       },                        hours:{                            generate:function(tempHours){                            var newHTML=new Array();                             
                            newHTML.push('  <div class="wdh-box-hours wdh-margin-bottom-one wdh-box-height-five wdh-box-container wdh-box-scroll">');                            newHTML.push('  </div>');                           
                            return newHTML.join('');                               
                           },                            get:function(tempDate,tempFullDate){                               
                               
                               
                                var tempData=generalData.hours,                                    tempCurrentWeekDay=tempDate.getDay();                               
                                if(tempCurrentWeekDay===0){                                    tempCurrentWeekDay=7;                               }
                               
                               
                                var dayWeekDay=tempCurrentWeekDay;                               
                                for(var objDay in weekDayData){                                   
                                    if(weekDayData.hasOwnProperty(objDay)){                                     
                                        if(dayWeekDay===parseInt(objDay)){                                            if(weekDayData[objDay].hours!==undefined){                                                tempData=weekDayData[objDay].hours;                                           }
                                       }
                                   }
                               }
                               
                               
                               
                                var monthTemDate=tempDate.getMonth();                               
                                for(var objDay in customMonthsData){                                   
                                    if(monthTemDate===parseInt(objDay)){                                       
                                        if(customMonthsData[objDay].hours!==undefined){                                            tempData=customMonthsData[objDay].hours;                                       }
                                   }
                               }
                               
                               
                                var weekTemDate=tempDate.getWeek();                               
                                for(var objDay in customWeeksData){                                   
                                    if(weekTemDate===parseInt(objDay)){                                       
                                        if(customWeeksData[objDay].hours!==undefined){                                            tempData=customWeeksData[objDay].hours;                                       }
                                   }
                               }
                               
                               
                                for(var objDay in customDaysData){                                   
                                    if(tempFullDate===objDay){                                       
                                        if(customDaysData[objDay].hours!==undefined){                                            tempData=customDaysData[objDay].hours;                                       }
                                   }
                               }
                               
                                return tempData;                           },                            add:function(){                                var newHTML=new Array(),                                    hoursStartArray=[],                                    hoursEndArray=[];                               
                                var tempDate=new Date(booking.general.convert(selectedData.day.start.date.split('-')[1])+'/'+booking.general.convert(selectedData.day.start.date.split('-')[0])+'/'+selectedData.day.start.date.split('-')[2]+' 00:00:00 GMT'),                                    tempFullDate=selectedData.day.start.date,                                    tempHoursStart=booking.reservations.reservation.add.hours.get(tempDate,tempFullDate)['data'];                                   
                                for(var key in tempHoursStart){                                    hoursStartArray=libs.hours.generate(tempHoursStart[key].start,tempHoursStart[key].end,tempHoursStart[key].step,tempHoursStart[key]);                               }
                               
                                if(selectedData.day.start.date!==selectedData.day.end.date){                                    var tempDate=new Date(booking.general.convert(selectedData.day.end.date.split('-')[1])+'/'+booking.general.convert(selectedData.day.end.date.split('-')[0])+'/'+selectedData.day.end.date.split('-')[2]+' 00:00:00 GMT'),                                        tempFullDate=selectedData.day.end.date,                                        tempHoursEnd=booking.reservations.reservation.add.hours.get(tempDate,tempFullDate)['data'];                                   
                                    for(var key in tempHoursEnd){                                        hoursEndArray[key]=libs.hours.generate(tempHoursEnd[key].start,tempHoursEnd[key].end,tempHoursEnd[key].step,tempHoursEnd[key]);                                   }
                               }
                             
                               
                                newHTML.push('<div class="wdh-box-calendar-box-sidebar-header">'+CalendarData.text.hours.single+'</div>');                                var i=1;                                for(var key in hoursStartArray){                                 
                                    if(hoursStartArray.hasOwnProperty(key)){                                        newHTML.push('<div id="wdh-bec-booking-calendar-hour-'+calendarID+'-'+i+'" class="wdh-bec-booking-calendar-hour wdh-bec-booking-calendar-hour-'+hoursStartArray[key].status+' wdh-bec-booking-calendar-hour-'+key.split(':').join('_')+'" data-hour="'+key+'">');                                        newHTML.push('  <div class="wdh-bec-hour">'+key+'</div>');                                       
                                            if(hoursStartArray[key].status!=='booked'
                                             &&hoursStartArray[key].status!=='unavailable'){                                                newHTML.push('  <div class="wdh-bec-price">'+booking.general.price(hoursStartArray[key].price)+'</div>');                                                newHTML.push('  <div class="wdh-bec-available">'+hoursStartArray[key].available+'</div>');                                           }else{                                                newHTML.push('  <div class="wdh-bec-status">'+hoursStartArray[key].status+'</div>');                                           }
                                 
                                        newHTML.push('</div>');i++;                                   }
                               }
                               
                                $GUP('.wdh-box-hours').html(newHTML.join(''));booking.reservations.reservation.add.hours.events();                           },events:function(){                               
                                $GUP('.wdh-bec-booking-calendar-hour-available').hover(function(event){                                   
                                        if(window.firstBookedhour===''
                                           &&event.target.id!==undefined
                                           &&event.target.id!==''){                                       
                                            if(selectedData.hour.start.date!==""&&selectedData.hour.end.date===""){                                               
                                                if(event.target.id!==undefined
                                                   &&event.target.id!==''){                                                    var selectedHourNumber=event.target.id.split('wdh-bec-booking-calendar-hour-'+calendarID+'-')[1];                                                   
                                                        if(selectedHourNumber){                                                            selectedHourNumber=parseInt(selectedHourNumber);                                                       }else{                                                            return!1;                                                       }
                                                   
                                                   
                                                    selectedData.hour.end.no=selectedHourNumber;                                               }
                                           }
                                          
                                           
                                            booking.calendar.month.week.hour.select.hours();                                           
                                           
                                            if((selectedData.hour.start.date!==""&&selectedData.hour.end.date!=="")
                                               ||(selectedData.hour.start.date===""&&selectedData.hour.end.date==="")){                                           
                                                if(event.target.id!==undefined
                                                   &&event.target.id!==''){                                                    $GUP('#wdh-bec-booking-calendar-hour-'+calendarID+'-'+selectedHourNumber+' .wdh-bec-booking-calendar-hour-price').addClass('wdh-bec-booking-hide');                                                    $GUP('#wdh-bec-booking-calendar-hour-'+calendarID+'-'+selectedHourNumber+' .wdh-bec-booking-calendar-hour-status').removeClass('wdh-bec-booking-hide');                                               }
                                           }
                                       }
                               },                                function(event){                                   
                                   
                                    if((selectedData.hour.start.date!==""&&selectedData.hour.end.date!=="")
                                       ||(selectedData.hour.start.date===""&&selectedData.hour.end.date==="")){                                        $GUP('.wdh-bec-booking-calendar-hour-available-price').removeClass('wdh-bec-booking-hide');                                        $GUP('.wdh-bec-booking-calendar-hour-available-status').addClass('wdh-bec-booking-hide');                                   }
                               });                               
                               
                                $GUP('.wdh-bec-booking-calendar-hour-available').unbind('click','event3');                                $GUP('.wdh-bec-booking-calendar-hour-available').bind('click','event3',function(){                                    var selectedHourNumber=parseInt(this.id.split('wdh-bec-booking-calendar-hour-'+calendarID+'-')[1]);                                   
if(selectedData.hour.start.no!==""&&selectedData.hour.end.date===""){                                        selectedData.hour.end.no=selectedHourNumber;                                       
                                        $GUP('.wdh-bec-booking-calendar-hour-available').removeClass('wdh-bec-booking-calendar-hour-selected');                                        var tempStartNohour=selectedData.hour.start.no,                                            tempEndNohour=selectedData.hour.end.no;                                           
                                        if(tempEndNohour!==""){                                           
                                            if(tempEndNohour<=tempStartNohour){                                                var tempDataStartNo=tempStartNohour;                                                    tempStartNohour=tempEndNohour;                                                    tempEndNohour=tempDataStartNo;                                           }
                                           
                                           
                                            selectedData.hours=[];                                            for(var i=tempStartNohour;i<=tempEndNohour;i++){                                               
                                                if($GUP('#wdh-bec-booking-calendar-hour-'+calendarID+'-'+i).attr('data-date')!==undefined){                                                    if(!$GUP('#wdh-bec-booking-calendar-hour-'+calendarID+'-'+i).hasClass('wdh-bec-booking-calendar-hour-booked')
                                                       &&window.firstBookedhour===''){                                                       
                                                        $GUP('#wdh-bec-booking-calendar-hour-'+calendarID+'-'+i).addClass('wdh-bec-booking-calendar-hour-selected');                                                        selectedData.hours.push($GUP('#wdh-bec-booking-calendar-hour-'+calendarID+'-'+i).attr('data-hour'));                                                       
                                                   }else{                                                        selectedData.hour.end.date=$GUP('#wdh-bec-booking-calendar-hour-'+calendarID+'-'+(i-1)).attr('data-hour');                                                        selectedData.hour.end.no=i-1;                                                        if(selectedData.hour.end.date<=selectedData.hour.start.date){                                                            var tempDataStart=selectedData.hour.start.date,                                                                tempDataStartNo=selectedData.hour.start.no;                                                                selectedData.hour.start.date=selectedData.hour.end.date;                                                                selectedData.hour.end.date=tempDataStart;                                                                selectedData.hour.start.no=selectedData.hour.end.no;                                                                selectedData.hour.end.no=tempDataStartNo;                                                       }
                                                       
                                                        window.firstBookedhour=i;                                                        tempEndNohour=i;                                                        selectedData.hour.start.date=$GUP('#wdh-bec-booking-calendar-hour-'+calendarID+'-'+tempEndNohour).attr('data-date');                                                        selectedData.hour.start.no=tempEndNohour;                                                        selectedData.hour.end.date=$GUP('#wdh-bec-booking-calendar-hour-'+calendarID+'-'+tempEndNohour).attr('data-date');                                                        selectedData.hour.end.no=tempEndNohour;                                                   }
                                               }
                                           }
                                       }
                                   }
                                    if(window.firstBookedhour!==''){                                       
                                        $GUP('.wdh-bec-booking-calendar-hour-available').removeClass('wdh-bec-booking-calendar-hour-selected');                                        selectedData.hour.start.date='';                                        selectedData.hour.end.date='';                                        selectedData.hours=[];                                        window.firstBookedhour='';                                   }
                                   
                                    if(selectedData.hour.end.date!==""){                                       
                                        $GUP('.wdh-bec-booking-calendar-hour-available').removeClass('wdh-bec-booking-calendar-hour-selected');                                        selectedData.hour.start.date='';                                        selectedData.hour.end.date='';                                        selectedData.hours=[];                                   }
                                   
                                   
                                    $GUP('#'+this.id).addClass('wdh-bec-booking-calendar-hour-selected');                                   
                                   
                                    if(selectedData.hour.start.date===""){                                        selectedData.hour.start.date=$GUP('#wdh-bec-booking-calendar-hour-'+calendarID+'-'+selectedHourNumber).attr('data-hour');                                        selectedData.hour.start.no=selectedHourNumber;                                       
                                        $GUP('.wdh-bec-booking-calendar-hour-available-price').removeClass('wdh-bec-booking-hide');                                        $GUP('.wdh-bec-booking-calendar-hour-available-status').addClass('wdh-bec-booking-hide');                                     
                                       
                                       
                                       
                                        booking.reservations.reservation.add.buttons.disable();                                   }else{                                       
                                            selectedData.hour.end.date=$GUP('#wdh-bec-booking-calendar-hour-'+calendarID+'-'+selectedHourNumber).attr('data-hour');                                            selectedData.hour.end.no=selectedHourNumber;                                           
                                            if(selectedData.hour.end.date<=selectedData.hour.start.date){                                                var tempDataStart=selectedData.hour.start.date,                                                    tempDataStartNo=selectedData.hour.start.no;                                                    selectedData.hour.start.date=selectedData.hour.end.date;                                                    selectedData.hour.end.date=tempDataStart;                                                    selectedData.hour.start.no=selectedData.hour.end.no;                                                    selectedData.hour.end.no=tempDataStartNo;                                               
                                           }
                                         
                                           
                                           
                                            booking.reservations.reservation.add.buttons.enable();                                           
                                            booking.reservations.cart.enable();                                   }
                               })}
                           
                       },                        services:{                            generate:function(){                            var newHTML=new Array();                            newHTML.push('  <div class="wdh-box-services wdh-margin-bottom-one wdh-box-height-three wdh-box-container wdh-box-scroll">');                          
                            newHTML.push('  </div>');                           
                            return newHTML.join('');                               
                           }
                       },                        buttons:{                            enable:function(){                               
                                booking.sidebar.stepOne.error.stop();var tempDay=[];if(selectedData.day.start.no>selectedData.day.end.no){tempDay=selectedData.day.start;selectedData.day.start=selectedData.day.end;selectedData.day.end=tempDay}
                               
                                $GUP('#wdh-bec-add-to-cart-buttons').removeClass('wdh-bec-booking-hide');                                       
                               
                                booking.sidebar.step('one');                             
                               
                                booking.reservations.reservation.price.enable();                             
                               
                                booking.reservations.reservation.items.enable();                             
                                booking.reservations.reservation.add.buttons.events();                           },                            disable:function(){                               
                                booking.reservations.reservation.items.disable();                               
                                $GUP('#wdh-bec-add-to-cart-buttons').addClass('wdh-bec-booking-hide');                           },                            generate:function(){                                var newHTML=new Array();                                  newHTML.push('  <div id="wdh-bec-add-to-cart-buttons" class="wdh-box-buttons wdh-bec-booking-hide wdh-margin-bottom-one wdh-box-height-four">');                                  newHTML.push('      <div class="wdh-button-cancel-booking wdh-margin-right-one wdh-button wdh-red-bg">'+CalendarData.text.buttons.cancel_booking+'</div>');                                  newHTML.push('      <div class="wdh-button-add-booking wdh-button wdh-green-bg">'+CalendarData.text.buttons.add_booking+'</div>');                                  newHTML.push('  </div>');                                  return newHTML.join('');                               
                           },                            events:function(){                               
                                $GUP('.wdh-button-cancel-booking').unbind('click','event8');                                $GUP('.wdh-button-cancel-booking').bind('click','event8',function(){                                   
booking.calendar.month.week.day.clear();                               });                             
                               
                                $GUP('.wdh-button-add-booking').unbind('click','event9');                                $GUP('.wdh-button-add-booking').bind('click','event9',function(){                                   
                                    booking.reservations.cart.data.add();                               });                             
                               
                                $GUP('.wdh-button-add-new-booking').unbind('click','event25');                                $GUP('.wdh-button-add-new-booking').bind('click','event25',function(){                                   
                                    booking.sidebar.step('one');                               });                           }
                       }
                   }
               },                form:{                    start:function(){                        booking.reservations.form.generate();                     
                       
                        booking.reservations.form.events();                     
                       
                        booking.sidebar.step('four');libs.vat.show(CalendarData.cart.country);                   },                    generate:function(){                        var newHTML=new Array();                        $GUP('.wdh-bec-booking-step-four').html('');newHTML.push('    <div class="wdh-margin-bottom-one wdh-box-full wdh-box-container">');newHTML.push('      <div class="wdh-box-calendar-box-sidebar-header">'+CalendarData.text.buttons.checkout+'</div>');newHTML.push('      <div class="wdh-box-selection">');                       
                       
                        newHTML.push(         booking.reservations.form.fields.generate());                        newHTML.push(         '<div class="wdh-box-full" style="margin-top:10px;">');                        newHTML.push(         '   <input type="checkbox" id="terms_and_conditions" style="float:left">');                        newHTML.push(         '   <label for="terms_and_conditions">'+CalendarData.text.terms.conditions.split('%s').join(CalendarData.api_key)+'</label>');                        newHTML.push(         '</div>');                        newHTML.push('      </div>');                        newHTML.push('    </div>');                        newHTML.push('  <div class="wdh-box-buttons wdh-margin-bottom-one wdh-box-height-four">');                        newHTML.push('      <div class="wdh-button-back-to-cart wdh-margin-right-one wdh-button wdh-red-bg">'+CalendarData.text.buttons.back_to_cart+'</div>');                        newHTML.push('      <div id="wdh-button-send-booking-'+calendarID+'" class="wdh-button-send-booking wdh-button wdh-green-bg">'+CalendarData.text.buttons.book+'</div>');                        newHTML.push('  </div>');if(CalendarData.payment_method==='braintree'){newHTML.push('  <div id="wdh-bec-braintree-popup-payment">');newHTML.push('      <div id="wdh-bec-braintree-container"></div>');newHTML.push('      <button id="wdh-bec-braintree-pay">Pay&nbsp;<b id="wdh-bec-braintree-pay-amount">'+booking.general.price(CalendarData.cart.price)+((CalendarData.settings.selected_currency.from!==CalendarData.settings.selected_currency.to&&CalendarData.payment_method==='braintree')?'  ( ≈ '+booking.general.price_converted(CalendarData.cart.price)+' )':'')+'</b></button>');newHTML.push('  </div>')}
                        $GUP('.wdh-bec-booking-step-four').html(newHTML.join(''));                   },                    fields:{                        generate:function(){                            var newHTML=new Array();                         
                            for(var key in CalendarData.form){                             
                                if(CalendarData.form.hasOwnProperty(key)
                                  &&CalendarData.form[key].name!==undefined
                                  &&CalendarData.form[key].type!=='no'){                                   
                                    newHTML.push('  <div id="wdh-box-calendar-form-field-box-'+CalendarData.form[key].id+'" class="wdh-box-calendar-form-field wdh-box-calendar-form-field-'+CalendarData.form[key].id+'">');if(CalendarData.form[key].id==='country_state'){if(CalendarData.settings.vat_included==='false'){                                    newHTML.push('      <label for="wdh-box-calendar-form-field-'+CalendarData.form[key].id+'" class="wdh-box-label">'+CalendarData.form[key].name+'</label>')}}else{                                    newHTML.push('      <label for="wdh-box-calendar-form-field-'+CalendarData.form[key].id+'" class="wdh-box-label">'+CalendarData.form[key].name+'</label>')}
                                    if(CalendarData.form[key].field_type===undefined){var defaultValueIs=eval('window.BECHookValue_'+CalendarData.form[key].id);defaultValueIs=defaultValueIs===undefined?'':defaultValueIs;                                       
                                        if(CalendarData.form[key].id==='phone'){                                            newHTML.push('  <div class="wdh-box-full">');newHTML.push('   <div id="wdh-box-calendar-form-field-'+CalendarData.form[key].id+'-country-code-select" class="wdh-box-select wdh-box-1-3 wdh-bmd-noselect-text wdh-bmd-select"><span class="wdh-bmd-flag wdh-bmd-flag-'+CalendarData.country.country_2.toLowerCase()+'"></span>');newHTML.push('     <div class="wdh-bmd-select-icon"><span></span></div>');newHTML.push('     <ul id="wdh-box-calendar-form-field-'+CalendarData.form[key].id+'-select-options" class="wdh-bmd-select-options bmd-phone">');for(var ckey in CalendarData.country.countries){newHTML.push('   <li id="wdh-box-calendar-form-field-'+CalendarData.form[key].id+'-'+ckey+'" data-value="'+ckey+'" class="'+(ckey===CalendarData.country.country_2?'wdh-bmd-selected':'')+'"><span class="wdh-bmd-flag wdh-bmd-flag-'+ckey.toLowerCase()+'"></span> '+CalendarData.country.countries[ckey]+'</li>')}
newHTML.push('     </ul>');newHTML.push('   </div>');newHTML.push('   <input id="wdh-box-calendar-form-field-'+CalendarData.form[key].id+'-country-code" name="wdh-box-calendar-form-field-'+CalendarData.form[key].id+'-country-code" type="hidden" class="wdh-bmd-input" value="'+CalendarData.country.country_2+'" />');newHTML.push('     <input id="wdh-box-calendar-form-field-'+CalendarData.form[key].id+'" name="wdh-box-calendar-form-field-'+CalendarData.form[key].id+'" type="text" class="wdh-box-input wdh-box-2-3 wdh-becapp-field wdh-filter-'+CalendarData.form[key].type.toLowerCase()+' wdh-filter-'+CalendarData.form[key].id+'" value="'+defaultValueIs+'"/>');                                            newHTML.push('  </div>');                                       }else if(CalendarData.form[key].id==='country_state'){if(CalendarData.settings.vat_included==='false'){newHTML.push('  <div class="wdh-box-full">');newHTML.push('   <div id="wdh-box-calendar-form-field-'+CalendarData.form[key].id+'-country-code-select" class="wdh-box-select wdh-country wdh-bmd-noselect-text wdh-bmd-select"><span class="wdh-bmd-flag wdh-bmd-flag-'+CalendarData.country.country_2.toLowerCase()+'"></span><span class="wdh-country-full">'+CalendarData.country.countries[CalendarData.country.country_2]+'</span>');newHTML.push('     <div class="wdh-bmd-select-icon"><span></span></div>');newHTML.push('     <ul id="wdh-box-calendar-form-field-'+CalendarData.form[key].id+'-select-options" class="wdh-bmd-select-options bmd-country">');for(var ckey in CalendarData.country.countries){newHTML.push('   <li id="wdh-box-calendar-form-field-'+CalendarData.form[key].id+'-'+ckey+'" data-value="'+ckey+'" class="'+(ckey===CalendarData.country.country_2?'wdh-bmd-selected':'')+'"><span class="wdh-bmd-flag wdh-bmd-flag-'+ckey.toLowerCase()+'"></span> '+CalendarData.country.countries[ckey]+'</li>')}
newHTML.push('     </ul>');newHTML.push('   </div>');newHTML.push('   <input id="wdh-box-calendar-form-field-'+CalendarData.form[key].id+'-country-code" name="wdh-box-calendar-form-field-'+CalendarData.form[key].id+'-country-code" type="hidden" class="wdh-bmd-input" value="'+CalendarData.country.country_2+'" />');newHTML.push('  </div>');newHTML.push(' <div class="wdh-state-full-box bmd-invisible">');newHTML.push(' <label for="wdh-box-calendar-form-field-'+CalendarData.form[key].id+'-state-code-select" class="wdh-box-label">'+CalendarData.form[key].state+'</label>');newHTML.push(' <div class="wdh-box-full">');newHTML.push('   <div id="wdh-box-calendar-form-field-'+CalendarData.form[key].id+'-state-code-select" class="wdh-box-select wdh-state wdh-bmd-noselect-text wdh-bmd-select"><span class="bmd-state-show">'+CalendarData.country.states.AL+'</span>');newHTML.push('     <div class="wdh-bmd-select-icon"><span></span></div>');newHTML.push('     <ul id="wdh-box-calendar-form-field-'+CalendarData.form[key].id+'-state-code-select-options" class="wdh-bmd-select-options bmd-state">');for(var skey in CalendarData.country.states){newHTML.push('   <li id="wdh-box-calendar-form-field-'+CalendarData.form[key].id+'-state-'+skey+'" data-value="'+skey+'" class="'+(skey===CalendarData.country.state?'wdh-bmd-selected':'')+'">'+CalendarData.country.states[skey]+'</li>')}
newHTML.push('     </ul>');newHTML.push('   </div>');newHTML.push('   <input id="wdh-box-calendar-form-field-'+CalendarData.form[key].id+'-state-code" name="wdh-box-calendar-form-field-'+CalendarData.form[key].id+'-state-code" type="hidden" class="wdh-bmd-input" value="AL" />');newHTML.push(' </div>');newHTML.push(' </div>');newHTML.push(' <div class="wdh-vat-full-box bmd-invisible">');newHTML.push('   <div class="wdh-vat-full-box-left">'+CalendarData.text.buttons.price+'<br><span id="bmd-vat-name" class="bmd-vat-name"></span> (<span id="bmd-vat-location" class="bmd-vat-location"></span> - <span id="bmd-vat-rate" class="bmd-vat-rate"></span>%)</div>');newHTML.push('   <div class="wdh-vat-full-box-right">'+settingsData.currency.sign+CalendarData.cart.price+'<br><span id="bmd-vat-amount" class="bmd-vat-amount"></div>');newHTML.push('   <div class="wdh-box-full">');newHTML.push('    <div class="wdh-vat-full-box-left-second">'+CalendarData.text.buttons.total+'</div>');newHTML.push('    <div class="wdh-vat-full-box-right-second"><span id="bmd-vat-total" class="bmd-vat-total"></div>');newHTML.push('   </div>');newHTML.push(' </div>')}else{newHTML.push('   <input id="wdh-box-calendar-form-field-'+CalendarData.form[key].id+'-country-code" name="wdh-box-calendar-form-field-'+CalendarData.form[key].id+'-country-code" type="hidden" class="wdh-bmd-input" value="'+CalendarData.country.country_2+'" />');newHTML.push('   <input id="wdh-box-calendar-form-field-'+CalendarData.form[key].id+'-state-code" name="wdh-box-calendar-form-field-'+CalendarData.form[key].id+'-state-code" type="hidden" class="wdh-bmd-input" value="AL" />')}
                                       }else if(CalendarData.form[key].id==='expiration_year'){                                            newHTML.push('  <div class="wdh-box-full">');                                            newHTML.push('      <select id="wdh-box-calendar-form-field-'+CalendarData.form[key].id+'" name="wdh-box-calendar-form-field-'+CalendarData.form[key].id+'" class="wdh-box-select wdh-becapp-field">');                                           
                                            for(var i=1;i<=12;i++){                                                newHTML.push('          <option value="'+(i<10?'0'+i:i)+'">'+(i<10?'0'+i:i)+'</option>');                                           }
                                            newHTML.push('      </select>');                                            newHTML.push('  </div>');                                       }else if(CalendarData.form[key].id==='expiration_year'){                                            newHTML.push('  <div class="wdh-box-full">');                                            newHTML.push('      <select id="wdh-box-calendar-form-field-'+CalendarData.form[key].id+'" name="wdh-box-calendar-form-field-'+CalendarData.form[key].id+'" class="wdh-box-select wdh-becapp-field">');                                            var tempYear=new Date().getFullYear();                                            for(var i=tempYear;i<=tempYear+10;i++){                                                newHTML.push('          <option value="'+(i<10?'0'+i:i)+'">'+(i<10?'0'+i:i)+'</option>');                                           }
                                            newHTML.push('      </select>');                                            newHTML.push('  </div>');                                       }else{                                            newHTML.push('      <input id="wdh-box-calendar-form-field-'+CalendarData.form[key].id+'" name="wdh-box-calendar-form-field-'+CalendarData.form[key].id+'" type="text" class="wdh-box-input wdh-becapp-field wdh-filter-'+CalendarData.form[key].type.toLowerCase()+' wdh-filter-'+CalendarData.form[key].id+'" value="'+defaultValueIs+'">');                                       }
                                       
                                        if(CalendarData.form[key].type.toLowerCase()==='required'){                                            newHTML.push('      <div id="wdh-box-calendar-form-field-error-is_required-'+CalendarData.form[key].id+'" class="wdh-box-calendar-form-field-error-'+CalendarData.form[key].id+' wdh-box-error wdh-bec-booking-hide">'+CalendarData.text.error.required+'</div>');                                       }
                                       
                                        if(CalendarData.form[key].id==='email'){                                            newHTML.push('      <div id="wdh-box-calendar-form-field-error-is_email-'+CalendarData.form[key].id+'" class="wdh-box-calendar-form-field-error-'+CalendarData.form[key].id+' wdh-box-error wdh-bec-booking-hide">'+CalendarData.text.error.email+'</div>');                                       }
                                       
                                        if(CalendarData.form[key].id==='phone'){                                            newHTML.push('      <div id="wdh-box-calendar-form-field-error-is_phone-'+CalendarData.form[key].id+'" class="wdh-box-calendar-form-field-error-'+CalendarData.form[key].id+' wdh-box-error wdh-bec-booking-hide">'+CalendarData.text.error.phone+'</div>');                                       }
                                   }
                                    newHTML.push('  </div>');                               }
                           }
                         
                            return newHTML.join('');                       },                        get:function(){                            var tempFields=$GUP('.wdh-box-input.wdh-becapp-field'),tempSelects=$GUP('.wdh-box-select.wdh-becapp-field'),                                tempFieldsData={}; 
                           
                            tempFields.each(function(element,i){                                var tempKey=element.id.split('wdh-box-calendar-form-field-')[1],tempElement=document.getElementById(element.id),                                    tempValue=element.value;                               
                                if(tempKey==='phone'){                                    tempValue=document.getElementById(element.id+'-country-code').value+'@'+tempValue;                               }
tempFieldsData[tempKey]=tempValue;                           });                           
                            tempSelects.each(function(element,i){                                var tempKey=element.id.split('wdh-box-calendar-form-field-')[1],tempElement=document.getElementById(element.id),                                    tempValue=element.value;                             
tempFieldsData[tempKey]=tempElement.options[tempElement.selectedIndex].value;                           });                           
                           
                            tempFieldsData.id=formID;                            return tempFieldsData;                       },                        events:function(){$GUP('.wdh-bmd-select').unbind('click','event50');$GUP('.wdh-bmd-select').bind('click','event50',function(){var thisField=this;if($GUP('#'+thisField.id).hasClass('wdh-bmd-opened')){$GUP('#'+thisField.id).removeClass('wdh-bmd-opened')}else{$GUP('#'+thisField.id).addClass('wdh-bmd-opened')}});$GUP('.wdh-bmd-select-options.bmd-phone li').unbind('click','event51');$GUP('.wdh-bmd-select-options.bmd-phone li').bind('click','event51',function(){var thisField=this,tempValue=$GUP('#'+thisField.id).attr('data-value'),tempContainer=$GUP('#'+thisField.id).parent(),fieldID=tempContainer.id.split('-select-options')[0];$GUP('.wdh-bmd-select-options.bmd-phone li').removeClass('wdh-bmd-selected');for(var ckey in CalendarData.country.countries){$GUP('#'+fieldID+'-country-code-select:not(li) > span').removeClass('wdh-bmd-flag-'+ckey.toLowerCase())}
$GUP('#'+fieldID+'-country-code-select:not(li) > span').addClass('wdh-bmd-flag-'+tempValue.toLowerCase());document.getElementById(fieldID+'-country-code').value=tempValue;$GUP('#'+thisField.id).addClass('wdh-bmd-selected')});$GUP('.wdh-bmd-select-options.bmd-country li').unbind('click','event52');$GUP('.wdh-bmd-select-options.bmd-country li').bind('click','event52',function(){var thisField=this,tempValue=$GUP('#'+thisField.id).attr('data-value'),tempContainer=$GUP('#'+thisField.id).parent(),fieldID=tempContainer.id.split('-select-options')[0];$GUP('.wdh-bmd-select-options.bmd-country li').removeClass('wdh-bmd-selected');for(var ckey in CalendarData.country.countries){$GUP('#'+fieldID+'-country-code-select:not(li) > span.wdh-bmd-flag').removeClass('wdh-bmd-flag-'+ckey.toLowerCase())}
$GUP('#'+fieldID+'-country-code-select:not(li) > span.wdh-bmd-flag').addClass('wdh-bmd-flag-'+tempValue.toLowerCase());$GUP('#'+fieldID+'-country-code-select:not(li) > span.wdh-country-full').html(CalendarData.country.countries[tempValue]);document.getElementById(fieldID+'-country-code').value=tempValue;if(tempValue==='US'){$GUP('.wdh-state-full-box').removeClass('bmd-invisible')}else{$GUP('.wdh-state-full-box').addClass('bmd-invisible')}
libs.vat.change(tempValue,'country');$GUP('#'+thisField.id).addClass('wdh-bmd-selected')});$GUP('.wdh-bmd-select-options.bmd-state li').unbind('click','event53');$GUP('.wdh-bmd-select-options.bmd-state li').bind('click','event53',function(){var thisField=this,tempValue=$GUP('#'+thisField.id).attr('data-value'),tempContainer=$GUP('#'+thisField.id).parent(),fieldID=tempContainer.id.split('-select-options')[0];$GUP('.wdh-bmd-select-options.bmd-state li').removeClass('wdh-bmd-selected');$GUP('#'+fieldID+'-select:not(li) > span.bmd-state-show').html(CalendarData.country.states[tempValue]);document.getElementById(fieldID).value=tempValue;libs.vat.change(tempValue,'state');$GUP('#'+thisField.id).addClass('wdh-bmd-selected')});                           
                            booking.reservations.form.fields.filters();                         
                       },                        warning:{                            show:function(tempKey,filter){                                $GUP('.wdh-box-calendar-form-field-error-'+tempKey).addClass('wdh-bec-booking-hide');                                $GUP('#wdh-box-calendar-form-field-error-'+filter+'-'+tempKey).removeClass('wdh-bec-booking-hide');                           },                            hide:function(tempKey){                                $GUP('.wdh-box-calendar-form-field-error-'+tempKey).addClass('wdh-bec-booking-hide');                           }
                       },                        filter:{                            checkAll:function(){                               
                                $GUP('.wdh-filter-required').each(function(element,i){                                    var tempKey=element.id.split('wdh-box-calendar-form-field-')[1],                                        tempValue=element.value;                                 
                                    booking.reservations.form.fields.filter.required(tempKey,tempValue);                               });                             
                               
                                $GUP('.wdh-filter-email').each(function(element,i){                                    var tempKey=element.id.split('wdh-box-calendar-form-field-')[1],                                        tempValue=element.value;                                 
                                    booking.reservations.form.fields.filter.email(tempKey,tempValue);                               });                             
                               
                                $GUP('.wdh-filter-phone').each(function(element,i){                                    var tempKey=element.id.split('wdh-box-calendar-form-field-')[1],                                        tempValue=element.value;                                 
                                    booking.reservations.form.fields.filter.phone(tempKey,tempValue);                               });                           },                            required:function(key,value){                                if(value.length<2){                                    booking.reservations.form.fields.warning.show(key,'is_required');                                    booking.status='error';                               }else{                                    booking.reservations.form.fields.warning.hide(key);                               }
                           },                            email:function(key,value){                               
                                if(!booking.general.is_email(value)){                                    booking.reservations.form.fields.warning.show(key,'is_email');                                    booking.status='error';                               }else{                                    booking.reservations.form.fields.warning.hide(key);                               }
                           },                            phone:function(key,value){                               
                                if(!booking.general.is_phone(value)){                                    booking.reservations.form.fields.warning.show(key,'is_phone');                                    booking.status='error';                               }else{                                    booking.reservations.form.fields.warning.hide(key);                               }
                           }
                       },                        filters:function(){                           
                           
                            $GUP('.wdh-filter-required').unbind('keyup keydown','event17');                            $GUP('.wdh-filter-required').bind('keyup keydown','event17',function(){                                var thisField=this;                             
                                wdhDelay(function(){                                    var tempValue=thisField.value,                                        tempKey=thisField.id.split('wdh-box-calendar-form-field-')[1];                                 
                                        booking.reservations.form.fields.filter.required(tempKey,tempValue);                               },500);                           });                           
                           
                            $GUP('.wdh-filter-required').unbind('blur','event22');                            $GUP('.wdh-filter-required').bind('blur','event22',function(){                                var thisField=this,                                    tempValue=thisField.value,                                    tempKey=thisField.id.split('wdh-box-calendar-form-field-')[1];                                 
                                    booking.reservations.form.fields.filter.required(tempKey,tempValue);                           });                           
                           
                            $GUP('.wdh-filter-email').unbind('keyup keydown blur','event18');                            $GUP('.wdh-filter-email').bind('keyup keydown blur','event18',function(){                                var thisField=this;                               
                                wdhDelay(function(){                                    var tempValue=thisField.value,                                        tempKey=thisField.id.split('wdh-box-calendar-form-field-')[1];                                 
                                        booking.reservations.form.fields.filter.email(tempKey,tempValue);                               },500);                           });                           
                           
                            $GUP('.wdh-filter-email').unbind('blur','event23');                            $GUP('.wdh-filter-email').bind('blur','event23',function(){                                var thisField=this,                                    tempValue=thisField.value,                                    tempKey=thisField.id.split('wdh-box-calendar-form-field-')[1];                                    booking.reservations.form.fields.filter.email(tempKey,tempValue);                           });                           
                           
                            $GUP('.wdh-filter-phone').unbind('keyup keydown','event21');                            $GUP('.wdh-filter-phone').bind('keyup keydown','event21',function(){                                var thisField=this;                             
                                wdhDelay(function(){                                    var tempValue=thisField.value,                                        tempKey=thisField.id.split('wdh-box-calendar-form-field-')[1];                                 
                                        booking.reservations.form.fields.filter.phone(tempKey,tempValue);                               },500);                           });                           
                           
                            $GUP('.wdh-filter-phone').unbind('blur','event24');                            $GUP('.wdh-filter-phone').bind('blur','event24',function(){                                var thisField=this,                                    tempValue=thisField.value,                                    tempKey=thisField.id.split('wdh-box-calendar-form-field-')[1];                                    booking.reservations.form.fields.filter.phone(tempKey,tempValue);                           });                       }
                   },                    events:function(){                           
                       
                        $GUP('.wdh-button-back-to-cart').unbind('click','event19');                        $GUP('.wdh-button-back-to-cart').bind('click','event19',function(){                           
                           
                            booking.sidebar.step('three');                       });                           
                       
                        $GUP('.wdh-button-send-booking').unbind('click','event20');                        $GUP('.wdh-button-send-booking').bind('click','event20',function(){booking.reservations.paypal_pay();                       });                     
                       
                        booking.reservations.form.fields.events();                   },                    format:function(){                     
                   }
               },                cart:{                    data:{                       add:function(){var existInCart=booking.reservations.cart.data.checkCart();if(!existInCart){CalendarData.referral_id=$_GET('wdh_bec_rfid')!==null?$_GET('wdh_bec_rfid'):CalendarData.referral_id;var urlData={check:'check',format:'json'};var requestURL=booking.general.url(urlData),oldSelectedData=selectedData,reservationData=[],reservationDataObj={},myData=[];var startDate=selectedData.day.start.date,endDate=selectedData.day.end.date,tempSDate=new Date(startDate.split('-')[2]+'-'+startDate.split('-')[1]+'-'+startDate.split('-')[0]),tempEDate=new Date(endDate.split('-')[2]+'-'+endDate.split('-')[1]+'-'+endDate.split('-')[0]),tempDays=[];selectedData.days=[];while(tempSDate<=tempEDate){selectedData.days.push(booking.general.convert(tempSDate.getDate())+'-'+booking.general.convert((tempSDate.getMonth()+1))+'-'+tempSDate.getFullYear());tempSDate.setDate(tempSDate.getDate()+1)}
if(selectedData.days.indexOf(booking.general.convert(tempEDate.getDate())+'-'+booking.general.convert((tempEDate.getMonth()+1))+'-'+tempEDate.getFullYear())===-1){selectedData.days.push(booking.general.convert(tempEDate.getDate())+'-'+booking.general.convert((tempEDate.getMonth()+1))+'-'+tempEDate.getFullYear())}
reservationDataObj.days=selectedData.days;reservationDataObj.price=selectedData.price;reservationDataObj.prices=selectedData.prices;reservationDataObj.items=selectedData.items;reservationDataObj.calendars=selectedData.calendars;reservationDataObj.status="unchecked";reservationDataObj.account_type=CalendarData.account_type;reservationDataObj.minimum_fee=selectedData.minimum_fee;reservationDataObj.stripe_fee=selectedData.stripe_fee;reservationDataObj.currency=settingsData.currency.code;reservationDataObj.currency_rate=settingsData.currency.rate;reservationDataObj.rf=selectedData.rf;reservationDataObj.rfh=selectedData.rfh;reservationDataObj.rfid=CalendarData.referral_id;reservationData.push(reservationDataObj);selectedData.account_type=CalendarData.account_type;selectedData.currency=settingsData.currency.code;selectedData.currency_rate=settingsData.currency.rate;myData.reservations=reservationData;myData.api_key=CalendarData.api_key;myData.entire=CalendarData.entire;myData.referral_id=CalendarData.referral_id;booking.sidebar.stepOne.loader.start();$GUP.plugin.post(requestURL,myData,function(data){var displayCalendarDate=oldDisplayDate;data=JSON.parse(data);if(data.status==='success'){if(selectedData.day.start.date!=""){if(CalendarData.entire==='true'){selectedData.entire='true'}
cartData.push(selectedData);if(CalendarData.use_cookies==='true'){if(wdhCookies.read('wdhDataCart')!==null){var tempCartData=JSON.parse(wdhCookies.read('wdhDataCart'))}else{var tempCartData={}}
tempCartData[CalendarData.api_key]=cartData;wdhCookies.create('wdhDataCart',JSON.stringify(tempCartData))}}
booking.calendar.month.week.day.clear();booking.reservations.cart.data.show();booking.reservations.cart.events();booking.calendar.month.start(displayCalendarDate)}else{booking.load.calendar(!1,'error',undefined,data.status)}
booking.sidebar.stepOne.loader.stop()},function(req){alert(CalendarData.text.error.cors);$GUP('.bookeucom').css('display','none')})}
                      },checkCart:function(){var error=!1;for(var key in cartData){if((booking.general.findArrayElementsInArray(selectedData.calendars,cartData[key].calendars)||booking.general.findArrayElementsInArray(cartData[key].calendars,selectedData.calendars))&&(booking.general.findArrayElementsInArray(selectedData.days,cartData[key].days)||booking.general.findArrayElementsInArray(cartData[key].days,selectedData.days))){error=!0;break}}
if(error){booking.sidebar.stepOne.error.already()}
return error},                       remove:function(key){                          delete  cartData[key];                          var newCartData=[],i=0;                        
                          for(var key in cartData){                              newCartData[i]=cartData[key];                              i++;                         }
                        
                          cartData=newCartData;if(CalendarData.use_cookies==='true'){if(wdhCookies.read('wdhDataCart')!==null){var tempCartData=JSON.parse(wdhCookies.read('wdhDataCart'))}else{var tempCartData={}}
tempCartData[CalendarData.api_key]=cartData;wdhCookies.create('wdhDataCart',JSON.stringify(tempCartData))}
                        
                         
                          booking.reservations.cart.data.show();                         
                          booking.reservations.cart.events();                                 
                         
                          booking.calendar.month.start(currentDate,!0);if(cartData.length<1){                          booking.sidebar.step('one')}
                      },                       clear:function(){                          cartData=[];if(CalendarData.use_cookies==='true'){if(wdhCookies.read('wdhDataCart')!==null){wdhCookies.erase('wdhDataCart')}}
                      },                       show:function(cartCheckedData){                          var newHTML=new Array(),                              price=0;                        
                          $GUP('.wdh-bec-booking-step-three').html('');                        
                          newHTML.push('    <div class="wdh-margin-bottom-one wdh-box-full wdh-box-container">');                          newHTML.push('      <div class="wdh-box-calendar-box-sidebar-header">'+CalendarData.text.buttons.reservations_cart+'</div>');                          newHTML.push('      <div class="wdh-box-selection">');var modeText=CalendarData.text.mode.nights;                         
                          for(var key in cartData){                           
                              if(cartData.hasOwnProperty(key)){                                  newHTML.push('  <div id="wdh-box-calendar-reservation-info-'+key+'" class="wdh-box-calendar-reservation-info-booking">');                                  newHTML.push('      <div class="wdh-box-calendar-reservation-info-header">'+CalendarData.text.cart.reservation+' #'+(parseInt(key)+1)+' <span class="wdh-box-calendar-reservation-info-remove" id="wdh-box-calendar-reservation-info-remove-'+key+'">x</span></div>');                                  newHTML.push('      <div class="wdh-box-calendar-reservation-info-element">'+CalendarData.text.cart.reservation_for+' '+(cartData[key].entire===undefined?booking.sidebar.stepOne.calendars.names(cartData[key].calendars):(CalendarData.entire_name!==undefined?CalendarData.entire_name:''))+'</div>');                                  newHTML.push('      <div class="wdh-box-calendar-reservation-info-element">'+libs.data_convert(cartData[key].day.start.date)+', '+CalendarData.check_in);if(CalendarData.mode==='nights'){                                  newHTML.push(' - '+libs.data_convert(libs.addDays(cartData[key].day.end.date,1))+', '+CalendarData.check_out+'</div>')}else{newHTML.push(' - '+libs.data_convert(cartData[key].day.end.date)+'</div>')}
if(cartData[key].items>1){newHTML.push('      <div class="wdh-box-calendar-reservation-info-element">'+CalendarData.text.items.multiple+': '+cartData[key].items+'</div>');                                 }
if(CalendarData.mode==='nights'){modeText=(cartData[key].days.length)+' '+((cartData[key].days.length)<2?CalendarData.text.mode.night:CalendarData.text.mode.nights)}else{modeText=(cartData[key].days.length)+' '+(cartData[key].days.length<2?CalendarData.text.mode.day:CalendarData.text.mode.days)}
                                  newHTML.push('      <div class="wdh-box-calendar-reservation-info-element">'+booking.general.price_converted(cartData[key].price,modeText+' '+CalendarData.text.mode.cost+' ','wdh-bookeucom-protection-estimated-price-box-left','wdh-bookeucom-protection-estimated-price-box-middle')+'</div>');                                 
                                  if(cartCheckedData!==undefined&&cartCheckedData[key]!==undefined&&cartCheckedData[key].status!==undefined){                                   
                                      if(cartCheckedData[key].status==='unavailable'){                                          newHTML.push('      <div class="wdh-box-calendar-reservation-info-element wdh-box-calendar-reservation-info-error">'+CalendarData.text.cart.reservation_exist+'</div>');                                     }
                                 }
                                  newHTML.push('  </div>');                                  price+=parseFloat(cartData[key].price);                             }
                         }
CalendarData.cart.price=price;                        
                         
                          newHTML.push('  <div class="wdh-box-buttons wdh-margin-bottom-one wdh-box-height-four">');                          newHTML.push('      <div class="wdh-button-add-new-booking wdh-button wdh-red-bg">'+CalendarData.text.buttons.add_reservation+'</div>');                          newHTML.push('      <div class="wdh-bookeucom-protection-full">');                          newHTML.push('        <div class="wdh-bookeucom-protection">');                          newHTML.push('            <div class="wdh-bookeucom-protection-info-box">');                          newHTML.push('                <div class="wdh-bookeucom-protection-info-box-logo"></div>');                          newHTML.push('                <div class="wdh-bookeucom-protection-info-box-text">'+CalendarData.text.protection.text+'</div>');                          newHTML.push('                <div class="wdh-bookeucom-protection-info-box-read-more">'+CalendarData.text.protection.more+'</div>');                          newHTML.push('            </div>');                          newHTML.push('        </div>');                          newHTML.push('      </div>');                          newHTML.push('  </div>');                          newHTML.push('      </div>');                        
                          newHTML.push('    </div>');                        
                          newHTML.push('  <div class="wdh-box-buttons wdh-margin-bottom-one wdh-box-height-four">');                          newHTML.push('      <div class="wdh-button-total-booking wdh-margin-right-one wdh-button wdh-gray-bg">'+booking.general.price_converted(price,CalendarData.text.buttons.total+' ','wdh-bookeucom-protection-estimated-price-box-middle','wdh-bookeucom-protection-estimated-price-box-middle')+'</div>');                          newHTML.push('      <div class="wdh-button-checkout-booking wdh-button wdh-green-bg">'+CalendarData.text.buttons.go_to_checkout+'</div>');                          newHTML.push('  </div>');                         
                          $GUP('.wdh-bec-booking-step-three').html(newHTML.join(''));                         
                         
                          booking.sidebar.step('three');                      },                       short:function(cartCheckedData){                          var newHTML=new Array(),                              price=0;                         
                          for(var key in cartData){                           
                              if(cartData.hasOwnProperty(key)){                               
                                  newHTML.push('      '+CalendarData.text.cart.reservation_for+' '+booking.sidebar.stepOne.calendars.names(cartData[key].calendars)+' -> ');                                  newHTML.push('      '+CalendarData.text.cart.start_at+' '+cartData[key].day.start.date+',');if(CalendarData.mode==='nights'){                                  newHTML.push('      '+CalendarData.text.cart.end_at+' '+libs.addDays(cartData[key].day.end.date,1)+' '+CalendarData.check_out+',')}else{newHTML.push('      '+CalendarData.text.cart.end_at+' '+cartData[key].day.end.date+',')}
                                  newHTML.push('      '+CalendarData.text.items.multiple+': '+cartData[key].items+',');                                  newHTML.push('      '+CalendarData.text.buttons.price+': '+booking.general.price(cartData[key].price)+';');                                 
                             }
                         }
                         
                          return newHTML.join('');                      }
                   },                    enable:function(){                   },                    generate:function(){                        var newHTML=new Array();                        newHTML.push('  <div class="wdh-bec-booking-reservations-cart">');                        newHTML.push('  </div>');                        return newHTML.join('');                   },                    events:function(){                       
                        $GUP('.wdh-bookeucom-protection-info-box-logo').unbind('click','event200');                        $GUP('.wdh-bookeucom-protection-info-box-logo').bind('click','event200',function(){var win=window.open(CalendarData.booking_protection,'_blank');win.focus();                       });                       
                        $GUP('.wdh-bookeucom-protection-info-box-read-more').unbind('click','event201');                        $GUP('.wdh-bookeucom-protection-info-box-read-more').bind('click','event201',function(){var win=window.open(CalendarData.booking_protection,'_blank');win.focus();                       });                       
                        $GUP('.wdh-button-add-new-booking').unbind('click','event10');                        $GUP('.wdh-button-add-new-booking').bind('click','event10',function(){                           
                            booking.sidebar.step('one');                       });                     
                       
                        $GUP('.wdh-box-calendar-reservation-info-remove').unbind('click','event11');                        $GUP('.wdh-box-calendar-reservation-info-remove').bind('click','event11',function(){                            var key=parseInt(this.id.split('wdh-box-calendar-reservation-info-remove-')[1]);                           
                           
                            booking.reservations.cart.data.remove(key);                       });                     
                       
                        $GUP('.wdh-button-checkout-booking').unbind('click','event16');                        $GUP('.wdh-button-checkout-booking').bind('click','event16',function(){                            booking.reservations.form.start();                       });                   }
               }
           }
       };       
        booking.init();     
        window.wdhBookingEU=booking;   }})($GUP);$GUP(document).ready(function(){var calendarFunction=function(){function TryToLoadCalendar(){window.maxTrying=5;window.BECTryToLoad=setInterval(function(){if(document.querySelector('.bookeucom')!==null&&window.maxTrying>0){new Shortcode(document.querySelector('.bookeucom'),{bookeucom:function(){$GUP('.bookeucom').css('display','block');if(this.options.key!==undefined){var tempApiKey=this.options.key.split('-'),selectedAPI=tempApiKey[0]}
clearInterval(window.BECTryToLoad);return'<div id="beccapp-'+selectedAPI+'" class="'+this.options.class+'"></div>'}},function(options){$GUP.calendarData=options;setTimeout(function(){var options=$GUP.calendarData,selectedCalendars=[],selectedLanguage='auto',selectedAPI='',cssClass='',on_facebook='false',estimated_price='false',estimated_price_to='',useHours='false',selectedServer='www',referral_id=0,fblink='';if(options.key!==undefined){var tempApiKey=options.key.split('-');selectedAPI=tempApiKey[0];selectedServer=tempApiKey[1]}
if(options.class!==undefined){cssClass=options.class}
if(options.calendars!==undefined){selectedCalendars=options.calendars.split(',')}else{selectedCalendars=[]}
if(options.language!==undefined){selectedLanguage=options.language}
if(options.hours!==undefined){useHours=options.hours}
var selectedCalendarsArr=[];for(var i in selectedCalendars){if(selectedCalendars.hasOwnProperty(i)){selectedCalendarsArr[i]=selectedCalendars[i]}}
if(options.facebook!==undefined){on_facebook=options.facebook}
if(options.estimated_price!==undefined){estimated_price=options.estimated_price}
if(options.estimated_price_to!==undefined){estimated_price_to=options.estimated_price_to}
if(options.referral_id!==undefined){referral_id=parseInt(options.referral_id)}
if(options.fblink!==undefined){fblink=options.fblink}
$GUP('#beccapp-'+selectedAPI).wdhBecBooking({'api_key':selectedAPI,'server':selectedServer,'language':selectedLanguage,'location_use':!1,'category_use':!1,'on_facebook':on_facebook,'estimated_price':estimated_price,'estimated_price_to':estimated_price_to,'referral_id':referral_id,'css_class':cssClass,'use_hours':useHours,'fblink':fblink,'selected':selectedCalendarsArr})},1)})}
if(window.maxTrying<1){clearInterval(window.BECTryToLoad)}
window.maxTrying--},300)};TryToLoadCalendar()};calendarFunction()});function daysInMonth(month,year){    return new Date(year,month,0).getDate()}